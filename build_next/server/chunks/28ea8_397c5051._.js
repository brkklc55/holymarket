module.exports=[546152,(e,t,r)=>{!function(t,r){"use strict";function i(e,t){if(!e)throw Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(e||0,t||10,r||"be"))}t.exports=s,s.BN=s,s.wordSize=26;try{h=e.r(500874).Buffer}catch(e){}function o(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void i(!1,"Invalid character in "+e)}function a(e,t,r){var i=o(e,r);return r-1>=t&&(i|=o(e,r-1)<<4),i}function u(e,t,r,n){for(var s=0,o=0,a=Math.min(e.length,r),u=t;u<a;u++){var l=e.charCodeAt(u)-48;s*=n,o=l>=49?l-49+10:l>=17?l-17+10:l,i(l>=0&&o<n,"Invalid character"),s+=o}return s}function l(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(s.isBN=function(e){return e instanceof s||null!==e&&"object"==typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return 0>e.cmp(t)?e:t},s.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),i(t===(0|t)&&t>=2&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<e.length&&(16===t?this._parseHex(e,n,r):(this._parseBase(e,t,n),"le"===r&&this._initArray(this.toArray(),t,r)))},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<0x4000000?(this.words=[0x3ffffff&e],this.length=1):e<0x10000000000000?(this.words=[0x3ffffff&e,e/0x4000000&0x3ffffff],this.length=2):(i(e<0x20000000000000),this.words=[0x3ffffff&e,e/0x4000000&0x3ffffff,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(i("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=Array(this.length);for(var n,s,o=0;o<this.length;o++)this.words[o]=0;var a=0;if("be"===r)for(o=e.length-1,n=0;o>=0;o-=3)s=e[o]|e[o-1]<<8|e[o-2]<<16,this.words[n]|=s<<a&0x3ffffff,this.words[n+1]=s>>>26-a&0x3ffffff,(a+=24)>=26&&(a-=26,n++);else if("le"===r)for(o=0,n=0;o<e.length;o+=3)s=e[o]|e[o+1]<<8|e[o+2]<<16,this.words[n]|=s<<a&0x3ffffff,this.words[n+1]=s>>>26-a&0x3ffffff,(a+=24)>=26&&(a-=26,n++);return this._strip()},s.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=Array(this.length);for(var i,n=0;n<this.length;n++)this.words[n]=0;var s=0,o=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=a(e,t,n)<<s,this.words[o]|=0x3ffffff&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=a(e,t,n)<<s,this.words[o]|=0x3ffffff&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=0x3ffffff;n*=t)i++;i--,n=n/t|0;for(var s=e.length-r,o=s%i,a=Math.min(s,s-o)+r,l=0,c=r;c<a;c+=i)l=u(e,c,c+i,t),this.imuln(n),this.words[0]+l<0x4000000?this.words[0]+=l:this._iaddn(l);if(0!==o){var h=1;for(l=u(e,c,e.length,t),c=0;c<o;c++)h*=t;this.imuln(h),this.words[0]+l<0x4000000?this.words[0]+=l:this._iaddn(l)}this._strip()},s.prototype.copy=function(e){e.words=Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype._move=function(e){l(e,this)},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(e){s.prototype.inspect=c}else s.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h,d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,0x2000000,0x290d741,0x1000000,0x2e90edd,0x39aa400,0x267bf47,0x1000000,0x290d741,1e7,0x12959c3,0x222c000,0x3bd7765,7529536,0xadcea1,0x1000000,0x1704f61,0x206fc40,0x2cddcf9,64e6,4084101,5153632,6436343,7962624,9765625,0xb54ba0,0xdaf26b,0x1069c00,0x138f9ad,243e5,0x1b4d89f,0x2000000,0x25528a1,0x2b54a20,0x3216b93,0x39aa400];function m(e,t,r){r.negative=t.negative^e.negative;var i=e.length+t.length|0;r.length=i,i=i-1|0;var n=0|e.words[0],s=0|t.words[0],o=n*s,a=0x3ffffff&o,u=o/0x4000000|0;r.words[0]=a;for(var l=1;l<i;l++){for(var c=u>>>26,h=0x3ffffff&u,d=Math.min(l,t.length-1),f=Math.max(0,l-e.length+1);f<=d;f++){var p=l-f|0;c+=(o=(n=0|e.words[p])*(s=0|t.words[f])+h)/0x4000000|0,h=0x3ffffff&o}r.words[l]=0|h,u=0|c}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}s.prototype.toString=function(e,t){if(t=0|t||1,16===(e=e||10)||"hex"===e){for(var r="",n=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=((a<<n|s)&0xffffff).toString(16);s=a>>>24-n&0xffffff,(n+=2)>=26&&(n-=26,o--),r=0!==s||o!==this.length-1?d[6-u.length]+u+r:u+r}for(0!==s&&(r=s.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var l=f[e],c=p[e];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var m=h.modrn(c).toString(e);r=(h=h.idivn(c)).isZero()?m+r:d[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=0x4000000*this.words[1]:3===this.length&&1===this.words[2]?e+=0x10000000000000+0x4000000*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16,2)},h&&(s.prototype.toBuffer=function(e,t){return this.toArrayLike(h,e,t)}),s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,r){this._strip();var n=this.byteLength(),s=r||Math.max(1,n);i(n<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0");var o=e.allocUnsafe?e.allocUnsafe(s):new e(s);return this["_toArrayLike"+("le"===t?"LE":"BE")](o,n),o},s.prototype._toArrayLikeLE=function(e,t){for(var r=0,i=0,n=0,s=0;n<this.length;n++){var o=this.words[n]<<s|i;e[r++]=255&o,r<e.length&&(e[r++]=o>>8&255),r<e.length&&(e[r++]=o>>16&255),6===s?(r<e.length&&(e[r++]=o>>24&255),i=0,s=0):(i=o>>>24,s+=2)}if(r<e.length)for(e[r++]=i;r<e.length;)e[r++]=0},s.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,i=0,n=0,s=0;n<this.length;n++){var o=this.words[n]<<s|i;e[r--]=255&o,r>=0&&(e[r--]=o>>8&255),r>=0&&(e[r--]=o>>16&255),6===s?(r>=0&&(e[r--]=o>>24&255),i=0,s=0):(i=o>>>24,s+=2)}if(r>=0)for(e[r--]=i;r>=0;)e[r--]=0},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return(8191&t)==0&&(r+=13,t>>>=13),(127&t)==0&&(r+=7,t>>>=7),(15&t)==0&&(r+=4,t>>>=4),(3&t)==0&&(r+=2,t>>>=2),(1&t)==0&&r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return(this.length-1)*26+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},s.prototype.ior=function(e){return i((this.negative|e.negative)==0),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},s.prototype.iand=function(e){return i((this.negative|e.negative)==0),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){this.length>e.length?(t=this,r=e):(t=e,r=this);for(var t,r,i=0;i<r.length;i++)this.words[i]=t.words[i]^r.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this._strip()},s.prototype.ixor=function(e){return i((this.negative|e.negative)==0),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){i("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var n=0;n<t;n++)this.words[n]=0x3ffffff&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&0x3ffffff>>26-r),this._strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){i("number"==typeof e&&e>=0);var r=e/26|0,n=e%26;return this._expand(r+1),t?this.words[r]=this.words[r]|1<<n:this.words[r]=this.words[r]&~(1<<n),this._strip()},s.prototype.iadd=function(e){if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,i=e):(r=e,i=this);for(var t,r,i,n=0,s=0;s<i.length;s++)t=(0|r.words[s])+(0|i.words[s])+n,this.words[s]=0x3ffffff&t,n=t>>>26;for(;0!==n&&s<r.length;s++)t=(0|r.words[s])+n,this.words[s]=0x3ffffff&t,n=t>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t,r,i=this.iadd(e);return e.negative=1,i._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(t=this,r=e):(t=e,r=this);for(var s=0,o=0;o<r.length;o++)s=(i=(0|t.words[o])-(0|r.words[o])+s)>>26,this.words[o]=0x3ffffff&i;for(;0!==s&&o<t.length;o++)s=(i=(0|t.words[o])+s)>>26,this.words[o]=0x3ffffff&i;if(0===s&&o<t.length&&t!==this)for(;o<t.length;o++)this.words[o]=t.words[o];return this.length=Math.max(this.length,o),t!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,r){var i,n,s,o=e.words,a=t.words,u=r.words,l=0,c=0|o[0],h=8191&c,d=c>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],y=8191&g,b=g>>>13,v=0|o[3],w=8191&v,_=v>>>13,x=0|o[4],S=8191&x,k=x>>>13,E=0|o[5],B=8191&E,A=E>>>13,T=0|o[6],C=8191&T,I=T>>>13,O=0|o[7],M=8191&O,P=O>>>13,R=0|o[8],N=8191&R,L=R>>>13,U=0|o[9],D=8191&U,j=U>>>13,F=0|a[0],z=8191&F,$=F>>>13,Z=0|a[1],q=8191&Z,W=Z>>>13,V=0|a[2],K=8191&V,H=V>>>13,G=0|a[3],Y=8191&G,J=G>>>13,X=0|a[4],Q=8191&X,ee=X>>>13,et=0|a[5],er=8191&et,ei=et>>>13,en=0|a[6],es=8191&en,eo=en>>>13,ea=0|a[7],eu=8191&ea,el=ea>>>13,ec=0|a[8],eh=8191&ec,ed=ec>>>13,ef=0|a[9],ep=8191&ef,em=ef>>>13;r.negative=e.negative^t.negative,r.length=19,i=Math.imul(h,z);var eg=(l+i|0)+((8191&(n=(n=Math.imul(h,$))+Math.imul(d,z)|0))<<13)|0;l=((s=Math.imul(d,$))+(n>>>13)|0)+(eg>>>26)|0,eg&=0x3ffffff,i=Math.imul(p,z),n=(n=Math.imul(p,$))+Math.imul(m,z)|0,s=Math.imul(m,$),i=i+Math.imul(h,q)|0;var ey=(l+i|0)+((8191&(n=(n=n+Math.imul(h,W)|0)+Math.imul(d,q)|0))<<13)|0;l=((s=s+Math.imul(d,W)|0)+(n>>>13)|0)+(ey>>>26)|0,ey&=0x3ffffff,i=Math.imul(y,z),n=(n=Math.imul(y,$))+Math.imul(b,z)|0,s=Math.imul(b,$),i=i+Math.imul(p,q)|0,n=(n=n+Math.imul(p,W)|0)+Math.imul(m,q)|0,s=s+Math.imul(m,W)|0,i=i+Math.imul(h,K)|0;var eb=(l+i|0)+((8191&(n=(n=n+Math.imul(h,H)|0)+Math.imul(d,K)|0))<<13)|0;l=((s=s+Math.imul(d,H)|0)+(n>>>13)|0)+(eb>>>26)|0,eb&=0x3ffffff,i=Math.imul(w,z),n=(n=Math.imul(w,$))+Math.imul(_,z)|0,s=Math.imul(_,$),i=i+Math.imul(y,q)|0,n=(n=n+Math.imul(y,W)|0)+Math.imul(b,q)|0,s=s+Math.imul(b,W)|0,i=i+Math.imul(p,K)|0,n=(n=n+Math.imul(p,H)|0)+Math.imul(m,K)|0,s=s+Math.imul(m,H)|0,i=i+Math.imul(h,Y)|0;var ev=(l+i|0)+((8191&(n=(n=n+Math.imul(h,J)|0)+Math.imul(d,Y)|0))<<13)|0;l=((s=s+Math.imul(d,J)|0)+(n>>>13)|0)+(ev>>>26)|0,ev&=0x3ffffff,i=Math.imul(S,z),n=(n=Math.imul(S,$))+Math.imul(k,z)|0,s=Math.imul(k,$),i=i+Math.imul(w,q)|0,n=(n=n+Math.imul(w,W)|0)+Math.imul(_,q)|0,s=s+Math.imul(_,W)|0,i=i+Math.imul(y,K)|0,n=(n=n+Math.imul(y,H)|0)+Math.imul(b,K)|0,s=s+Math.imul(b,H)|0,i=i+Math.imul(p,Y)|0,n=(n=n+Math.imul(p,J)|0)+Math.imul(m,Y)|0,s=s+Math.imul(m,J)|0,i=i+Math.imul(h,Q)|0;var ew=(l+i|0)+((8191&(n=(n=n+Math.imul(h,ee)|0)+Math.imul(d,Q)|0))<<13)|0;l=((s=s+Math.imul(d,ee)|0)+(n>>>13)|0)+(ew>>>26)|0,ew&=0x3ffffff,i=Math.imul(B,z),n=(n=Math.imul(B,$))+Math.imul(A,z)|0,s=Math.imul(A,$),i=i+Math.imul(S,q)|0,n=(n=n+Math.imul(S,W)|0)+Math.imul(k,q)|0,s=s+Math.imul(k,W)|0,i=i+Math.imul(w,K)|0,n=(n=n+Math.imul(w,H)|0)+Math.imul(_,K)|0,s=s+Math.imul(_,H)|0,i=i+Math.imul(y,Y)|0,n=(n=n+Math.imul(y,J)|0)+Math.imul(b,Y)|0,s=s+Math.imul(b,J)|0,i=i+Math.imul(p,Q)|0,n=(n=n+Math.imul(p,ee)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,ee)|0,i=i+Math.imul(h,er)|0;var e_=(l+i|0)+((8191&(n=(n=n+Math.imul(h,ei)|0)+Math.imul(d,er)|0))<<13)|0;l=((s=s+Math.imul(d,ei)|0)+(n>>>13)|0)+(e_>>>26)|0,e_&=0x3ffffff,i=Math.imul(C,z),n=(n=Math.imul(C,$))+Math.imul(I,z)|0,s=Math.imul(I,$),i=i+Math.imul(B,q)|0,n=(n=n+Math.imul(B,W)|0)+Math.imul(A,q)|0,s=s+Math.imul(A,W)|0,i=i+Math.imul(S,K)|0,n=(n=n+Math.imul(S,H)|0)+Math.imul(k,K)|0,s=s+Math.imul(k,H)|0,i=i+Math.imul(w,Y)|0,n=(n=n+Math.imul(w,J)|0)+Math.imul(_,Y)|0,s=s+Math.imul(_,J)|0,i=i+Math.imul(y,Q)|0,n=(n=n+Math.imul(y,ee)|0)+Math.imul(b,Q)|0,s=s+Math.imul(b,ee)|0,i=i+Math.imul(p,er)|0,n=(n=n+Math.imul(p,ei)|0)+Math.imul(m,er)|0,s=s+Math.imul(m,ei)|0,i=i+Math.imul(h,es)|0;var ex=(l+i|0)+((8191&(n=(n=n+Math.imul(h,eo)|0)+Math.imul(d,es)|0))<<13)|0;l=((s=s+Math.imul(d,eo)|0)+(n>>>13)|0)+(ex>>>26)|0,ex&=0x3ffffff,i=Math.imul(M,z),n=(n=Math.imul(M,$))+Math.imul(P,z)|0,s=Math.imul(P,$),i=i+Math.imul(C,q)|0,n=(n=n+Math.imul(C,W)|0)+Math.imul(I,q)|0,s=s+Math.imul(I,W)|0,i=i+Math.imul(B,K)|0,n=(n=n+Math.imul(B,H)|0)+Math.imul(A,K)|0,s=s+Math.imul(A,H)|0,i=i+Math.imul(S,Y)|0,n=(n=n+Math.imul(S,J)|0)+Math.imul(k,Y)|0,s=s+Math.imul(k,J)|0,i=i+Math.imul(w,Q)|0,n=(n=n+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,ee)|0,i=i+Math.imul(y,er)|0,n=(n=n+Math.imul(y,ei)|0)+Math.imul(b,er)|0,s=s+Math.imul(b,ei)|0,i=i+Math.imul(p,es)|0,n=(n=n+Math.imul(p,eo)|0)+Math.imul(m,es)|0,s=s+Math.imul(m,eo)|0,i=i+Math.imul(h,eu)|0;var eS=(l+i|0)+((8191&(n=(n=n+Math.imul(h,el)|0)+Math.imul(d,eu)|0))<<13)|0;l=((s=s+Math.imul(d,el)|0)+(n>>>13)|0)+(eS>>>26)|0,eS&=0x3ffffff,i=Math.imul(N,z),n=(n=Math.imul(N,$))+Math.imul(L,z)|0,s=Math.imul(L,$),i=i+Math.imul(M,q)|0,n=(n=n+Math.imul(M,W)|0)+Math.imul(P,q)|0,s=s+Math.imul(P,W)|0,i=i+Math.imul(C,K)|0,n=(n=n+Math.imul(C,H)|0)+Math.imul(I,K)|0,s=s+Math.imul(I,H)|0,i=i+Math.imul(B,Y)|0,n=(n=n+Math.imul(B,J)|0)+Math.imul(A,Y)|0,s=s+Math.imul(A,J)|0,i=i+Math.imul(S,Q)|0,n=(n=n+Math.imul(S,ee)|0)+Math.imul(k,Q)|0,s=s+Math.imul(k,ee)|0,i=i+Math.imul(w,er)|0,n=(n=n+Math.imul(w,ei)|0)+Math.imul(_,er)|0,s=s+Math.imul(_,ei)|0,i=i+Math.imul(y,es)|0,n=(n=n+Math.imul(y,eo)|0)+Math.imul(b,es)|0,s=s+Math.imul(b,eo)|0,i=i+Math.imul(p,eu)|0,n=(n=n+Math.imul(p,el)|0)+Math.imul(m,eu)|0,s=s+Math.imul(m,el)|0,i=i+Math.imul(h,eh)|0;var ek=(l+i|0)+((8191&(n=(n=n+Math.imul(h,ed)|0)+Math.imul(d,eh)|0))<<13)|0;l=((s=s+Math.imul(d,ed)|0)+(n>>>13)|0)+(ek>>>26)|0,ek&=0x3ffffff,i=Math.imul(D,z),n=(n=Math.imul(D,$))+Math.imul(j,z)|0,s=Math.imul(j,$),i=i+Math.imul(N,q)|0,n=(n=n+Math.imul(N,W)|0)+Math.imul(L,q)|0,s=s+Math.imul(L,W)|0,i=i+Math.imul(M,K)|0,n=(n=n+Math.imul(M,H)|0)+Math.imul(P,K)|0,s=s+Math.imul(P,H)|0,i=i+Math.imul(C,Y)|0,n=(n=n+Math.imul(C,J)|0)+Math.imul(I,Y)|0,s=s+Math.imul(I,J)|0,i=i+Math.imul(B,Q)|0,n=(n=n+Math.imul(B,ee)|0)+Math.imul(A,Q)|0,s=s+Math.imul(A,ee)|0,i=i+Math.imul(S,er)|0,n=(n=n+Math.imul(S,ei)|0)+Math.imul(k,er)|0,s=s+Math.imul(k,ei)|0,i=i+Math.imul(w,es)|0,n=(n=n+Math.imul(w,eo)|0)+Math.imul(_,es)|0,s=s+Math.imul(_,eo)|0,i=i+Math.imul(y,eu)|0,n=(n=n+Math.imul(y,el)|0)+Math.imul(b,eu)|0,s=s+Math.imul(b,el)|0,i=i+Math.imul(p,eh)|0,n=(n=n+Math.imul(p,ed)|0)+Math.imul(m,eh)|0,s=s+Math.imul(m,ed)|0,i=i+Math.imul(h,ep)|0;var eE=(l+i|0)+((8191&(n=(n=n+Math.imul(h,em)|0)+Math.imul(d,ep)|0))<<13)|0;l=((s=s+Math.imul(d,em)|0)+(n>>>13)|0)+(eE>>>26)|0,eE&=0x3ffffff,i=Math.imul(D,q),n=(n=Math.imul(D,W))+Math.imul(j,q)|0,s=Math.imul(j,W),i=i+Math.imul(N,K)|0,n=(n=n+Math.imul(N,H)|0)+Math.imul(L,K)|0,s=s+Math.imul(L,H)|0,i=i+Math.imul(M,Y)|0,n=(n=n+Math.imul(M,J)|0)+Math.imul(P,Y)|0,s=s+Math.imul(P,J)|0,i=i+Math.imul(C,Q)|0,n=(n=n+Math.imul(C,ee)|0)+Math.imul(I,Q)|0,s=s+Math.imul(I,ee)|0,i=i+Math.imul(B,er)|0,n=(n=n+Math.imul(B,ei)|0)+Math.imul(A,er)|0,s=s+Math.imul(A,ei)|0,i=i+Math.imul(S,es)|0,n=(n=n+Math.imul(S,eo)|0)+Math.imul(k,es)|0,s=s+Math.imul(k,eo)|0,i=i+Math.imul(w,eu)|0,n=(n=n+Math.imul(w,el)|0)+Math.imul(_,eu)|0,s=s+Math.imul(_,el)|0,i=i+Math.imul(y,eh)|0,n=(n=n+Math.imul(y,ed)|0)+Math.imul(b,eh)|0,s=s+Math.imul(b,ed)|0,i=i+Math.imul(p,ep)|0;var eB=(l+i|0)+((8191&(n=(n=n+Math.imul(p,em)|0)+Math.imul(m,ep)|0))<<13)|0;l=((s=s+Math.imul(m,em)|0)+(n>>>13)|0)+(eB>>>26)|0,eB&=0x3ffffff,i=Math.imul(D,K),n=(n=Math.imul(D,H))+Math.imul(j,K)|0,s=Math.imul(j,H),i=i+Math.imul(N,Y)|0,n=(n=n+Math.imul(N,J)|0)+Math.imul(L,Y)|0,s=s+Math.imul(L,J)|0,i=i+Math.imul(M,Q)|0,n=(n=n+Math.imul(M,ee)|0)+Math.imul(P,Q)|0,s=s+Math.imul(P,ee)|0,i=i+Math.imul(C,er)|0,n=(n=n+Math.imul(C,ei)|0)+Math.imul(I,er)|0,s=s+Math.imul(I,ei)|0,i=i+Math.imul(B,es)|0,n=(n=n+Math.imul(B,eo)|0)+Math.imul(A,es)|0,s=s+Math.imul(A,eo)|0,i=i+Math.imul(S,eu)|0,n=(n=n+Math.imul(S,el)|0)+Math.imul(k,eu)|0,s=s+Math.imul(k,el)|0,i=i+Math.imul(w,eh)|0,n=(n=n+Math.imul(w,ed)|0)+Math.imul(_,eh)|0,s=s+Math.imul(_,ed)|0,i=i+Math.imul(y,ep)|0;var eA=(l+i|0)+((8191&(n=(n=n+Math.imul(y,em)|0)+Math.imul(b,ep)|0))<<13)|0;l=((s=s+Math.imul(b,em)|0)+(n>>>13)|0)+(eA>>>26)|0,eA&=0x3ffffff,i=Math.imul(D,Y),n=(n=Math.imul(D,J))+Math.imul(j,Y)|0,s=Math.imul(j,J),i=i+Math.imul(N,Q)|0,n=(n=n+Math.imul(N,ee)|0)+Math.imul(L,Q)|0,s=s+Math.imul(L,ee)|0,i=i+Math.imul(M,er)|0,n=(n=n+Math.imul(M,ei)|0)+Math.imul(P,er)|0,s=s+Math.imul(P,ei)|0,i=i+Math.imul(C,es)|0,n=(n=n+Math.imul(C,eo)|0)+Math.imul(I,es)|0,s=s+Math.imul(I,eo)|0,i=i+Math.imul(B,eu)|0,n=(n=n+Math.imul(B,el)|0)+Math.imul(A,eu)|0,s=s+Math.imul(A,el)|0,i=i+Math.imul(S,eh)|0,n=(n=n+Math.imul(S,ed)|0)+Math.imul(k,eh)|0,s=s+Math.imul(k,ed)|0,i=i+Math.imul(w,ep)|0;var eT=(l+i|0)+((8191&(n=(n=n+Math.imul(w,em)|0)+Math.imul(_,ep)|0))<<13)|0;l=((s=s+Math.imul(_,em)|0)+(n>>>13)|0)+(eT>>>26)|0,eT&=0x3ffffff,i=Math.imul(D,Q),n=(n=Math.imul(D,ee))+Math.imul(j,Q)|0,s=Math.imul(j,ee),i=i+Math.imul(N,er)|0,n=(n=n+Math.imul(N,ei)|0)+Math.imul(L,er)|0,s=s+Math.imul(L,ei)|0,i=i+Math.imul(M,es)|0,n=(n=n+Math.imul(M,eo)|0)+Math.imul(P,es)|0,s=s+Math.imul(P,eo)|0,i=i+Math.imul(C,eu)|0,n=(n=n+Math.imul(C,el)|0)+Math.imul(I,eu)|0,s=s+Math.imul(I,el)|0,i=i+Math.imul(B,eh)|0,n=(n=n+Math.imul(B,ed)|0)+Math.imul(A,eh)|0,s=s+Math.imul(A,ed)|0,i=i+Math.imul(S,ep)|0;var eC=(l+i|0)+((8191&(n=(n=n+Math.imul(S,em)|0)+Math.imul(k,ep)|0))<<13)|0;l=((s=s+Math.imul(k,em)|0)+(n>>>13)|0)+(eC>>>26)|0,eC&=0x3ffffff,i=Math.imul(D,er),n=(n=Math.imul(D,ei))+Math.imul(j,er)|0,s=Math.imul(j,ei),i=i+Math.imul(N,es)|0,n=(n=n+Math.imul(N,eo)|0)+Math.imul(L,es)|0,s=s+Math.imul(L,eo)|0,i=i+Math.imul(M,eu)|0,n=(n=n+Math.imul(M,el)|0)+Math.imul(P,eu)|0,s=s+Math.imul(P,el)|0,i=i+Math.imul(C,eh)|0,n=(n=n+Math.imul(C,ed)|0)+Math.imul(I,eh)|0,s=s+Math.imul(I,ed)|0,i=i+Math.imul(B,ep)|0;var eI=(l+i|0)+((8191&(n=(n=n+Math.imul(B,em)|0)+Math.imul(A,ep)|0))<<13)|0;l=((s=s+Math.imul(A,em)|0)+(n>>>13)|0)+(eI>>>26)|0,eI&=0x3ffffff,i=Math.imul(D,es),n=(n=Math.imul(D,eo))+Math.imul(j,es)|0,s=Math.imul(j,eo),i=i+Math.imul(N,eu)|0,n=(n=n+Math.imul(N,el)|0)+Math.imul(L,eu)|0,s=s+Math.imul(L,el)|0,i=i+Math.imul(M,eh)|0,n=(n=n+Math.imul(M,ed)|0)+Math.imul(P,eh)|0,s=s+Math.imul(P,ed)|0,i=i+Math.imul(C,ep)|0;var eO=(l+i|0)+((8191&(n=(n=n+Math.imul(C,em)|0)+Math.imul(I,ep)|0))<<13)|0;l=((s=s+Math.imul(I,em)|0)+(n>>>13)|0)+(eO>>>26)|0,eO&=0x3ffffff,i=Math.imul(D,eu),n=(n=Math.imul(D,el))+Math.imul(j,eu)|0,s=Math.imul(j,el),i=i+Math.imul(N,eh)|0,n=(n=n+Math.imul(N,ed)|0)+Math.imul(L,eh)|0,s=s+Math.imul(L,ed)|0,i=i+Math.imul(M,ep)|0;var eM=(l+i|0)+((8191&(n=(n=n+Math.imul(M,em)|0)+Math.imul(P,ep)|0))<<13)|0;l=((s=s+Math.imul(P,em)|0)+(n>>>13)|0)+(eM>>>26)|0,eM&=0x3ffffff,i=Math.imul(D,eh),n=(n=Math.imul(D,ed))+Math.imul(j,eh)|0,s=Math.imul(j,ed),i=i+Math.imul(N,ep)|0;var eP=(l+i|0)+((8191&(n=(n=n+Math.imul(N,em)|0)+Math.imul(L,ep)|0))<<13)|0;l=((s=s+Math.imul(L,em)|0)+(n>>>13)|0)+(eP>>>26)|0,eP&=0x3ffffff,i=Math.imul(D,ep);var eR=(l+i|0)+((8191&(n=(n=Math.imul(D,em))+Math.imul(j,ep)|0))<<13)|0;return l=((s=Math.imul(j,em))+(n>>>13)|0)+(eR>>>26)|0,eR&=0x3ffffff,u[0]=eg,u[1]=ey,u[2]=eb,u[3]=ev,u[4]=ew,u[5]=e_,u[6]=ex,u[7]=eS,u[8]=ek,u[9]=eE,u[10]=eB,u[11]=eA,u[12]=eT,u[13]=eC,u[14]=eI,u[15]=eO,u[16]=eM,u[17]=eP,u[18]=eR,0!==l&&(u[19]=l,r.length++),r};function y(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var i=0,n=0,s=0;s<r.length-1;s++){var o=n;n=0;for(var a=0x3ffffff&i,u=Math.min(s,t.length-1),l=Math.max(0,s-e.length+1);l<=u;l++){var c=s-l,h=(0|e.words[c])*(0|t.words[l]),d=0x3ffffff&h;o=o+(h/0x4000000|0)|0,a=0x3ffffff&(d=d+a|0),n+=(o=o+(d>>>26)|0)>>>26,o&=0x3ffffff}r.words[s]=a,i=o,o=n}return 0!==i?r.words[s]=i:r.length--,r._strip()}function b(e,t){this.x=e,this.y=t}Math.imul||(g=m),s.prototype.mulTo=function(e,t){var r,i=this.length+e.length;return 10===this.length&&10===e.length?r=g(this,e,t):i<63?r=m(this,e,t):r=y(this,e,t),r},b.prototype.makeRBT=function(e){for(var t=Array(e),r=s.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var i=0,n=0;n<t;n++)i|=(1&e)<<t-n-1,e>>=1;return i},b.prototype.permute=function(e,t,r,i,n,s){for(var o=0;o<s;o++)i[o]=t[e[o]],n[o]=r[e[o]]},b.prototype.transform=function(e,t,r,i,n,s){this.permute(s,e,t,r,i,n);for(var o=1;o<n;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),c=0;c<n;c+=a)for(var h=u,d=l,f=0;f<o;f++){var p=r[c+f],m=i[c+f],g=r[c+f+o],y=i[c+f+o],b=h*g-d*y;y=h*y+d*g,g=b,r[c+f]=p+g,i[c+f]=m+y,r[c+f+o]=p-g,i[c+f+o]=m-y,f!==a&&(b=u*h-l*d,d=u*d+l*h,h=b)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=e[i];e[i]=e[r-i-1],e[r-i-1]=n,n=t[i],t[i]=-t[r-i-1],t[r-i-1]=-n}},b.prototype.normalize13b=function(e,t){for(var r=0,i=0;i<t/2;i++){var n=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+r;e[i]=0x3ffffff&n,r=n<0x4000000?0:n/0x4000000|0}return e},b.prototype.convert13b=function(e,t,r,n){for(var s=0,o=0;o<t;o++)s+=0|e[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<n;++o)r[o]=0;i(0===s),i((-8192&s)==0)},b.prototype.stub=function(e){for(var t=Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){var i=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(i),s=this.stub(i),o=Array(i),a=Array(i),u=Array(i),l=Array(i),c=Array(i),h=Array(i),d=r.words;d.length=i,this.convert13b(e.words,e.length,o,i),this.convert13b(t.words,t.length,l,i),this.transform(o,s,a,u,i,n),this.transform(l,s,c,h,i,n);for(var f=0;f<i;f++){var p=a[f]*c[f]-u[f]*h[f];u[f]=a[f]*h[f]+u[f]*c[f],a[f]=p}return this.conjugate(a,u,i),this.transform(a,u,d,s,i,n),this.conjugate(d,s,i),this.normalize13b(d,i),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=Array(this.length+e.length),y(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){var t=e<0;t&&(e=-e),i("number"==typeof e),i(e<0x4000000);for(var r=0,n=0;n<this.length;n++){var s=(0|this.words[n])*e,o=(0x3ffffff&s)+(0x3ffffff&r);r>>=26,r+=(s/0x4000000|0)+(o>>>26),this.words[n]=0x3ffffff&o}return 0!==r&&(this.words[n]=r,this.length++),this.length=0===e?1:this.length,t?this.ineg():this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=Array(e.bitLength()),r=0;r<t.length;r++){var i=r/26|0,n=r%26;t[r]=e.words[i]>>>n&1}return t}(e);if(0===t.length)return new s(1);for(var r=this,i=0;i<t.length&&0===t[i];i++,r=r.sqr());if(++i<t.length)for(var n=r.sqr();i<t.length;i++,n=n.sqr())0!==t[i]&&(r=r.mul(n));return r},s.prototype.iushln=function(e){i("number"==typeof e&&e>=0);var t,r=e%26,n=(e-r)/26,s=0x3ffffff>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,u=(0|this.words[t])-a<<r;this.words[t]=u|o,o=a>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==n){for(t=this.length-1;t>=0;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this._strip()},s.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){i("number"==typeof e&&e>=0);var n=t?(t-t%26)/26:0,s=e%26,o=Math.min((e-s)/26,this.length),a=0x3ffffff^0x3ffffff>>>s<<s;if(n-=o,n=Math.max(0,n),r){for(var u=0;u<o;u++)r.words[u]=this.words[u];r.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=n);u--){var c=0|this.words[u];this.words[u]=l<<26-s|c>>>s,l=c&a}return r&&0!==l&&(r.words[r.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(e,t,r){return i(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){i("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;return!(this.length<=r)&&!!(this.words[r]&1<<t)},s.prototype.imaskn=function(e){i("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;return(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)?this:(0!==t&&r++,this.length=Math.min(r,this.length),0!==t&&(this.words[this.length-1]&=0x3ffffff^0x3ffffff>>>t<<t),this._strip())},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return(i("number"==typeof e),i(e<0x4000000),e<0)?this.isubn(-e):0!==this.negative?(1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(e),this.negative=1),this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=0x4000000;t++)this.words[t]-=0x4000000,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(i("number"==typeof e),i(e<0x4000000),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=0x4000000,this.words[t+1]-=1;return this._strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var n,s,o=e.length+r;this._expand(o);var a=0;for(n=0;n<e.length;n++){s=(0|this.words[n+r])+a;var u=(0|e.words[n])*t;s-=0x3ffffff&u,a=(s>>26)-(u/0x4000000|0),this.words[n+r]=0x3ffffff&s}for(;n<this.length-r;n++)a=(s=(0|this.words[n+r])+a)>>26,this.words[n+r]=0x3ffffff&s;if(0===a)return this._strip();for(i(-1===a),a=0,n=0;n<this.length;n++)a=(s=-(0|this.words[n])+a)>>26,this.words[n]=0x3ffffff&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(e,t){var r,i=this.length-e.length,n=this.clone(),o=e,a=0|o.words[o.length-1];0!=(i=26-this._countBits(a))&&(o=o.ushln(i),n.iushln(i),a=0|o.words[o.length-1]);var u=n.length-o.length;if("mod"!==t){(r=new s(null)).length=u+1,r.words=Array(r.length);for(var l=0;l<r.length;l++)r.words[l]=0}var c=n.clone()._ishlnsubmul(o,1,u);0===c.negative&&(n=c,r&&(r.words[u]=1));for(var h=u-1;h>=0;h--){var d=(0|n.words[o.length+h])*0x4000000+(0|n.words[o.length+h-1]);for(d=Math.min(d/a|0,0x3ffffff),n._ishlnsubmul(o,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(o,1,h),n.isZero()||(n.negative^=1);r&&(r.words[h]=d)}return r&&r._strip(),n._strip(),"div"!==t&&0!==i&&n.iushrn(i),{div:r||null,mod:n}},s.prototype.divmod=function(e,t,r){var n,o,a;return(i(!e.isZero()),this.isZero())?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(n=a.div.neg()),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:n,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(n=a.div.neg()),{div:n,mod:a.mod}):(this.negative&e.negative)!=0?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||0>this.cmp(e)?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modrn(e.words[0]))}:this._wordDiv(e,t)},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),n=e.andln(1),s=r.cmp(i);return s<0||1===n&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modrn=function(e){var t=e<0;t&&(e=-e),i(e<=0x3ffffff);for(var r=0x4000000%e,n=0,s=this.length-1;s>=0;s--)n=(r*n+(0|this.words[s]))%e;return t?-n:n},s.prototype.modn=function(e){return this.modrn(e)},s.prototype.idivn=function(e){var t=e<0;t&&(e=-e),i(e<=0x3ffffff);for(var r=0,n=this.length-1;n>=0;n--){var s=(0|this.words[n])+0x4000000*r;this.words[n]=s/e|0,r=s%e}return this._strip(),t?this.ineg():this},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new s(1),o=new s(0),a=new s(0),u=new s(1),l=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++l;for(var c=r.clone(),h=t.clone();!t.isZero();){for(var d=0,f=1;(t.words[0]&f)==0&&d<26;++d,f<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(n.isOdd()||o.isOdd())&&(n.iadd(c),o.isub(h)),n.iushrn(1),o.iushrn(1);for(var p=0,m=1;(r.words[0]&m)==0&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(h)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),n.isub(a),o.isub(u)):(r.isub(t),a.isub(n),u.isub(o))}return{a:a,b:u,gcd:r.iushln(l)}},s.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t,r=this,n=e.clone();r=0!==r.negative?r.umod(e):r.clone();for(var o=new s(1),a=new s(0),u=n.clone();r.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,c=1;(r.words[0]&c)==0&&l<26;++l,c<<=1);if(l>0)for(r.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,d=1;(n.words[0]&d)==0&&h<26;++h,d<<=1);if(h>0)for(n.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);r.cmp(n)>=0?(r.isub(n),o.isub(a)):(n.isub(r),a.isub(o))}return 0>(t=0===r.cmpn(1)?o:a).cmpn(0)&&t.iadd(e),t},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var i=0;t.isEven()&&r.isEven();i++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=t.cmp(r);if(n<0){var s=t;t=r,r=s}else if(0===n||0===r.cmpn(1))break;t.isub(r)}return r.iushln(i)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return(1&this.words[0])==0},s.prototype.isOdd=function(){return(1&this.words[0])==1},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){i("number"==typeof e);var t=e%26,r=(e-t)/26,n=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var s=n,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];a+=s,s=a>>>26,a&=0x3ffffff,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return -1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),i(e<=0x3ffffff,"Number is too big");var n=0|this.words[0];t=n===e?0:n<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return -1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return -1;for(var t=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|e.words[r];if(i!==n){i<n?t=-1:i>n&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return -1===this.cmpn(e)},s.prototype.lt=function(e){return -1===this.cmp(e)},s.prototype.lten=function(e){return 0>=this.cmpn(e)},s.prototype.lte=function(e){return 0>=this.cmp(e)},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new E(e)},s.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function w(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function x(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function B(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var e=new s(null);return e.words=Array(Math.ceil(this.n/13)),e},w.prototype.ireduce=function(e){var t,r=e;do this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(t>this.n)var i=t<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(e,t){e.iushrn(this.n,0,t)},w.prototype.imulK=function(e){return e.imul(this.k)},n(_,w),_.prototype.split=function(e,t){for(var r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9){e.words[0]=0,e.length=1;return}var n=e.words[9];for(i=10,t.words[t.length++]=4194303&n;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(4194303&s)<<4|n>>>22,n=s}n>>>=22,e.words[i-10]=n,0===n&&e.length>10?e.length-=10:e.length-=9},_.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var i=0|e.words[r];t+=977*i,e.words[r]=0x3ffffff&t,t=64*i+(t/0x4000000|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(x,w),n(S,w),n(k,w),k.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var i=(0|e.words[r])*19+t,n=0x3ffffff&i;i>>>=26,e.words[r]=n,t=i}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){var t;if(v[e])return v[e];if("k256"===e)t=new _;else if("p224"===e)t=new x;else if("p192"===e)t=new S;else if("p25519"===e)t=new k;else throw Error("Unknown prime "+e);return v[e]=t,t},E.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){i((e.negative|t.negative)==0,"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(l(e,e.umod(this.m)._forceRed(this)),e)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2==1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var n=this.m.subn(1),o=0;!n.isZero()&&0===n.andln(1);)o++,n.iushrn(1);i(!n.isZero());var a=new s(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var h=this.pow(c,n),d=this.pow(e,n.addn(1).iushrn(1)),f=this.pow(e,n),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();i(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));d=d.redMul(y),h=y.redSqr(),f=f.redMul(h),p=g}return d},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],e);var n=r[0],o=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),i=t.length-1;i>=0;i--){for(var l=t.words[i],c=u-1;c>=0;c--){var h=l>>c&1;if(n!==r[0]&&(n=this.sqr(n)),0===h&&0===o){a=0;continue}o<<=1,o|=h,(4==++a||0===i&&0===c)&&(n=this.mul(n,r[o]),a=0,o=0)}u=26}return n},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new B(e)},n(B,E),B.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},B.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},B.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):0>n.cmpn(0)&&(s=n.iadd(this.m)),s._forceRed(this)},B.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):0>n.cmpn(0)&&(o=n.iadd(this.m)),o._forceRed(this)},B.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,e.e)},588360,(e,t,r)=>{var i=e.r(500874),n=i.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=i:(s(i,r),r.Buffer=o),o.prototype=Object.create(n.prototype),s(n,o),o.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return n(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i.SlowBuffer(e)}},702192,(e,t,r)=>{"use strict";var i=e.r(588360).Buffer;t.exports=function(e){if(e.length>=255)throw TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),o=s.charCodeAt(0);if(255!==t[o])throw TypeError(s+" is ambiguous");t[o]=n}var a=e.length,u=e.charAt(0),l=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return i.alloc(0);for(var r=0,n=0,s=0;e[r]===u;)n++,r++;for(var o=(e.length-r)*l+1>>>0,c=new Uint8Array(o);r<e.length;){var h=e.charCodeAt(r);if(h>255)return;var d=t[h];if(255===d)return;for(var f=0,p=o-1;(0!==d||f<s)&&-1!==p;p--,f++)d+=a*c[p]>>>0,c[p]=d%256>>>0,d=d/256>>>0;if(0!==d)throw Error("Non-zero carry");s=f,r++}for(var m=o-s;m!==o&&0===c[m];)m++;var g=i.allocUnsafe(n+(o-m));g.fill(0,0,n);for(var y=n;m!==o;)g[y++]=c[m++];return g}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=i.from(t)),!i.isBuffer(t))throw TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,n=0,s=0,o=t.length;s!==o&&0===t[s];)s++,r++;for(var l=(o-s)*c+1>>>0,h=new Uint8Array(l);s!==o;){for(var d=t[s],f=0,p=l-1;(0!==d||f<n)&&-1!==p;p--,f++)d+=256*h[p]>>>0,h[p]=d%a>>>0,d=d/a>>>0;if(0!==d)throw Error("Non-zero carry");n=f,s++}for(var m=l-n;m!==l&&0===h[m];)m++;for(var g=u.repeat(r);m<l;++m)g+=e.charAt(h[m]);return g},decodeUnsafe:h,decode:function(e){var t=h(e);if(t)return t;throw Error("Non-base"+a+" character")}}}},362682,(e,t,r)=>{t.exports=e.r(702192)("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},414996,(e,t,r)=>{"use strict";function i(e,t,r){return t<=e&&e<=r}function n(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function s(e){this.tokens=[].slice.call(e)}function o(e,t){if(e)throw TypeError("Decoder error");return t||65533}s.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(;e.length;)this.tokens.push(e.shift());else this.tokens.push(e)}};var a="utf-8";function u(e,t){if(!(this instanceof u))return new u(e,t);if((e=void 0!==e?String(e).toLowerCase():a)!==a)throw Error("Encoding not supported. Only utf-8 is supported");t=n(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function l(e,t){if(!(this instanceof l))return new l(e,t);if((e=void 0!==e?String(e).toLowerCase():a)!==a)throw Error("Encoding not supported. Only utf-8 is supported");t=n(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}function c(e){var t=e.fatal,r=0,n=0,s=0,a=128,u=191;this.handler=function(e,l){if(-1===l&&0!==s)return s=0,o(t);if(-1===l)return -1;if(0===s){if(i(l,0,127))return l;if(i(l,194,223))s=1,r=l-192;else if(i(l,224,239))224===l&&(a=160),237===l&&(u=159),s=2,r=l-224;else{if(!i(l,240,244))return o(t);240===l&&(a=144),244===l&&(u=143),s=3,r=l-240}return r<<=6*s,null}if(!i(l,a,u))return r=s=n=0,a=128,u=191,e.prepend(l),o(t);if(a=128,u=191,n+=1,r+=l-128<<6*(s-n),n!==s)return null;var c=r;return r=s=n=0,c}}function h(e){e.fatal,this.handler=function(e,t){if(-1===t)return -1;if(i(t,0,127))return t;i(t,128,2047)?(r=1,n=192):i(t,2048,65535)?(r=2,n=224):i(t,65536,1114111)&&(r=3,n=240);for(var r,n,s=[(t>>6*r)+n];r>0;){var o=t>>6*(r-1);s.push(128|63&o),r-=1}return s}}u.prototype={decode:function(e,t){r="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=n(t),this._streaming||(this._decoder=new c({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var r,i,o=new s(r),a=[];!o.endOfStream()&&-1!==(i=this._decoder.handler(o,o.read()));)null!==i&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));if(!this._streaming){do{if(-1===(i=this._decoder.handler(o,o.read())))break;if(null===i)continue;Array.isArray(i)?a.push.apply(a,i):a.push(i)}while(!o.endOfStream())this._decoder=null}!a.length||-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===a[0]?(this._BOMseen=!0,a.shift()):this._BOMseen=!0);for(var u="",l=0;l<a.length;++l){var h=a[l];h<=65535?u+=String.fromCharCode(h):(h-=65536,u+=String.fromCharCode((h>>10)+55296,(1023&h)+56320))}return u}},l.prototype={encode:function(e,t){e=e?String(e):"",t=n(t),this._streaming||(this._encoder=new h(this._options)),this._streaming=!!t.stream;for(var r,i=[],o=new s(function(e){for(var t=String(e),r=t.length,i=0,n=[];i<r;){var s=t.charCodeAt(i);if(s<55296||s>57343)n.push(s);else if(56320<=s&&s<=57343)n.push(65533);else if(55296<=s&&s<=56319)if(i===r-1)n.push(65533);else{var o=e.charCodeAt(i+1);if(56320<=o&&o<=57343){var a=1023&s,u=1023&o;n.push(65536+(a<<10)+u),i+=1}else n.push(65533)}i+=1}return n}(e));!o.endOfStream()&&-1!==(r=this._encoder.handler(o,o.read()));)Array.isArray(r)?i.push.apply(i,r):i.push(r);if(!this._streaming){for(;-1!==(r=this._encoder.handler(o,o.read()));)Array.isArray(r)?i.push.apply(i,r):i.push(r);this._encoder=null}return new Uint8Array(i)}},r.TextEncoder=l,r.TextDecoder=u},55128,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},o=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t},a=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeUnchecked=r.deserialize=r.serialize=r.BinaryReader=r.BinaryWriter=r.BorshError=r.baseDecode=r.baseEncode=void 0;let u=a(e.r(546152)),l=a(e.r(362682)),c=o(e.r(414996)),h=new("function"!=typeof TextDecoder?c.TextDecoder:TextDecoder)("utf-8",{fatal:!0});r.baseEncode=function(e){return"string"==typeof e&&(e=Buffer.from(e,"utf8")),l.default.encode(Buffer.from(e))},r.baseDecode=function(e){return Buffer.from(l.default.decode(e))};class d extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}r.BorshError=d;class f{constructor(){this.buf=Buffer.alloc(1024),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(1024)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new u.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new u.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new u.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new u.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(1024)]),this.length+=e.length}writeString(e){this.maybeResize();let t=Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,t){for(let r of(this.maybeResize(),this.writeU32(e.length),e))this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}function p(e,t,r){let i=r.value;r.value=function(...e){try{return i.apply(this,e)}catch(e){if(e instanceof RangeError&&["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e.code)>=0)throw new d("Reached the end of buffer when deserializing");throw e}}}r.BinaryWriter=f;class m{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new u.default(e,"le")}readU128(){let e=this.readBuffer(16);return new u.default(e,"le")}readU256(){let e=this.readBuffer(32);return new u.default(e,"le")}readU512(){let e=this.readBuffer(64);return new u.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new d(`Expected buffer length ${e} isn't within bounds`);let t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){let e=this.readU32(),t=this.readBuffer(e);try{return h.decode(t)}catch(e){throw new d(`Error decoding UTF-8 string: ${e}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let t=this.readU32(),r=[];for(let i=0;i<t;++i)r.push(e());return r}}function g(e){return e.charAt(0).toUpperCase()+e.slice(1)}function y(e,t,r,i,n){try{if("string"==typeof i)n[`write${g(i)}`](r);else if(i instanceof Array)if("number"==typeof i[0]){if(r.length!==i[0])throw new d(`Expecting byte array of length ${i[0]}, but got ${r.length} bytes`);n.writeFixedArray(r)}else if(2===i.length&&"number"==typeof i[1]){if(r.length!==i[1])throw new d(`Expecting byte array of length ${i[1]}, but got ${r.length} bytes`);for(let t=0;t<i[1];t++)y(e,null,r[t],i[0],n)}else n.writeArray(r,r=>{y(e,t,r,i[0],n)});else if(void 0!==i.kind)switch(i.kind){case"option":null==r?n.writeU8(0):(n.writeU8(1),y(e,t,r,i.type,n));break;case"map":n.writeU32(r.size),r.forEach((r,s)=>{y(e,t,s,i.key,n),y(e,t,r,i.value,n)});break;default:throw new d(`FieldType ${i} unrecognized`)}else b(e,r,n)}catch(e){throw e instanceof d&&e.addToFieldPath(t),e}}function b(e,t,r){if("function"==typeof t.borshSerialize)return void t.borshSerialize(r);let i=e.get(t.constructor);if(!i)throw new d(`Class ${t.constructor.name} is missing in schema`);if("struct"===i.kind)i.fields.map(([i,n])=>{y(e,i,t[i],n,r)});else if("enum"===i.kind){let n=t[i.field];for(let s=0;s<i.values.length;++s){let[o,a]=i.values[s];if(o===n){r.writeU8(s),y(e,o,t[o],a,r);break}}}else throw new d(`Unexpected schema kind: ${i.kind} for ${t.constructor.name}`)}function v(e,t,r,i){try{if("string"==typeof r)return i[`read${g(r)}`]();if(r instanceof Array)if("number"==typeof r[0])return i.readFixedArray(r[0]);else{if("number"!=typeof r[1])return i.readArray(()=>v(e,t,r[0],i));let n=[];for(let t=0;t<r[1];t++)n.push(v(e,null,r[0],i));return n}if("option"===r.kind){if(i.readU8())return v(e,t,r.type,i);return}if("map"===r.kind){let n=new Map,s=i.readU32();for(let o=0;o<s;o++){let s=v(e,t,r.key,i),o=v(e,t,r.value,i);n.set(s,o)}return n}return w(e,r,i)}catch(e){throw e instanceof d&&e.addToFieldPath(t),e}}function w(e,t,r){if("function"==typeof t.borshDeserialize)return t.borshDeserialize(r);let i=e.get(t);if(!i)throw new d(`Class ${t.name} is missing in schema`);if("struct"===i.kind){let i={};for(let[n,s]of e.get(t).fields)i[n]=v(e,n,s,r);return new t(i)}if("enum"===i.kind){let n=r.readU8();if(n>=i.values.length)throw new d(`Enum index: ${n} is out of range`);let[s,o]=i.values[n],a=v(e,s,o,r);return new t({[s]:a})}throw new d(`Unexpected schema kind: ${i.kind} for ${t.constructor.name}`)}s([p],m.prototype,"readU8",null),s([p],m.prototype,"readU16",null),s([p],m.prototype,"readU32",null),s([p],m.prototype,"readU64",null),s([p],m.prototype,"readU128",null),s([p],m.prototype,"readU256",null),s([p],m.prototype,"readU512",null),s([p],m.prototype,"readString",null),s([p],m.prototype,"readFixedArray",null),s([p],m.prototype,"readArray",null),r.BinaryReader=m,r.serialize=function(e,t,r=f){let i=new r;return b(e,t,i),i.toArray()},r.deserialize=function(e,t,r,i=m){let n=new i(r),s=w(e,t,n);if(n.offset<r.length)throw new d(`Unexpected ${r.length-n.offset} bytes after deserialized data`);return s},r.deserializeUnchecked=function(e,t,r,i=m){return w(e,t,new i(r))}},564789,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.s16=r.s8=r.nu64be=r.u48be=r.u40be=r.u32be=r.u24be=r.u16be=r.nu64=r.u48=r.u40=r.u32=r.u24=r.u16=r.u8=r.offset=r.greedy=r.Constant=r.UTF8=r.CString=r.Blob=r.Boolean=r.BitField=r.BitStructure=r.VariantLayout=r.Union=r.UnionLayoutDiscriminator=r.UnionDiscriminator=r.Structure=r.Sequence=r.DoubleBE=r.Double=r.FloatBE=r.Float=r.NearInt64BE=r.NearInt64=r.NearUInt64BE=r.NearUInt64=r.IntBE=r.Int=r.UIntBE=r.UInt=r.OffsetLayout=r.GreedyCount=r.ExternalLayout=r.bindConstructorLayout=r.nameWithProperty=r.Layout=r.uint8ArrayToBuffer=r.checkUint8Array=void 0,r.constant=r.utf8=r.cstr=r.blob=r.unionLayoutDiscriminator=r.union=r.seq=r.bits=r.struct=r.f64be=r.f64=r.f32be=r.f32=r.ns64be=r.s48be=r.s40be=r.s32be=r.s24be=r.s16be=r.ns64=r.s48=r.s40=r.s32=r.s24=void 0;let i=e.r(500874);function n(e){if(!(e instanceof Uint8Array))throw TypeError("b must be a Uint8Array")}function s(e){return n(e),i.Buffer.from(e.buffer,e.byteOffset,e.length)}r.checkUint8Array=n,r.uint8ArrayToBuffer=s;class o{constructor(e,t){if(!Number.isInteger(e))throw TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function a(e,t){return t.property?e+"["+t.property+"]":e}r.Layout=o,r.nameWithProperty=a,r.bindConstructorLayout=function(e,t){if("function"!=typeof e)throw TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw Error("Class is already bound to a layout");if(!(t&&t instanceof o))throw TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(e,r){return t.encode(this,e,r)},writable:!0}),Object.defineProperty(e,"decode",{value:(e,r)=>t.decode(e,r),writable:!0})};class u extends o{isCount(){throw Error("ExternalLayout is abstract")}}r.ExternalLayout=u;class l extends u{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){return n(e),Math.floor((e.length-t)/this.elementSpan)}encode(e,t,r){return 0}}r.GreedyCount=l;class c extends u{constructor(e,t=0,r){if(!(e instanceof o))throw TypeError("layout must be a Layout");if(!Number.isInteger(t))throw TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof h||this.layout instanceof d}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}}r.OffsetLayout=c;class h extends o{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readUIntLE(t,this.span)}encode(e,t,r=0){return s(t).writeUIntLE(e,r,this.span),this.span}}r.UInt=h;class d extends o{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readUIntBE(t,this.span)}encode(e,t,r=0){return s(t).writeUIntBE(e,r,this.span),this.span}}r.UIntBE=d;class f extends o{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readIntLE(t,this.span)}encode(e,t,r=0){return s(t).writeIntLE(e,r,this.span),this.span}}r.Int=f;class p extends o{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readIntBE(t,this.span)}encode(e,t,r=0){return s(t).writeIntBE(e,r,this.span),this.span}}function m(e){let t=Math.floor(e/0x100000000);return{hi32:t,lo32:e-0x100000000*t}}function g(e,t){return 0x100000000*e+t}r.IntBE=p;class y extends o{constructor(e){super(8,e)}decode(e,t=0){let r=s(e),i=r.readUInt32LE(t);return g(r.readUInt32LE(t+4),i)}encode(e,t,r=0){let i=m(e),n=s(t);return n.writeUInt32LE(i.lo32,r),n.writeUInt32LE(i.hi32,r+4),8}}r.NearUInt64=y;class b extends o{constructor(e){super(8,e)}decode(e,t=0){let r=s(e);return g(r.readUInt32BE(t),r.readUInt32BE(t+4))}encode(e,t,r=0){let i=m(e),n=s(t);return n.writeUInt32BE(i.hi32,r),n.writeUInt32BE(i.lo32,r+4),8}}r.NearUInt64BE=b;class v extends o{constructor(e){super(8,e)}decode(e,t=0){let r=s(e),i=r.readUInt32LE(t);return g(r.readInt32LE(t+4),i)}encode(e,t,r=0){let i=m(e),n=s(t);return n.writeUInt32LE(i.lo32,r),n.writeInt32LE(i.hi32,r+4),8}}r.NearInt64=v;class w extends o{constructor(e){super(8,e)}decode(e,t=0){let r=s(e);return g(r.readInt32BE(t),r.readUInt32BE(t+4))}encode(e,t,r=0){let i=m(e),n=s(t);return n.writeInt32BE(i.hi32,r),n.writeUInt32BE(i.lo32,r+4),8}}r.NearInt64BE=w;class _ extends o{constructor(e){super(4,e)}decode(e,t=0){return s(e).readFloatLE(t)}encode(e,t,r=0){return s(t).writeFloatLE(e,r),4}}r.Float=_;class x extends o{constructor(e){super(4,e)}decode(e,t=0){return s(e).readFloatBE(t)}encode(e,t,r=0){return s(t).writeFloatBE(e,r),4}}r.FloatBE=x;class S extends o{constructor(e){super(8,e)}decode(e,t=0){return s(e).readDoubleLE(t)}encode(e,t,r=0){return s(t).writeDoubleLE(e,r),8}}r.Double=S;class k extends o{constructor(e){super(8,e)}decode(e,t=0){return s(e).readDoubleBE(t)}encode(e,t,r=0){return s(t).writeDoubleBE(e,r),8}}r.DoubleBE=k;class E extends o{constructor(e,t,r){if(!(e instanceof o))throw TypeError("elementLayout must be a Layout");if(!(t instanceof u&&t.isCount()||Number.isInteger(t)&&0<=t))throw TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;t instanceof u||!(0<e.span)||(i=t*e.span),super(i,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof u&&(i=i.decode(e,t)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let n=0;for(;n<i;)r+=this.elementLayout.getSpan(e,t+r),++n}return r}decode(e,t=0){let r=[],i=0,n=this.count;for(n instanceof u&&(n=n.decode(e,t));i<n;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),i+=1;return r}encode(e,t,r=0){let i=this.elementLayout,n=e.reduce((e,n)=>e+i.encode(n,t,r+e),0);return this.count instanceof u&&this.count.encode(e.length,t,r),n}}r.Sequence=E;class B extends o{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((e,t)=>e&&t instanceof o,!0)))throw TypeError("fields must be array of Layout instances");for(const i of("boolean"==typeof t&&void 0===r&&(r=t,t=void 0),e))if(0>i.span&&void 0===i.property)throw Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((e,t)=>e+t.getSpan(),0)}catch(e){}super(i,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((r,i)=>{let n=i.getSpan(e,t);return t+=n,r+n},0)}catch(e){throw RangeError("indeterminate span")}return r}decode(e,t=0){n(e);let r=this.makeDestinationObject();for(let i of this.fields)if(void 0!==i.property&&(r[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){let i=r,n=0,s=0;for(let i of this.fields){let o=i.span;if(s=0<o?o:0,void 0!==i.property){let n=e[i.property];void 0!==n&&(s=i.encode(n,t,r),0>o&&(o=i.getSpan(t,r)))}n=r,r+=o}return n+s-i}fromArray(e){let t=this.makeDestinationObject();for(let r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw TypeError("property must be string");let t=0;for(let r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}r.Structure=B;class A{constructor(e){this.property=e}decode(e,t){throw Error("UnionDiscriminator is abstract")}encode(e,t,r){throw Error("UnionDiscriminator is abstract")}}r.UnionDiscriminator=A;class T extends A{constructor(e,t){if(!(e instanceof u&&e.isCount()))throw TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}r.UnionLayoutDiscriminator=T;class C extends o{constructor(e,t,r){let i;if(e instanceof h||e instanceof d)i=new T(new c(e));else if(e instanceof u&&e.isCount())i=new T(e);else if(e instanceof A)i=e;else throw TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof o))throw TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let n=-1;t&&0<=(n=t.span)&&(e instanceof h||e instanceof d)&&(n+=i.layout.span),super(n,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof h||e instanceof d,this.defaultLayout=t,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return s(e)},this.configGetSourceVariant=function(e){s=e.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;let r=this.getVariant(e,t);if(!r)throw Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(let t in this.registry){let r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw Error("unable to infer src variant")}decode(e,t=0){let r,i=this.discriminator,n=i.decode(e,t),s=this.registry[n];if(void 0===s){let s=this.defaultLayout,o=0;this.usesPrefixDiscriminator&&(o=i.layout.span),(r=this.makeDestinationObject())[i.property]=n,r[s.property]=s.decode(e,t+o)}else r=s.decode(e,t);return r}encode(e,t,r=0){let i=this.getSourceVariant(e);if(void 0===i){let i=this.discriminator,n=this.defaultLayout,s=0;return this.usesPrefixDiscriminator&&(s=i.layout.span),i.encode(e[i.property],t,r),s+n.encode(e[n.property],t,r+s)}return i.encode(e,t,r)}addVariant(e,t,r){let i=new I(this,e,t,r);return this.registry[e]=i,i}getVariant(e,t=0){let r;return r=e instanceof Uint8Array?this.discriminator.decode(e,t):e,this.registry[r]}}r.Union=C;class I extends o{constructor(e,t,r,i){if(!(e instanceof C))throw TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===i&&(i=r,r=null),r){if(!(r instanceof o))throw TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw Error("variant span exceeds span of containing union");if("string"!=typeof i)throw TypeError("variant must have a String property")}let n=e.span;0>e.span&&0<=(n=r?r.span:0)&&e.usesPrefixDiscriminator&&(n+=e.discriminator.layout.span),super(n,i),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,t+r)),r+i}decode(e,t=0){let r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let n=i;if(this.layout&&(this.layout.encode(e[this.property],t,r+i),n+=this.layout.getSpan(t,r+i),0<=this.union.span&&n>this.union.span))throw Error("encoded variant overruns containing union");return n}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function O(e){return 0>e&&(e+=0x100000000),e}r.VariantLayout=I;class M extends o{constructor(e,t,r){if(!(e instanceof h||e instanceof d))throw TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===r&&(r=t,t=!1),4<e.span)throw RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let i=0;this._packedSetValue=function(e){return i=O(e),this},this._packedGetValue=function(){return i}}decode(e,t=0){let r=this.makeDestinationObject(),i=this.word.decode(e,t);for(let t of(this._packedSetValue(i),this.fields))void 0!==t.property&&(r[t.property]=t.decode(e));return r}encode(e,t,r=0){let i=this.word.decode(t,r);for(let t of(this._packedSetValue(i),this.fields))if(void 0!==t.property){let r=e[t.property];void 0!==r&&t.encode(r)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){let r=new P(this,e,t);return this.fields.push(r),r}addBoolean(e){let t=new R(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}}r.BitStructure=M;class P{constructor(e,t,r){if(!(e instanceof M))throw TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw TypeError("bits must be positive integer");const i=8*e.span,n=e.fields.reduce((e,t)=>e+t.bits,0);if(t+n>i)throw Error("bits too long for span remainder ("+(i-n)+" of "+i+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=0xffffffff),this.start=n,this.container.msb&&(this.start=i-n-t),this.wordMask=O(this.valueMask<<this.start),this.property=r}decode(e,t){return O(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if("number"!=typeof e||!Number.isInteger(e)||e!==O(e&this.valueMask))throw TypeError(a("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),r=O(e<<this.start);this.container._packedSetValue(O(t&~this.wordMask)|r)}}r.BitField=P;class R extends P{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"==typeof e&&(e*=1),super.encode(e)}}r.Boolean=R;class N extends o{constructor(e,t){if(!(e instanceof u&&e.isCount()||Number.isInteger(e)&&0<=e))throw TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof u||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),s(e).slice(t,t+r)}encode(e,t,r){let i=this.length;if(this.length instanceof u&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw TypeError(a("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>t.length)throw RangeError("encoding overruns Uint8Array");let n=s(e);return s(t).write(n.toString("hex"),r,i,"hex"),this.length instanceof u&&this.length.encode(i,t,r),i}}r.Blob=N;class L extends o{constructor(e){super(-1,e)}getSpan(e,t=0){n(e);let r=t;for(;r<e.length&&0!==e[r];)r+=1;return 1+r-t}decode(e,t=0){let r=this.getSpan(e,t);return s(e).slice(t,t+r-1).toString("utf-8")}encode(e,t,r=0){"string"!=typeof e&&(e=String(e));let n=i.Buffer.from(e,"utf8"),o=n.length;if(r+o>t.length)throw RangeError("encoding overruns Buffer");let a=s(t);return n.copy(a,r),a[r+o]=0,o+1}}r.CString=L;class U extends o{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return n(e),e.length-t}decode(e,t=0){let r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw RangeError("text length exceeds maxSpan");return s(e).slice(t,t+r).toString("utf-8")}encode(e,t,r=0){"string"!=typeof e&&(e=String(e));let n=i.Buffer.from(e,"utf8"),o=n.length;if(0<=this.maxSpan&&this.maxSpan<o)throw RangeError("text length exceeds maxSpan");if(r+o>t.length)throw RangeError("encoding overruns Buffer");return n.copy(s(t),r),o}}r.UTF8=U;class D extends o{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,r){return 0}}r.Constant=D,r.greedy=(e,t)=>new l(e,t),r.offset=(e,t,r)=>new c(e,t,r),r.u8=e=>new h(1,e),r.u16=e=>new h(2,e),r.u24=e=>new h(3,e),r.u32=e=>new h(4,e),r.u40=e=>new h(5,e),r.u48=e=>new h(6,e),r.nu64=e=>new y(e),r.u16be=e=>new d(2,e),r.u24be=e=>new d(3,e),r.u32be=e=>new d(4,e),r.u40be=e=>new d(5,e),r.u48be=e=>new d(6,e),r.nu64be=e=>new b(e),r.s8=e=>new f(1,e),r.s16=e=>new f(2,e),r.s24=e=>new f(3,e),r.s32=e=>new f(4,e),r.s40=e=>new f(5,e),r.s48=e=>new f(6,e),r.ns64=e=>new v(e),r.s16be=e=>new p(2,e),r.s24be=e=>new p(3,e),r.s32be=e=>new p(4,e),r.s40be=e=>new p(5,e),r.s48be=e=>new p(6,e),r.ns64be=e=>new w(e),r.f32=e=>new _(e),r.f32be=e=>new x(e),r.f64=e=>new S(e),r.f64be=e=>new k(e),r.struct=(e,t,r)=>new B(e,t,r),r.bits=(e,t,r)=>new M(e,t,r),r.seq=(e,t,r)=>new E(e,t,r),r.union=(e,t,r)=>new C(e,t,r),r.unionLayoutDiscriminator=(e,t)=>new T(e,t),r.blob=(e,t)=>new N(e,t),r.cstr=e=>new L(e),r.utf8=(e,t)=>new U(e,t),r.constant=(e,t)=>new D(e,t)},616437,757315,941098,94558,e=>{"use strict";let t,r;var i=e.i(254799);let n=new Uint8Array(256),s=n.length;function o(){return s>n.length-16&&(i.default.randomFillSync(n),s=0),n.slice(s,s+=16)}e.s(["default",()=>o],757315);let a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,u=function(e){return"string"==typeof e&&a.test(e)};e.s(["default",0,u],941098);let l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).substr(1));let c=function(e,t=0){let r=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!u(r))throw TypeError("Stringified UUID is invalid");return r};e.s(["default",0,c],94558);let h=0,d=0;e.s(["default",0,function(e,i,n){let s=i&&n||0,a=i||Array(16),u=(e=e||{}).node||t,l=void 0!==e.clockseq?e.clockseq:r;if(null==u||null==l){let i=e.random||(e.rng||o)();null==u&&(u=t=[1|i[0],i[1],i[2],i[3],i[4],i[5]]),null==l&&(l=r=(i[6]<<8|i[7])&16383)}let f=void 0!==e.msecs?e.msecs:Date.now(),p=void 0!==e.nsecs?e.nsecs:d+1,m=f-h+(p-d)/1e4;if(m<0&&void 0===e.clockseq&&(l=l+1&16383),(m<0||f>h)&&void 0===e.nsecs&&(p=0),p>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");h=f,d=p,r=l;let g=((0xfffffff&(f+=122192928e5))*1e4+p)%0x100000000;a[s++]=g>>>24&255,a[s++]=g>>>16&255,a[s++]=g>>>8&255,a[s++]=255&g;let y=f/0x100000000*1e4&0xfffffff;a[s++]=y>>>8&255,a[s++]=255&y,a[s++]=y>>>24&15|16,a[s++]=y>>>16&255,a[s++]=l>>>8|128,a[s++]=255&l;for(let e=0;e<6;++e)a[s+e]=u[e];return i||c(a)}],616437)},837431,e=>{"use strict";e.s([],475720),e.i(475720);var t=e.i(616437),r=e.i(94558),i=e.i(941098);let n=function(e){let t;if(!(0,i.default)(e))throw TypeError("Invalid UUID");let r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/0x10000000000&255,r[11]=t/0x100000000&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function s(e,t,i){function s(e,s,o,a){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof s&&(s=n(s)),16!==s.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(s),u.set(e,s.length),(u=i(u))[6]=15&u[6]|t,u[8]=63&u[8]|128,o){a=a||0;for(let e=0;e<16;++e)o[a+e]=u[e];return o}return(0,r.default)(u)}try{s.name=e}catch(e){}return s.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",s.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",s}var o=e.i(254799);let a=s("v3",48,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),o.default.createHash("md5").update(e).digest()});var u=e.i(757315);let l=s("v5",80,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),o.default.createHash("sha1").update(e).digest()});e.s(["NIL",0,"00000000-0000-0000-0000-000000000000","parse",0,n,"stringify",()=>r.default,"v1",()=>t.default,"v3",0,a,"v4",0,function(e,t,i){let n=(e=e||{}).random||(e.rng||u.default)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){i=i||0;for(let e=0;e<16;++e)t[i+e]=n[e];return t}return(0,r.default)(n)},"v5",0,l,"validate",()=>i.default,"version",0,function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}],837431)},512661,(e,t,r)=>{"use strict";let i=e.r(837431).v4;t.exports=function(e,t,r,n){if("string"!=typeof e)throw TypeError(e+" must be a string");let s="number"==typeof(n=n||{}).version?n.version:2;if(1!==s&&2!==s)throw TypeError(s+" must be 1 or 2");let o={method:e};if(2===s&&(o.jsonrpc="2.0"),t){if("object"!=typeof t&&!Array.isArray(t))throw TypeError(t+" must be an object, array or omitted");o.params=t}return void 0===r?o.id=("function"==typeof n.generator?n.generator:function(){return i()})(o,n):2===s&&null===r?n.notificationIdNull&&(o.id=null):o.id=r,o}},678486,(e,t,r)=>{"use strict";let i=e.r(837431).v4,n=e.r(512661),s=function(e,t){if(!(this instanceof s))return new s(e,t);t||(t={}),this.options={reviver:void 0!==t.reviver?t.reviver:null,replacer:void 0!==t.replacer?t.replacer:null,generator:void 0!==t.generator?t.generator:function(){return i()},version:void 0!==t.version?t.version:2,notificationIdNull:"boolean"==typeof t.notificationIdNull&&t.notificationIdNull},this.callServer=e};t.exports=s,s.prototype.request=function(e,t,r,i){let s,o=this,a=null,u=Array.isArray(e)&&"function"==typeof t;if(1===this.options.version&&u)throw TypeError("JSON-RPC 1.0 does not support batching");let l=!u&&e&&"object"==typeof e&&"function"==typeof t;if(u||l)i=t,a=e;else{"function"==typeof r&&(i=r,r=void 0);let s="function"==typeof i;try{a=n(e,t,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(e){if(s)return i(e);throw e}if(!s)return a}try{s=JSON.stringify(a,this.options.replacer)}catch(e){return i(e)}return this.callServer(s,function(e,t){o._parseResponse(e,t,i)}),a},s.prototype._parseResponse=function(e,t,r){let i;if(e)return void r(e);if(!t)return r();try{i=JSON.parse(t,this.options.reviver)}catch(e){return r(e)}if(3===r.length)if(!Array.isArray(i))return r(null,i.error,i.result);else{let e=function(e){return void 0!==e.error};return r(null,i.filter(e),i.filter(function(t){return!e(t)}))}r(null,i)}},118507,(e,t,r)=>{"use strict";var i={};function n(e,t){!t.unsigned&&--e;let r=t.unsigned?0:-Math.pow(2,e),i=Math.pow(2,e)-1,n=t.moduloBitLength?Math.pow(2,t.moduloBitLength):Math.pow(2,e),s=t.moduloBitLength?Math.pow(2,t.moduloBitLength-1):Math.pow(2,e-1);return function(e,o){o||(o={});let a=+e;if(o.enforceRange){if(!Number.isFinite(a))throw TypeError("Argument is not a finite number");if((a=(a<0?-1:1)*Math.floor(Math.abs(a)))<r||a>i)throw TypeError("Argument is not in byte range");return a}if(!isNaN(a)&&o.clamp){var u;return(a=(u=a)%1==.5&&(1&u)==0?Math.floor(u):Math.round(u))<r&&(a=r),a>i&&(a=i),a}if(!Number.isFinite(a)||0===a)return 0;if(a=(a<0?-1:1)*Math.floor(Math.abs(a))%n,!t.unsigned&&a>=s)return a-n;if(t.unsigned){if(a<0)a+=n;else if(-0===a)return 0}return a}}t.exports=i,i.void=function(){},i.boolean=function(e){return!!e},i.byte=n(8,{unsigned:!1}),i.octet=n(8,{unsigned:!0}),i.short=n(16,{unsigned:!1}),i["unsigned short"]=n(16,{unsigned:!0}),i.long=n(32,{unsigned:!1}),i["unsigned long"]=n(32,{unsigned:!0}),i["long long"]=n(32,{unsigned:!1,moduloBitLength:64}),i["unsigned long long"]=n(32,{unsigned:!0,moduloBitLength:64}),i.double=function(e){let t=+e;if(!Number.isFinite(t))throw TypeError("Argument is not a finite floating-point value");return t},i["unrestricted double"]=function(e){let t=+e;if(isNaN(t))throw TypeError("Argument is NaN");return t},i.float=i.double,i["unrestricted float"]=i["unrestricted double"],i.DOMString=function(e,t){return(t||(t={}),t.treatNullAsEmptyString&&null===e)?"":String(e)},i.ByteString=function(e,t){let r,i=String(e);for(let e=0;void 0!==(r=i.codePointAt(e));++e)if(r>255)throw TypeError("Argument is not a valid bytestring");return i},i.USVString=function(e){let t=String(e),r=t.length,i=[];for(let e=0;e<r;++e){let n=t.charCodeAt(e);if(n<55296||n>57343)i.push(String.fromCodePoint(n));else if(56320<=n&&n<=57343)i.push(String.fromCodePoint(65533));else if(e===r-1)i.push(String.fromCodePoint(65533));else{let r=t.charCodeAt(e+1);if(56320<=r&&r<=57343){let t=1023&n,s=1023&r;i.push(String.fromCodePoint(65536+1024*t+s)),++e}else i.push(String.fromCodePoint(65533))}}return i.join("")},i.Date=function(e,t){if(!(e instanceof Date))throw TypeError("Argument is not a Date object");if(!isNaN(e))return e},i.RegExp=function(e,t){return e instanceof RegExp||(e=new RegExp(e)),e}},591705,(e,t,r)=>{"use strict";t.exports.mixin=function(e,t){let r=Object.getOwnPropertyNames(t);for(let i=0;i<r.length;++i)Object.defineProperty(e,r[i],Object.getOwnPropertyDescriptor(t,r[i]))},t.exports.wrapperSymbol=Symbol("wrapper"),t.exports.implSymbol=Symbol("impl"),t.exports.wrapperForImpl=function(e){return e[t.exports.wrapperSymbol]},t.exports.implForWrapper=function(e){return e[t.exports.implSymbol]}},194563,(e,t,r)=>{"use strict";var i=e.r(992097),n=e.r(412097),s={TRANSITIONAL:0,NONTRANSITIONAL:1};function o(e){return e.split("\0").map(function(e){return e.normalize("NFC")}).join("\0")}function a(e){for(var t=0,r=n.length-1;t<=r;){var i=Math.floor((t+r)/2),s=n[i];if(s[0][0]<=e&&s[0][1]>=e)return s;s[0][0]>e?r=i-1:t=i+1}return null}var u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function l(e){return e.replace(u,"_").length}var c=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2D]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC7F-\uDC82\uDCB0-\uDCBA\uDD00-\uDD02\uDD27-\uDD34\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDE2C-\uDE37\uDEDF-\uDEEA\uDF01-\uDF03\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDE30-\uDE40\uDEAB-\uDEB7]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF51-\uDF7E\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD83A[\uDCD0-\uDCD6]|\uDB40[\uDD00-\uDDEF]/;function h(e,t,r){var n=function(e,t,r){for(var i=!1,n="",o=l(e),u=0;u<o;++u){var c=e.codePointAt(u),h=a(c);switch(h[1]){case"disallowed":i=!0,n+=String.fromCodePoint(c);break;case"ignored":break;case"mapped":n+=String.fromCodePoint.apply(String,h[2]);break;case"deviation":r===s.TRANSITIONAL?n+=String.fromCodePoint.apply(String,h[2]):n+=String.fromCodePoint(c);break;case"valid":n+=String.fromCodePoint(c);break;case"disallowed_STD3_mapped":t?(i=!0,n+=String.fromCodePoint(c)):n+=String.fromCodePoint.apply(String,h[2]);break;case"disallowed_STD3_valid":t&&(i=!0),n+=String.fromCodePoint(c)}}return{string:n,error:i}}(e,t,r);n.string=o(n.string);for(var u=n.string.split("."),d=0;d<u.length;++d)try{var f=function(e,t){"xn--"===e.substr(0,4)&&(e=i.toUnicode(e),s.NONTRANSITIONAL);var r=!1;(o(e)!==e||"-"===e[3]&&"-"===e[4]||"-"===e[0]||"-"===e[e.length-1]||-1!==e.indexOf(".")||0===e.search(c))&&(r=!0);for(var n=l(e),u=0;u<n;++u){var d=a(e.codePointAt(u));if(h===s.TRANSITIONAL&&"valid"!==d[1]||h===s.NONTRANSITIONAL&&"valid"!==d[1]&&"deviation"!==d[1]){r=!0;break}}return{label:e,error:r}}(u[d]);u[d]=f.label,n.error=n.error||f.error}catch(e){n.error=!0}return{string:u.join("."),error:n.error}}t.exports.toASCII=function(e,t,r,n){var s=h(e,t,r),o=s.string.split(".");if(o=o.map(function(e){try{return i.toASCII(e)}catch(t){return s.error=!0,e}}),n){var a=o.slice(0,o.length-1).join(".").length;(a.length>253||0===a.length)&&(s.error=!0);for(var u=0;u<o.length;++u)if(o.length>63||0===o.length){s.error=!0;break}}return s.error?null:o.join(".")},t.exports.toUnicode=function(e,t){var r=h(e,t,s.NONTRANSITIONAL);return{domain:r.string,error:r.error}},t.exports.PROCESSING_OPTIONS=s},360720,(e,t,r)=>{"use strict";let i=e.r(992097),n=e.r(194563),s={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},o=Symbol("failure");function a(e){return i.ucs2.decode(e).length}function u(e,t){let r=e[t];return isNaN(r)?void 0:String.fromCodePoint(r)}function l(e){return e>=48&&e<=57}function c(e){return e>=65&&e<=90||e>=97&&e<=122}function h(e){return l(e)||e>=65&&e<=70||e>=97&&e<=102}function d(e){return"."===e||"%2e"===e.toLowerCase()}function f(e){return 2===e.length&&c(e.codePointAt(0))&&(":"===e[1]||"|"===e[1])}function p(e){return void 0!==s[e]}function m(e){return p(e.scheme)}function g(e){let t=e.toString(16).toUpperCase();return 1===t.length&&(t="0"+t),"%"+t}function y(e){return e<=31||e>126}let b=new Set([32,34,35,60,62,63,96,123,125]);function v(e){return y(e)||b.has(e)}let w=new Set([47,58,59,61,64,91,92,93,94,124]);function _(e){return v(e)||w.has(e)}function x(e,t){let r=String.fromCodePoint(e);if(t(e)){let e=new Buffer(r),t="";for(let r=0;r<e.length;++r)t+=g(e[r]);return t}return r}function S(e,t){if("["===e[0])return"]"!==e[e.length-1]?o:function(e){let t=[0,0,0,0,0,0,0,0],r=0,n=null,s=0;if(58===(e=i.ucs2.decode(e))[s]){if(58!==e[s+1])return o;s+=2,n=++r}for(;s<e.length;){if(8===r)return o;if(58===e[s]){if(null!==n)return o;++s,n=++r;continue}let i=0,a=0;for(;a<4&&h(e[s]);)i=16*i+parseInt(u(e,s),16),++s,++a;if(46===e[s]){if(0===a||(s-=a,r>6))return o;let i=0;for(;void 0!==e[s];){let n=null;if(i>0)if(46!==e[s]||!(i<4))return o;else++s;if(!l(e[s]))return o;for(;l(e[s]);){let t=parseInt(u(e,s));if(null===n)n=t;else{if(0===n)return o;n=10*n+t}if(n>255)return o;++s}t[r]=256*t[r]+n,(2==++i||4===i)&&++r}if(4!==i)return o;break}if(58===e[s]){if(void 0===e[++s])return o}else if(void 0!==e[s])return o;t[r]=i,++r}if(null!==n){let e=r-n;for(r=7;0!==r&&e>0;){let i=t[n+e-1];t[n+e-1]=t[r],t[r]=i,--r,--e}}else if(null===n&&8!==r)return o;return t}(e.substring(1,e.length-1));if(!t){var r=e;if(-1!==r.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/))return o;let t="",n=i.ucs2.decode(r);for(let e=0;e<n.length;++e)t+=x(n[e],y);return t}let s=function(e){let t=new Buffer(e),r=[];for(let e=0;e<t.length;++e)37!==t[e]?r.push(t[e]):37===t[e]&&h(t[e+1])&&h(t[e+2])?(r.push(parseInt(t.slice(e+1,e+3).toString(),16)),e+=2):r.push(t[e]);return new Buffer(r).toString()}(e),a=n.toASCII(s,!1,n.PROCESSING_OPTIONS.NONTRANSITIONAL,!1);if(null===a||-1!==a.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/))return o;let c=function(e){let t=e.split(".");if(""===t[t.length-1]&&t.length>1&&t.pop(),t.length>4)return e;let r=[];for(let i of t){if(""===i)return e;let t=function(e){let t=10;return(e.length>=2&&"0"===e.charAt(0)&&"x"===e.charAt(1).toLowerCase()?(e=e.substring(2),t=16):e.length>=2&&"0"===e.charAt(0)&&(e=e.substring(1),t=8),""===e)?0:(10===t?/[^0-9]/:16===t?/[^0-9A-Fa-f]/:/[^0-7]/).test(e)?o:parseInt(e,t)}(i);if(t===o)return e;r.push(t)}for(let e=0;e<r.length-1;++e)if(r[e]>255)return o;if(r[r.length-1]>=Math.pow(256,5-r.length))return o;let i=r.pop(),n=0;for(let e of r)i+=e*Math.pow(256,3-n),++n;return i}(a);return"number"==typeof c||c===o?c:a}function k(e){if("number"==typeof e){let t="",r=e;for(let e=1;e<=4;++e)t=String(r%256)+t,4!==e&&(t="."+t),r=Math.floor(r/256);return t}return e instanceof Array?"["+function(e){let t="",r=function(e){let t=null,r=1,i=null,n=0;for(let s=0;s<e.length;++s)0!==e[s]?(n>r&&(t=i,r=n),i=null,n=0):(null===i&&(i=s),++n);return n>r&&(t=i,r=n),{idx:t,len:r}}(e).idx,i=!1;for(let n=0;n<=7;++n)if(!i||0!==e[n]){if(i&&(i=!1),r===n){t+=0===n?"::":":",i=!0;continue}t+=e[n].toString(16),7!==n&&(t+=":")}return t}(e)+"]":e}function E(e){var t;let r=e.path;0===r.length||"file"===e.scheme&&1===r.length&&(t=r[0],/^[A-Za-z]:$/.test(t))||r.pop()}function B(e){return""!==e.username||""!==e.password}function A(e,t,r,n,s){if(this.pointer=0,this.input=e,this.base=t||null,this.encodingOverride=r||"utf-8",this.stateOverride=s,this.url=n,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,cannotBeABaseURL:!1};let e=this.input.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g,"");e!==this.input&&(this.parseError=!0),this.input=e}let a=this.input.replace(/\u0009|\u000A|\u000D/g,"");for(a!==this.input&&(this.parseError=!0),this.input=a,this.state=s||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=i.ucs2.decode(this.input);this.pointer<=this.input.length;++this.pointer){let e=this.input[this.pointer],t=isNaN(e)?void 0:String.fromCodePoint(e),r=this["parse "+this.state](e,t);if(r){if(r===o){this.failure=!0;break}}else break}}A.prototype["parse scheme start"]=function(e,t){if(c(e))this.buffer+=t.toLowerCase(),this.state="scheme";else{if(this.stateOverride)return this.parseError=!0,o;this.state="no scheme",--this.pointer}return!0},A.prototype["parse scheme"]=function(e,t){if(c(e)||l(e)||43===e||45===e||46===e)this.buffer+=t.toLowerCase();else if(58===e){if(this.stateOverride&&(m(this.url)&&!p(this.buffer)||!m(this.url)&&p(this.buffer)||(B(this.url)||null!==this.url.port)&&"file"===this.buffer||"file"===this.url.scheme&&(""===this.url.host||null===this.url.host))||(this.url.scheme=this.buffer,this.buffer="",this.stateOverride))return!1;"file"===this.url.scheme?((47!==this.input[this.pointer+1]||47!==this.input[this.pointer+2])&&(this.parseError=!0),this.state="file"):m(this.url)&&null!==this.base&&this.base.scheme===this.url.scheme?this.state="special relative or authority":m(this.url)?this.state="special authority slashes":47===this.input[this.pointer+1]?(this.state="path or authority",++this.pointer):(this.url.cannotBeABaseURL=!0,this.url.path.push(""),this.state="cannot-be-a-base-URL path")}else{if(this.stateOverride)return this.parseError=!0,o;this.buffer="",this.state="no scheme",this.pointer=-1}return!0},A.prototype["parse no scheme"]=function(e){return null===this.base||this.base.cannotBeABaseURL&&35!==e?o:(this.base.cannotBeABaseURL&&35===e?(this.url.scheme=this.base.scheme,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.url.cannotBeABaseURL=!0,this.state="fragment"):("file"===this.base.scheme?this.state="file":this.state="relative",--this.pointer),!0)},A.prototype["parse special relative or authority"]=function(e){return 47===e&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0},A.prototype["parse path or authority"]=function(e){return 47===e?this.state="authority":(this.state="path",--this.pointer),!0},A.prototype["parse relative"]=function(e){return this.url.scheme=this.base.scheme,isNaN(e)?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query):47===e?this.state="relative slash":63===e?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===e?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):m(this.url)&&92===e?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(0,this.base.path.length-1),this.state="path",--this.pointer),!0},A.prototype["parse relative slash"]=function(e){return m(this.url)&&(47===e||92===e)?(92===e&&(this.parseError=!0),this.state="special authority ignore slashes"):47===e?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer),!0},A.prototype["parse special authority slashes"]=function(e){return 47===e&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0},A.prototype["parse special authority ignore slashes"]=function(e){return 47!==e&&92!==e?(this.state="authority",--this.pointer):this.parseError=!0,!0},A.prototype["parse authority"]=function(e,t){if(64===e){this.parseError=!0,this.atFlag&&(this.buffer="%40"+this.buffer),this.atFlag=!0;let e=a(this.buffer);for(let t=0;t<e;++t){let e=this.buffer.codePointAt(t);if(58===e&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}let r=x(e,_);this.passwordTokenSeenFlag?this.url.password+=r:this.url.username+=r}this.buffer=""}else if(isNaN(e)||47===e||63===e||35===e||m(this.url)&&92===e){if(this.atFlag&&""===this.buffer)return this.parseError=!0,o;this.pointer-=a(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=t;return!0},A.prototype["parse hostname"]=A.prototype["parse host"]=function(e,t){if(this.stateOverride&&"file"===this.url.scheme)--this.pointer,this.state="file host";else if(58!==e||this.arrFlag)if(isNaN(e)||47===e||63===e||35===e||m(this.url)&&92===e){if(--this.pointer,m(this.url)&&""===this.buffer)return this.parseError=!0,o;if(this.stateOverride&&""===this.buffer&&(B(this.url)||null!==this.url.port))return this.parseError=!0,!1;let e=S(this.buffer,m(this.url));if(e===o)return o;if(this.url.host=e,this.buffer="",this.state="path start",this.stateOverride)return!1}else 91===e?this.arrFlag=!0:93===e&&(this.arrFlag=!1),this.buffer+=t;else{if(""===this.buffer)return this.parseError=!0,o;let e=S(this.buffer,m(this.url));if(e===o)return o;if(this.url.host=e,this.buffer="",this.state="port","hostname"===this.stateOverride)return!1}return!0},A.prototype["parse port"]=function(e,t){if(l(e))this.buffer+=t;else{if(!(isNaN(e)||47===e||63===e||35===e||m(this.url)&&92===e)&&!this.stateOverride)return this.parseError=!0,o;if(""!==this.buffer){let e=parseInt(this.buffer);if(e>65535)return this.parseError=!0,o;this.url.port=e===s[this.url.scheme]?null:e,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}return!0};let T=new Set([47,92,63,35]);A.prototype["parse file"]=function(e){if(this.url.scheme="file",47===e||92===e)92===e&&(this.parseError=!0),this.state="file slash";else if(null!==this.base&&"file"===this.base.scheme)if(isNaN(e))this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query;else if(63===e)this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query="",this.state="query";else if(35===e)this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment";else{var t;this.input.length-this.pointer-1!=0&&(t=this.input[this.pointer+1],c(e)&&(58===t||124===t))&&(!(this.input.length-this.pointer-1>=2)||T.has(this.input[this.pointer+2]))?this.parseError=!0:(this.url.host=this.base.host,this.url.path=this.base.path.slice(),E(this.url)),this.state="path",--this.pointer}else this.state="path",--this.pointer;return!0},A.prototype["parse file slash"]=function(e){if(47===e||92===e)92===e&&(this.parseError=!0),this.state="file host";else{if(null!==this.base&&"file"===this.base.scheme){var t;2===(t=this.base.path[0]).length&&c(t.codePointAt(0))&&":"===t[1]?this.url.path.push(this.base.path[0]):this.url.host=this.base.host}this.state="path",--this.pointer}return!0},A.prototype["parse file host"]=function(e,t){if(isNaN(e)||47===e||92===e||63===e||35===e)if(--this.pointer,!this.stateOverride&&f(this.buffer))this.parseError=!0,this.state="path";else if(""===this.buffer){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let e=S(this.buffer,m(this.url));if(e===o)return o;if("localhost"===e&&(e=""),this.url.host=e,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=t;return!0},A.prototype["parse path start"]=function(e){return m(this.url)?(92===e&&(this.parseError=!0),this.state="path",47!==e&&92!==e&&--this.pointer):this.stateOverride||63!==e?this.stateOverride||35!==e?void 0!==e&&(this.state="path",47!==e&&--this.pointer):(this.url.fragment="",this.state="fragment"):(this.url.query="",this.state="query"),!0},A.prototype["parse path"]=function(e){if(isNaN(e)||47===e||m(this.url)&&92===e||!this.stateOverride&&(63===e||35===e)){var t;if((m(this.url)&&92===e&&(this.parseError=!0),".."===(t=(t=this.buffer).toLowerCase())||"%2e."===t||".%2e"===t||"%2e%2e"===t)?(E(this.url),47===e||m(this.url)&&92===e||this.url.path.push("")):d(this.buffer)&&47!==e&&!(m(this.url)&&92===e)?this.url.path.push(""):d(this.buffer)||("file"===this.url.scheme&&0===this.url.path.length&&f(this.buffer)&&(""!==this.url.host&&null!==this.url.host&&(this.parseError=!0,this.url.host=""),this.buffer=this.buffer[0]+":"),this.url.path.push(this.buffer)),this.buffer="","file"===this.url.scheme&&(void 0===e||63===e||35===e))for(;this.url.path.length>1&&""===this.url.path[0];)this.parseError=!0,this.url.path.shift();63===e&&(this.url.query="",this.state="query"),35===e&&(this.url.fragment="",this.state="fragment")}else 37!==e||h(this.input[this.pointer+1])&&h(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=x(e,v);return!0},A.prototype["parse cannot-be-a-base-URL path"]=function(e){return 63===e?(this.url.query="",this.state="query"):35===e?(this.url.fragment="",this.state="fragment"):(isNaN(e)||37===e||(this.parseError=!0),37!==e||h(this.input[this.pointer+1])&&h(this.input[this.pointer+2])||(this.parseError=!0),isNaN(e)||(this.url.path[0]=this.url.path[0]+x(e,y))),!0},A.prototype["parse query"]=function(e,t){if(isNaN(e)||!this.stateOverride&&35===e){m(this.url)&&"ws"!==this.url.scheme&&"wss"!==this.url.scheme||(this.encodingOverride="utf-8");let t=new Buffer(this.buffer);for(let e=0;e<t.length;++e)t[e]<33||t[e]>126||34===t[e]||35===t[e]||60===t[e]||62===t[e]?this.url.query+=g(t[e]):this.url.query+=String.fromCodePoint(t[e]);this.buffer="",35===e&&(this.url.fragment="",this.state="fragment")}else 37!==e||h(this.input[this.pointer+1])&&h(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=t;return!0},A.prototype["parse fragment"]=function(e){return isNaN(e)||(0===e?this.parseError=!0:(37!==e||h(this.input[this.pointer+1])&&h(this.input[this.pointer+2])||(this.parseError=!0),this.url.fragment+=x(e,y))),!0},t.exports.serializeURL=function(e,t){let r=e.scheme+":";if(null!==e.host?(r+="//",(""!==e.username||""!==e.password)&&(r+=e.username,""!==e.password&&(r+=":"+e.password),r+="@"),r+=k(e.host),null!==e.port&&(r+=":"+e.port)):null===e.host&&"file"===e.scheme&&(r+="//"),e.cannotBeABaseURL)r+=e.path[0];else for(let t of e.path)r+="/"+t;return null!==e.query&&(r+="?"+e.query),t||null===e.fragment||(r+="#"+e.fragment),r},t.exports.serializeURLOrigin=function(e){switch(e.scheme){case"blob":try{return t.exports.serializeURLOrigin(t.exports.parseURL(e.path[0]))}catch(e){return"null"}case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":var r;let i;return i=(r={scheme:e.scheme,host:e.host,port:e.port}).scheme+"://"+k(r.host),null!==r.port&&(i+=":"+r.port),i;case"file":return"file://";default:return"null"}},t.exports.basicURLParse=function(e,t){void 0===t&&(t={});let r=new A(e,t.baseURL,t.encodingOverride,t.url,t.stateOverride);return r.failure?"failure":r.url},t.exports.setTheUsername=function(e,t){e.username="";let r=i.ucs2.decode(t);for(let t=0;t<r.length;++t)e.username+=x(r[t],_)},t.exports.setThePassword=function(e,t){e.password="";let r=i.ucs2.decode(t);for(let t=0;t<r.length;++t)e.password+=x(r[t],_)},t.exports.serializeHost=k,t.exports.cannotHaveAUsernamePasswordPort=function(e){return null===e.host||""===e.host||e.cannotBeABaseURL||"file"===e.scheme},t.exports.serializeInteger=function(e){return String(e)},t.exports.parseURL=function(e,r){return void 0===r&&(r={}),t.exports.basicURLParse(e,{baseURL:r.baseURL,encodingOverride:r.encodingOverride})}},956816,(e,t,r)=>{"use strict";let i=e.r(360720);r.implementation=class{constructor(e){const t=e[0],r=e[1];let n=null;if(void 0!==r&&"failure"===(n=i.basicURLParse(r)))throw TypeError("Invalid base URL");const s=i.basicURLParse(t,{baseURL:n});if("failure"===s)throw TypeError("Invalid URL");this._url=s}get href(){return i.serializeURL(this._url)}set href(e){let t=i.basicURLParse(e);if("failure"===t)throw TypeError("Invalid URL");this._url=t}get origin(){return i.serializeURLOrigin(this._url)}get protocol(){return this._url.scheme+":"}set protocol(e){i.basicURLParse(e+":",{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(e){i.cannotHaveAUsernamePasswordPort(this._url)||i.setTheUsername(this._url,e)}get password(){return this._url.password}set password(e){i.cannotHaveAUsernamePasswordPort(this._url)||i.setThePassword(this._url,e)}get host(){let e=this._url;return null===e.host?"":null===e.port?i.serializeHost(e.host):i.serializeHost(e.host)+":"+i.serializeInteger(e.port)}set host(e){this._url.cannotBeABaseURL||i.basicURLParse(e,{url:this._url,stateOverride:"host"})}get hostname(){return null===this._url.host?"":i.serializeHost(this._url.host)}set hostname(e){this._url.cannotBeABaseURL||i.basicURLParse(e,{url:this._url,stateOverride:"hostname"})}get port(){return null===this._url.port?"":i.serializeInteger(this._url.port)}set port(e){i.cannotHaveAUsernamePasswordPort(this._url)||(""===e?this._url.port=null:i.basicURLParse(e,{url:this._url,stateOverride:"port"}))}get pathname(){return this._url.cannotBeABaseURL?this._url.path[0]:0===this._url.path.length?"":"/"+this._url.path.join("/")}set pathname(e){this._url.cannotBeABaseURL||(this._url.path=[],i.basicURLParse(e,{url:this._url,stateOverride:"path start"}))}get search(){return null===this._url.query||""===this._url.query?"":"?"+this._url.query}set search(e){let t=this._url;if(""===e){t.query=null;return}let r="?"===e[0]?e.substring(1):e;t.query="",i.basicURLParse(r,{url:t,stateOverride:"query"})}get hash(){return null===this._url.fragment||""===this._url.fragment?"":"#"+this._url.fragment}set hash(e){if(""===e){this._url.fragment=null;return}let t="#"===e[0]?e.substring(1):e;this._url.fragment="",i.basicURLParse(t,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}}},419939,(e,t,r)=>{"use strict";let i=e.r(118507),n=e.r(591705),s=e.r(956816),o=n.implSymbol;function a(e){if(!this||this[o]||!(this instanceof a))throw TypeError("Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");if(arguments.length<1)throw TypeError("Failed to construct 'URL': 1 argument required, but only "+arguments.length+" present.");let r=[];for(let e=0;e<arguments.length&&e<2;++e)r[e]=arguments[e];r[0]=i.USVString(r[0]),void 0!==r[1]&&(r[1]=i.USVString(r[1])),t.exports.setup(this,r)}a.prototype.toJSON=function(){if(!this||!t.exports.is(this))throw TypeError("Illegal invocation");let e=[];for(let t=0;t<arguments.length&&t<0;++t)e[t]=arguments[t];return this[o].toJSON.apply(this[o],e)},Object.defineProperty(a.prototype,"href",{get(){return this[o].href},set(e){e=i.USVString(e),this[o].href=e},enumerable:!0,configurable:!0}),a.prototype.toString=function(){if(!this||!t.exports.is(this))throw TypeError("Illegal invocation");return this.href},Object.defineProperty(a.prototype,"origin",{get(){return this[o].origin},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"protocol",{get(){return this[o].protocol},set(e){e=i.USVString(e),this[o].protocol=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"username",{get(){return this[o].username},set(e){e=i.USVString(e),this[o].username=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"password",{get(){return this[o].password},set(e){e=i.USVString(e),this[o].password=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"host",{get(){return this[o].host},set(e){e=i.USVString(e),this[o].host=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"hostname",{get(){return this[o].hostname},set(e){e=i.USVString(e),this[o].hostname=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"port",{get(){return this[o].port},set(e){e=i.USVString(e),this[o].port=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"pathname",{get(){return this[o].pathname},set(e){e=i.USVString(e),this[o].pathname=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"search",{get(){return this[o].search},set(e){e=i.USVString(e),this[o].search=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"hash",{get(){return this[o].hash},set(e){e=i.USVString(e),this[o].hash=e},enumerable:!0,configurable:!0}),t.exports={is:e=>!!e&&e[o]instanceof s.implementation,create(e,t){let r=Object.create(a.prototype);return this.setup(r,e,t),r},setup(e,t,r){r||(r={}),r.wrapper=e,e[o]=new s.implementation(t,r),e[o][n.wrapperSymbol]=e},interface:a,expose:{Window:{URL:a},Worker:{URL:a}}}},744361,(e,t,r)=>{"use strict";r.URL=e.r(419939).interface,r.serializeURL=e.r(360720).serializeURL,r.serializeURLOrigin=e.r(360720).serializeURLOrigin,r.basicURLParse=e.r(360720).basicURLParse,r.setTheUsername=e.r(360720).setTheUsername,r.setThePassword=e.r(360720).setThePassword,r.serializeHost=e.r(360720).serializeHost,r.serializeInteger=e.r(360720).serializeInteger,r.parseURL=e.r(360720).parseURL},901584,(e,t,r)=>{"use strict";var i,n=e.r(500874),s=n.Buffer,o={};for(i in n)n.hasOwnProperty(i)&&"SlowBuffer"!==i&&"Buffer"!==i&&(o[i]=n[i]);var a=o.Buffer={};for(i in s)s.hasOwnProperty(i)&&"allocUnsafe"!==i&&"allocUnsafeSlow"!==i&&(a[i]=s[i]);if(o.Buffer.prototype=s.prototype,a.from&&a.from!==Uint8Array.from||(a.from=function(e,t,r){if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return s(e,t,r)}),a.alloc||(a.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*0x40000000)throw RangeError('The value "'+e+'" is invalid for option "size"');var i=s(e);return t&&0!==t.length?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i}),!o.kStringMaxLength)try{o.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(e){}!o.constants&&(o.constants={MAX_LENGTH:o.kMaxLength},o.kStringMaxLength&&(o.constants.MAX_STRING_LENGTH=o.kStringMaxLength)),t.exports=o},4624,(e,t,r)=>{"use strict";function i(e,t){this.encoder=e,this.addBOM=!0}function n(e,t){this.decoder=e,this.pass=!1,this.options=t||{}}r.PrependBOM=i,i.prototype.write=function(e){return this.addBOM&&(e="\uFEFF"+e,this.addBOM=!1),this.encoder.write(e)},i.prototype.end=function(){return this.encoder.end()},r.StripBOM=n,n.prototype.write=function(e){var t=this.decoder.write(e);return this.pass||!t||("\uFEFF"===t[0]&&(t=t.slice(1),"function"==typeof this.options.stripBOM&&this.options.stripBOM()),this.pass=!0),t},n.prototype.end=function(){return this.decoder.end()}},274237,(e,t,r)=>{"use strict";var i=e.r(901584).Buffer;function n(e,t){this.enc=e.encodingName,this.bomAware=e.bomAware,"base64"===this.enc?this.encoder=u:"cesu8"===this.enc&&(this.enc="utf8",this.encoder=l,""!==i.from("eda0bdedb2a9","hex").toString()&&(this.decoder=c,this.defaultCharUnicode=t.defaultCharUnicode))}t.exports={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:n},n.prototype.encoder=a,n.prototype.decoder=o;var s=e.r(99348).StringDecoder;function o(e,t){this.decoder=new s(t.enc)}function a(e,t){this.enc=t.enc}function u(e,t){this.prevStr=""}function l(e,t){}function c(e,t){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=t.defaultCharUnicode}s.prototype.end||(s.prototype.end=function(){}),o.prototype.write=function(e){return i.isBuffer(e)||(e=i.from(e)),this.decoder.write(e)},o.prototype.end=function(){return this.decoder.end()},a.prototype.write=function(e){return i.from(e,this.enc)},a.prototype.end=function(){},u.prototype.write=function(e){var t=(e=this.prevStr+e).length-e.length%4;return this.prevStr=e.slice(t),e=e.slice(0,t),i.from(e,"base64")},u.prototype.end=function(){return i.from(this.prevStr,"base64")},l.prototype.write=function(e){for(var t=i.alloc(3*e.length),r=0,n=0;n<e.length;n++){var s=e.charCodeAt(n);s<128?t[r++]=s:(s<2048?t[r++]=192+(s>>>6):(t[r++]=224+(s>>>12),t[r++]=128+(s>>>6&63)),t[r++]=128+(63&s))}return t.slice(0,r)},l.prototype.end=function(){},c.prototype.write=function(e){for(var t=this.acc,r=this.contBytes,i=this.accBytes,n="",s=0;s<e.length;s++){var o=e[s];(192&o)!=128?(r>0&&(n+=this.defaultCharUnicode,r=0),o<128?n+=String.fromCharCode(o):o<224?(t=31&o,r=1,i=1):o<240?(t=15&o,r=2,i=1):n+=this.defaultCharUnicode):r>0?(t=t<<6|63&o,r--,i++,0===r&&(2===i&&t<128&&t>0||3===i&&t<2048?n+=this.defaultCharUnicode:n+=String.fromCharCode(t))):n+=this.defaultCharUnicode}return this.acc=t,this.contBytes=r,this.accBytes=i,n},c.prototype.end=function(){var e=0;return this.contBytes>0&&(e+=this.defaultCharUnicode),e}},448680,(e,t,r)=>{"use strict";var i=e.r(901584).Buffer;function n(e,t){this.iconv=t,this.bomAware=!0,this.isLE=e.isLE}function s(e,t){this.isLE=t.isLE,this.highSurrogate=0}function o(e,t){this.isLE=t.isLE,this.badChar=t.iconv.defaultCharUnicode.charCodeAt(0),this.overflow=[]}function a(e,t,r,i){if((r<0||r>1114111)&&(r=i),r>=65536){var n=55296|(r-=65536)>>10;e[t++]=255&n,e[t++]=n>>8;var r=56320|1023&r}return e[t++]=255&r,e[t++]=r>>8,t}function u(e,t){this.iconv=t}function l(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder(e.defaultEncoding||"utf-32le",e)}function c(e,t){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=e||{},this.iconv=t.iconv}function h(e,t){var r=[],i=0,n=0,s=0,o=0,a=0;e:for(var u=0;u<e.length;u++)for(var l=e[u],c=0;c<l.length;c++)if(r.push(l[c]),4===r.length){if(0===i){if(255===r[0]&&254===r[1]&&0===r[2]&&0===r[3])return"utf-32le";if(0===r[0]&&0===r[1]&&254===r[2]&&255===r[3])return"utf-32be"}if((0!==r[0]||r[1]>16)&&s++,(0!==r[3]||r[2]>16)&&n++,0===r[0]&&0===r[1]&&(0!==r[2]||0!==r[3])&&a++,(0!==r[0]||0!==r[1])&&0===r[2]&&0===r[3]&&o++,r.length=0,++i>=100)break e}return a-s>o-n?"utf-32be":a-s<o-n?"utf-32le":t||"utf-32le"}r._utf32=n,r.utf32le={type:"_utf32",isLE:!0},r.utf32be={type:"_utf32",isLE:!1},r.ucs4le="utf32le",r.ucs4be="utf32be",n.prototype.encoder=s,n.prototype.decoder=o,s.prototype.write=function(e){for(var t=i.from(e,"ucs2"),r=i.alloc(2*t.length),n=this.isLE?r.writeUInt32LE:r.writeUInt32BE,s=0,o=0;o<t.length;o+=2){var a=t.readUInt16LE(o),u=55296<=a&&a<56320,l=56320<=a&&a<57344;if(this.highSurrogate)if(u||!l)n.call(r,this.highSurrogate,s),s+=4;else{var c=(this.highSurrogate-55296<<10|a-56320)+65536;n.call(r,c,s),s+=4,this.highSurrogate=0;continue}u?this.highSurrogate=a:(n.call(r,a,s),s+=4,this.highSurrogate=0)}return s<r.length&&(r=r.slice(0,s)),r},s.prototype.end=function(){if(this.highSurrogate){var e=i.alloc(4);return this.isLE?e.writeUInt32LE(this.highSurrogate,0):e.writeUInt32BE(this.highSurrogate,0),this.highSurrogate=0,e}},o.prototype.write=function(e){if(0===e.length)return"";var t=0,r=0,n=i.alloc(e.length+4),s=0,o=this.isLE,u=this.overflow,l=this.badChar;if(u.length>0){for(;t<e.length&&u.length<4;t++)u.push(e[t]);4===u.length&&(r=o?u[t]|u[t+1]<<8|u[t+2]<<16|u[t+3]<<24:u[t+3]|u[t+2]<<8|u[t+1]<<16|u[t]<<24,u.length=0,s=a(n,s,r,l))}for(;t<e.length-3;t+=4)s=a(n,s,r=o?e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24:e[t+3]|e[t+2]<<8|e[t+1]<<16|e[t]<<24,l);for(;t<e.length;t++)u.push(e[t]);return n.slice(0,s).toString("ucs2")},o.prototype.end=function(){this.overflow.length=0},r.utf32=u,r.ucs4="utf32",u.prototype.encoder=l,u.prototype.decoder=c,l.prototype.write=function(e){return this.encoder.write(e)},l.prototype.end=function(){return this.encoder.end()},c.prototype.write=function(e){if(!this.decoder){if(this.initialBufs.push(e),this.initialBufsLen+=e.length,this.initialBufsLen<32)return"";var t=h(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);for(var r="",i=0;i<this.initialBufs.length;i++)r+=this.decoder.write(this.initialBufs[i]);return this.initialBufs.length=this.initialBufsLen=0,r}return this.decoder.write(e)},c.prototype.end=function(){if(!this.decoder){var e=h(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(e,this.options);for(var t="",r=0;r<this.initialBufs.length;r++)t+=this.decoder.write(this.initialBufs[r]);var i=this.decoder.end();return i&&(t+=i),this.initialBufs.length=this.initialBufsLen=0,t}return this.decoder.end()}},688786,(e,t,r)=>{"use strict";var i=e.r(901584).Buffer;function n(){}function s(){}function o(){this.overflowByte=-1}function a(e,t){this.iconv=t}function u(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder("utf-16le",e)}function l(e,t){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=e||{},this.iconv=t.iconv}function c(e,t){var r=[],i=0,n=0,s=0;e:for(var o=0;o<e.length;o++)for(var a=e[o],u=0;u<a.length;u++)if(r.push(a[u]),2===r.length){if(0===i){if(255===r[0]&&254===r[1])return"utf-16le";if(254===r[0]&&255===r[1])return"utf-16be"}if(0===r[0]&&0!==r[1]&&s++,0!==r[0]&&0===r[1]&&n++,r.length=0,++i>=100)break e}return s>n?"utf-16be":s<n?"utf-16le":t||"utf-16le"}r.utf16be=n,n.prototype.encoder=s,n.prototype.decoder=o,n.prototype.bomAware=!0,s.prototype.write=function(e){for(var t=i.from(e,"ucs2"),r=0;r<t.length;r+=2){var n=t[r];t[r]=t[r+1],t[r+1]=n}return t},s.prototype.end=function(){},o.prototype.write=function(e){if(0==e.length)return"";var t=i.alloc(e.length+1),r=0,n=0;for(-1!==this.overflowByte&&(t[0]=e[0],t[1]=this.overflowByte,r=1,n=2);r<e.length-1;r+=2,n+=2)t[n]=e[r+1],t[n+1]=e[r];return this.overflowByte=r==e.length-1?e[e.length-1]:-1,t.slice(0,n).toString("ucs2")},o.prototype.end=function(){this.overflowByte=-1},r.utf16=a,a.prototype.encoder=u,a.prototype.decoder=l,u.prototype.write=function(e){return this.encoder.write(e)},u.prototype.end=function(){return this.encoder.end()},l.prototype.write=function(e){if(!this.decoder){if(this.initialBufs.push(e),this.initialBufsLen+=e.length,this.initialBufsLen<16)return"";var t=c(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);for(var r="",i=0;i<this.initialBufs.length;i++)r+=this.decoder.write(this.initialBufs[i]);return this.initialBufs.length=this.initialBufsLen=0,r}return this.decoder.write(e)},l.prototype.end=function(){if(!this.decoder){var e=c(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(e,this.options);for(var t="",r=0;r<this.initialBufs.length;r++)t+=this.decoder.write(this.initialBufs[r]);var i=this.decoder.end();return i&&(t+=i),this.initialBufs.length=this.initialBufsLen=0,t}return this.decoder.end()}},492121,(e,t,r)=>{"use strict";var i=e.r(901584).Buffer;function n(e,t){this.iconv=t}r.utf7=n,r.unicode11utf7="utf7",n.prototype.encoder=o,n.prototype.decoder=a,n.prototype.bomAware=!0;var s=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function o(e,t){this.iconv=t.iconv}function a(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}o.prototype.write=function(e){return i.from(e.replace(s,(function(e){return"+"+("+"===e?"":this.iconv.encode(e,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}).bind(this)))},o.prototype.end=function(){};for(var u=/[A-Za-z0-9\/+]/,l=[],c=0;c<256;c++)l[c]=u.test(String.fromCharCode(c));function h(e,t){this.iconv=t}function d(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=i.alloc(6),this.base64AccumIdx=0}function f(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}a.prototype.write=function(e){for(var t="",r=0,n=this.inBase64,s=this.base64Accum,o=0;o<e.length;o++)if(n){if(!l[e[o]]){if(o==r&&45==e[o])t+="+";else{var a=s+this.iconv.decode(e.slice(r,o),"ascii");t+=this.iconv.decode(i.from(a,"base64"),"utf16-be")}45!=e[o]&&o--,r=o+1,n=!1,s=""}}else 43==e[o]&&(t+=this.iconv.decode(e.slice(r,o),"ascii"),r=o+1,n=!0);if(n){var a=s+this.iconv.decode(e.slice(r),"ascii"),u=a.length-a.length%8;s=a.slice(u),a=a.slice(0,u),t+=this.iconv.decode(i.from(a,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(r),"ascii");return this.inBase64=n,this.base64Accum=s,t},a.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(i.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e},r.utf7imap=h,h.prototype.encoder=d,h.prototype.decoder=f,h.prototype.bomAware=!0,d.prototype.write=function(e){for(var t=this.inBase64,r=this.base64Accum,n=this.base64AccumIdx,s=i.alloc(5*e.length+10),o=0,a=0;a<e.length;a++){var u=e.charCodeAt(a);32<=u&&u<=126?(t&&(n>0&&(o+=s.write(r.slice(0,n).toString("base64").replace(/\//g,",").replace(/=+$/,""),o),n=0),s[o++]=45,t=!1),t||(s[o++]=u,38===u&&(s[o++]=45))):(t||(s[o++]=38,t=!0),t&&(r[n++]=u>>8,r[n++]=255&u,n==r.length&&(o+=s.write(r.toString("base64").replace(/\//g,","),o),n=0)))}return this.inBase64=t,this.base64AccumIdx=n,s.slice(0,o)},d.prototype.end=function(){var e=i.alloc(10),t=0;return this.inBase64&&(this.base64AccumIdx>0&&(t+=e.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),t),this.base64AccumIdx=0),e[t++]=45,this.inBase64=!1),e.slice(0,t)};var p=l.slice();p[44]=!0,f.prototype.write=function(e){for(var t="",r=0,n=this.inBase64,s=this.base64Accum,o=0;o<e.length;o++)if(n){if(!p[e[o]]){if(o==r&&45==e[o])t+="&";else{var a=s+this.iconv.decode(e.slice(r,o),"ascii").replace(/,/g,"/");t+=this.iconv.decode(i.from(a,"base64"),"utf16-be")}45!=e[o]&&o--,r=o+1,n=!1,s=""}}else 38==e[o]&&(t+=this.iconv.decode(e.slice(r,o),"ascii"),r=o+1,n=!0);if(n){var a=s+this.iconv.decode(e.slice(r),"ascii").replace(/,/g,"/"),u=a.length-a.length%8;s=a.slice(u),a=a.slice(0,u),t+=this.iconv.decode(i.from(a,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(r),"ascii");return this.inBase64=n,this.base64Accum=s,t},f.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(i.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e}},774494,(e,t,r)=>{"use strict";var i=e.r(901584).Buffer;function n(e,t){if(!e)throw Error("SBCS codec is called without the data.");if(!e.chars||128!==e.chars.length&&256!==e.chars.length)throw Error("Encoding '"+e.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===e.chars.length){for(var r="",n=0;n<128;n++)r+=String.fromCharCode(n);e.chars=r+e.chars}this.decodeBuf=i.from(e.chars,"ucs2");for(var s=i.alloc(65536,t.defaultCharSingleByte.charCodeAt(0)),n=0;n<e.chars.length;n++)s[e.chars.charCodeAt(n)]=n;this.encodeBuf=s}function s(e,t){this.encodeBuf=t.encodeBuf}function o(e,t){this.decodeBuf=t.decodeBuf}r._sbcs=n,n.prototype.encoder=s,n.prototype.decoder=o,s.prototype.write=function(e){for(var t=i.alloc(e.length),r=0;r<e.length;r++)t[r]=this.encodeBuf[e.charCodeAt(r)];return t},s.prototype.end=function(){},o.prototype.write=function(e){for(var t=this.decodeBuf,r=i.alloc(2*e.length),n=0,s=0,o=0;o<e.length;o++)n=2*e[o],r[s=2*o]=t[n],r[s+1]=t[n+1];return r.toString("ucs2")},o.prototype.end=function(){}},39767,(e,t,r)=>{"use strict";t.exports={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},mik:{type:"_sbcs",chars:""},cp720:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}},482937,(e,t,r)=>{"use strict";t.exports={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\0\x01\x02\x03\x04\x05\x06\x07\b	\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:"\uFEFF"},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:"\0\x03\x07\b	\n\v\f\r\x0e\x0f\x10\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:"\0\x01\x03\x04\x07\b	\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x15\x16\x17\x18\x1a\x1b\x1c\x1d\x1f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},iso646cn:{type:"_sbcs",chars:"\0\x01\x02\x03\x04\x05\x06\x07\b	\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f !\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}"},iso646jp:{type:"_sbcs",chars:"\0\x01\x02\x03\x04\x05\x06\x07\b	\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}"},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}},505612,(e,t,r)=>{"use strict";var i=e.r(901584).Buffer;r._dbcs=o;for(var n=Array(256),s=0;s<256;s++)n[s]=-1;function o(e,t){if(this.encodingName=e.encodingName,!e)throw Error("DBCS codec is called without the data.");if(!e.table)throw Error("Encoding '"+this.encodingName+"' has no data.");var r=e.table();this.decodeTables=[],this.decodeTables[0]=n.slice(0),this.decodeTableSeq=[];for(var i=0;i<r.length;i++)this._addDecodeChunk(r[i]);if("function"==typeof e.gb18030){this.gb18030=e.gb18030();var s=this.decodeTables.length;this.decodeTables.push(n.slice(0));var o=this.decodeTables.length;this.decodeTables.push(n.slice(0));for(var a=this.decodeTables[0],i=129;i<=254;i++)for(var u=this.decodeTables[-1e3-a[i]],l=48;l<=57;l++){if(-1===u[l])u[l]=-1e3-s;else if(u[l]>-1e3)throw Error("gb18030 decode tables conflict at byte 2");for(var c=this.decodeTables[-1e3-u[l]],h=129;h<=254;h++){if(-1===c[h])c[h]=-1e3-o;else if(c[h]===-1e3-o)continue;else if(c[h]>-1e3)throw Error("gb18030 decode tables conflict at byte 3");for(var d=this.decodeTables[-1e3-c[h]],f=48;f<=57;f++)-1===d[f]&&(d[f]=-2)}}}this.defaultCharUnicode=t.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var p={};if(e.encodeSkipVals)for(var i=0;i<e.encodeSkipVals.length;i++){var m=e.encodeSkipVals[i];if("number"==typeof m)p[m]=!0;else for(var l=m.from;l<=m.to;l++)p[l]=!0}if(this._fillEncodeTable(0,0,p),e.encodeAdd)for(var g in e.encodeAdd)Object.prototype.hasOwnProperty.call(e.encodeAdd,g)&&this._setEncodeChar(g.charCodeAt(0),e.encodeAdd[g]);this.defCharSB=this.encodeTable[0][t.defaultCharSingleByte.charCodeAt(0)],-1===this.defCharSB&&(this.defCharSB=this.encodeTable[0]["?"]),-1===this.defCharSB&&(this.defCharSB=63)}function a(e,t){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=t.encodeTable,this.encodeTableSeq=t.encodeTableSeq,this.defaultCharSingleByte=t.defCharSB,this.gb18030=t.gb18030}function u(e,t){this.nodeIdx=0,this.prevBytes=[],this.decodeTables=t.decodeTables,this.decodeTableSeq=t.decodeTableSeq,this.defaultCharUnicode=t.defaultCharUnicode,this.gb18030=t.gb18030}function l(e,t){if(e[0]>t)return -1;for(var r=0,i=e.length;r<i-1;){var n=r+(i-r+1>>1);e[n]<=t?r=n:i=n}return r}o.prototype.encoder=a,o.prototype.decoder=u,o.prototype._getDecodeTrieNode=function(e){for(var t=[];e>0;e>>>=8)t.push(255&e);0==t.length&&t.push(0);for(var r=this.decodeTables[0],i=t.length-1;i>0;i--){var s=r[t[i]];if(-1==s)r[t[i]]=-1e3-this.decodeTables.length,this.decodeTables.push(r=n.slice(0));else if(s<=-1e3)r=this.decodeTables[-1e3-s];else throw Error("Overwrite byte in "+this.encodingName+", addr: "+e.toString(16))}return r},o.prototype._addDecodeChunk=function(e){var t=parseInt(e[0],16),r=this._getDecodeTrieNode(t);t&=255;for(var i=1;i<e.length;i++){var n=e[i];if("string"==typeof n)for(var s=0;s<n.length;){var o=n.charCodeAt(s++);if(55296<=o&&o<56320){var a=n.charCodeAt(s++);if(56320<=a&&a<57344)r[t++]=65536+(o-55296)*1024+(a-56320);else throw Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+e[0])}else if(4080<o&&o<=4095){for(var u=4095-o+2,l=[],c=0;c<u;c++)l.push(n.charCodeAt(s++));r[t++]=-10-this.decodeTableSeq.length,this.decodeTableSeq.push(l)}else r[t++]=o}else if("number"==typeof n)for(var h=r[t-1]+1,s=0;s<n;s++)r[t++]=h++;else throw Error("Incorrect type '"+typeof n+"' given in "+this.encodingName+" at chunk "+e[0])}if(t>255)throw Error("Incorrect chunk in "+this.encodingName+" at addr "+e[0]+": too long"+t)},o.prototype._getEncodeBucket=function(e){var t=e>>8;return void 0===this.encodeTable[t]&&(this.encodeTable[t]=n.slice(0)),this.encodeTable[t]},o.prototype._setEncodeChar=function(e,t){var r=this._getEncodeBucket(e),i=255&e;r[i]<=-10?this.encodeTableSeq[-10-r[i]][-1]=t:-1==r[i]&&(r[i]=t)},o.prototype._setEncodeSequence=function(e,t){var r,i=e[0],n=this._getEncodeBucket(i),s=255&i;n[s]<=-10?r=this.encodeTableSeq[-10-n[s]]:(r={},-1!==n[s]&&(r[-1]=n[s]),n[s]=-10-this.encodeTableSeq.length,this.encodeTableSeq.push(r));for(var o=1;o<e.length-1;o++){var a=r[i];"object"==typeof a?r=a:(r=r[i]={},void 0!==a&&(r[-1]=a))}r[i=e[e.length-1]]=t},o.prototype._fillEncodeTable=function(e,t,r){for(var i=this.decodeTables[e],n=!1,s={},o=0;o<256;o++){var a=i[o],u=t+o;if(!r[u])if(a>=0)this._setEncodeChar(a,u),n=!0;else if(a<=-1e3){var l=-1e3-a;if(!s[l]){var c=u<<8>>>0;this._fillEncodeTable(l,c,r)?n=!0:s[l]=!0}}else a<=-10&&(this._setEncodeSequence(this.decodeTableSeq[-10-a],u),n=!0)}return n},a.prototype.write=function(e){for(var t=i.alloc(e.length*(this.gb18030?4:3)),r=this.leadSurrogate,n=this.seqObj,s=-1,o=0,a=0;;){if(-1===s){if(o==e.length)break;var u=e.charCodeAt(o++)}else{var u=s;s=-1}if(55296<=u&&u<57344)if(u<56320)if(-1===r){r=u;continue}else r=u,u=-1;else -1!==r?(u=65536+(r-55296)*1024+(u-56320),r=-1):u=-1;else -1!==r&&(s=u,u=-1,r=-1);var c=-1;if(void 0!==n&&-1!=u){var h=n[u];if("object"==typeof h){n=h;continue}"number"==typeof h?c=h:void 0==h&&void 0!==(h=n[-1])&&(c=h,s=u),n=void 0}else if(u>=0){var d=this.encodeTable[u>>8];if(void 0!==d&&(c=d[255&u]),c<=-10){n=this.encodeTableSeq[-10-c];continue}if(-1==c&&this.gb18030){var f=l(this.gb18030.uChars,u);if(-1!=f){var c=this.gb18030.gbChars[f]+(u-this.gb18030.uChars[f]);t[a++]=129+Math.floor(c/12600),c%=12600,t[a++]=48+Math.floor(c/1260),c%=1260,t[a++]=129+Math.floor(c/10),c%=10,t[a++]=48+c;continue}}}-1===c&&(c=this.defaultCharSingleByte),c<256?t[a++]=c:(c<65536?t[a++]=c>>8:c<0x1000000?(t[a++]=c>>16,t[a++]=c>>8&255):(t[a++]=c>>>24,t[a++]=c>>>16&255,t[a++]=c>>>8&255),t[a++]=255&c)}return this.seqObj=n,this.leadSurrogate=r,t.slice(0,a)},a.prototype.end=function(){if(-1!==this.leadSurrogate||void 0!==this.seqObj){var e=i.alloc(10),t=0;if(this.seqObj){var r=this.seqObj[-1];void 0!==r&&(r<256?e[t++]=r:(e[t++]=r>>8,e[t++]=255&r)),this.seqObj=void 0}return -1!==this.leadSurrogate&&(e[t++]=this.defaultCharSingleByte,this.leadSurrogate=-1),e.slice(0,t)}},a.prototype.findIdx=l,u.prototype.write=function(e){for(var t,r=i.alloc(2*e.length),n=this.nodeIdx,s=this.prevBytes,o=this.prevBytes.length,a=-this.prevBytes.length,u=0,c=0;u<e.length;u++){var h=u>=0?e[u]:s[u+o],t=this.decodeTables[n][h];if(t>=0);else if(-1===t)t=this.defaultCharUnicode.charCodeAt(0),u=a;else if(-2===t){if(u>=3)var d=(e[u-3]-129)*12600+(e[u-2]-48)*1260+(e[u-1]-129)*10+(h-48);else var d=(s[u-3+o]-129)*12600+((u-2>=0?e[u-2]:s[u-2+o])-48)*1260+((u-1>=0?e[u-1]:s[u-1+o])-129)*10+(h-48);var f=l(this.gb18030.gbChars,d);t=this.gb18030.uChars[f]+d-this.gb18030.gbChars[f]}else if(t<=-1e3){n=-1e3-t;continue}else if(t<=-10){for(var p=this.decodeTableSeq[-10-t],m=0;m<p.length-1;m++)t=p[m],r[c++]=255&t,r[c++]=t>>8;t=p[p.length-1]}else throw Error("iconv-lite internal error: invalid decoding table value "+t+" at "+n+"/"+h);if(t>=65536){var g=55296|(t-=65536)>>10;r[c++]=255&g,r[c++]=g>>8,t=56320|1023&t}r[c++]=255&t,r[c++]=t>>8,n=0,a=u+1}return this.nodeIdx=n,this.prevBytes=a>=0?Array.prototype.slice.call(e,a):s.slice(a+o).concat(Array.prototype.slice.call(e)),r.slice(0,c).toString("ucs2")},u.prototype.end=function(){for(var e="";this.prevBytes.length>0;){e+=this.defaultCharUnicode;var t=this.prevBytes.slice(1);this.prevBytes=[],this.nodeIdx=0,t.length>0&&(e+=this.write(t))}return this.prevBytes=[],this.nodeIdx=0,e}},509855,(e,t,r)=>{"use strict";t.exports={shiftjis:{type:"_dbcs",table:function(){return e.r(417537)},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return e.r(859706)},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return e.r(339343)}},gbk:{type:"_dbcs",table:function(){return e.r(339343).concat(e.r(420231))}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return e.r(339343).concat(e.r(420231))},gb18030:function(){return e.r(737118)},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return e.r(740845)}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return e.r(865635)}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return e.r(865635).concat(e.r(352117))},encodeSkipVals:[36457,36463,36478,36523,36532,36557,36560,36695,36713,36718,36811,36862,36973,36986,37060,37084,37105,37311,37551,37552,37553,37554,37585,37959,38090,38361,38652,39285,39798,39800,39803,39878,39902,39916,39926,40002,40019,40034,40040,40043,40055,40124,40125,40144,40279,40282,40388,40431,40443,40617,40687,40701,40800,40907,41079,41180,41183,36812,37576,38468,38637,41636,41637,41639,41638,41676,41678]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}},246866,(e,t,r)=>{"use strict";for(var i=[e.r(274237),e.r(448680),e.r(688786),e.r(492121),e.r(774494),e.r(39767),e.r(482937),e.r(505612),e.r(509855)],n=0;n<i.length;n++){var t=i[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}},184752,(e,t,r)=>{"use strict";var i=e.r(901584).Buffer;t.exports=function(e){var t=e.Transform;function r(e,r){this.conv=e,(r=r||{}).decodeStrings=!1,t.call(this,r)}function n(e,r){this.conv=e,(r=r||{}).encoding=this.encoding="utf8",t.call(this,r)}return r.prototype=Object.create(t.prototype,{constructor:{value:r}}),r.prototype._transform=function(e,t,r){if("string"!=typeof e)return r(Error("Iconv encoding stream needs strings as its input."));try{var i=this.conv.write(e);i&&i.length&&this.push(i),r()}catch(e){r(e)}},r.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t),e()}catch(t){e(t)}},r.prototype.collect=function(e){var t=[];return this.on("error",e),this.on("data",function(e){t.push(e)}),this.on("end",function(){e(null,i.concat(t))}),this},n.prototype=Object.create(t.prototype,{constructor:{value:n}}),n.prototype._transform=function(e,t,r){if(!i.isBuffer(e)&&!(e instanceof Uint8Array))return r(Error("Iconv decoding stream needs buffers as its input."));try{var n=this.conv.write(e);n&&n.length&&this.push(n,this.encoding),r()}catch(e){r(e)}},n.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t,this.encoding),e()}catch(t){e(t)}},n.prototype.collect=function(e){var t="";return this.on("error",e),this.on("data",function(e){t+=e}),this.on("end",function(){e(null,t)}),this},{IconvLiteEncoderStream:r,IconvLiteDecoderStream:n}}},588977,(e,t,r)=>{"use strict";var i,n=e.r(901584).Buffer,s=e.r(4624),o=t.exports;o.encodings=null,o.defaultCharUnicode="",o.defaultCharSingleByte="?",o.encode=function(e,t,r){e=""+(e||"");var i=o.getEncoder(t,r),s=i.write(e),a=i.end();return a&&a.length>0?n.concat([s,a]):s},o.decode=function(e,t,r){"string"==typeof e&&(o.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),o.skipDecodeWarning=!0),e=n.from(""+(e||""),"binary"));var i=o.getDecoder(t,r),s=i.write(e),a=i.end();return a?s+a:s},o.encodingExists=function(e){try{return o.getCodec(e),!0}catch(e){return!1}},o.toEncoding=o.encode,o.fromEncoding=o.decode,o._codecDataCache={},o.getCodec=function(t){o.encodings||(o.encodings=e.r(246866));for(var r=o._canonicalizeEncoding(t),i={};;){var n=o._codecDataCache[r];if(n)return n;var s=o.encodings[r];switch(typeof s){case"string":r=s;break;case"object":for(var a in s)i[a]=s[a];i.encodingName||(i.encodingName=r),r=s.type;break;case"function":return i.encodingName||(i.encodingName=r),n=new s(i,o),o._codecDataCache[i.encodingName]=n,n;default:throw Error("Encoding not recognized: '"+t+"' (searched as: '"+r+"')")}}},o._canonicalizeEncoding=function(e){return(""+e).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},o.getEncoder=function(e,t){var r=o.getCodec(e),i=new r.encoder(t,r);return r.bomAware&&t&&t.addBOM&&(i=new s.PrependBOM(i,t)),i},o.getDecoder=function(e,t){var r=o.getCodec(e),i=new r.decoder(t,r);return r.bomAware&&!(t&&!1===t.stripBOM)&&(i=new s.StripBOM(i,t)),i},o.enableStreamingAPI=function(t){if(!o.supportsStreams){var r=e.r(184752)(t);o.IconvLiteEncoderStream=r.IconvLiteEncoderStream,o.IconvLiteDecoderStream=r.IconvLiteDecoderStream,o.encodeStream=function(e,t){return new o.IconvLiteEncoderStream(o.getEncoder(e,t),t)},o.decodeStream=function(e,t){return new o.IconvLiteDecoderStream(o.getDecoder(e,t),t)},o.supportsStreams=!0}};try{i=e.r(688947)}catch(e){}i&&i.Transform?o.enableStreamingAPI(i):o.encodeStream=o.decodeStream=function(){throw Error("iconv-lite Streaming API is not enabled. Use iconv.enableStreamingAPI(require('stream')); to enable it.")}},14961,(e,t,r)=>{"use strict";var i=e.r(588977);function n(e){return(e||"").toString().trim().replace(/^latin[\-_]?(\d+)$/i,"ISO-8859-$1").replace(/^win(?:dows)?[\-_]?(\d+)$/i,"WINDOWS-$1").replace(/^utf[\-_]?(\d+)$/i,"UTF-$1").replace(/^ks_c_5601\-1987$/i,"CP949").replace(/^us[\-_]?ascii$/i,"ASCII").toUpperCase()}t.exports.convert=function(e,t,r){var s,o,a,u;if(r=n(r||"UTF-8"),t=n(t||"UTF-8"),e=e||"","UTF-8"!==r&&"string"==typeof e&&(e=Buffer.from(e,"binary")),r===t)s="string"==typeof e?Buffer.from(e):e;else try{o=e,a=t,u=r,s="UTF-8"===a?i.decode(o,u):"UTF-8"===u?i.encode(o,a):i.encode(i.decode(o,u),a)}catch(t){console.error(t),s=e}return"string"==typeof s&&(s=Buffer.from(s,"utf-8")),s}},502122,(e,t,r)=>{var i=e.r(522734),n=e.r(814747),s=e.r(446786),o="function"==typeof __webpack_require__?__non_webpack_require__:e.t,a=process.config&&process.config.variables||{},u=!!process.env.PREBUILDS_ONLY,l=process.versions.modules,c=process.versions&&process.versions.electron||process.env.ELECTRON_RUN_AS_NODE?"electron":process.versions&&process.versions.nw?"node-webkit":"node",h=process.env.npm_config_arch||s.arch(),d=process.env.npm_config_platform||s.platform(),f=process.env.LIBC||("linux"===d&&i.existsSync("/etc/alpine-release")?"musl":"glibc"),p=process.env.ARM_VERSION||("arm64"===h?"8":a.arm_version)||"",m=(process.versions.uv||"").split(".")[0];function g(e){return o(g.resolve(e))}function y(e){try{return i.readdirSync(e)}catch(e){return[]}}function b(e,t){var r=y(e).filter(t);return r[0]&&n.join(e,r[0])}function v(e){return/\.node$/.test(e)}function w(e){var t=e.split("-");if(2===t.length){var r=t[0],i=t[1].split("+");if(r&&i.length&&i.every(Boolean))return{name:e,platform:r,architectures:i}}}function _(e,t){return function(r){return null!=r&&r.platform===e&&r.architectures.includes(t)}}function x(e,t){return e.architectures.length-t.architectures.length}function S(e){var t=e.split("."),r=t.pop(),i={file:e,specificity:0};if("node"===r){for(var n=0;n<t.length;n++){var s=t[n];if("node"===s||"electron"===s||"node-webkit"===s)i.runtime=s;else if("napi"===s)i.napi=!0;else if("abi"===s.slice(0,3))i.abi=s.slice(3);else if("uv"===s.slice(0,2))i.uv=s.slice(2);else if("armv"===s.slice(0,4))i.armv=s.slice(4);else{if("glibc"!==s&&"musl"!==s)continue;i.libc=s}i.specificity++}return i}}function k(e,t){return function(r){var i;return null!=r&&(!r.runtime||r.runtime===e||!!("node"===(i=r).runtime&&i.napi))&&(!r.abi||r.abi===t||!!r.napi)&&(!r.uv||r.uv===m)&&(!r.armv||r.armv===p)&&(!r.libc||r.libc===f)&&!0}}function E(e){return function(t,r){return t.runtime!==r.runtime?t.runtime===e?-1:1:t.abi!==r.abi?t.abi?-1:1:t.specificity!==r.specificity?t.specificity>r.specificity?-1:1:0}}t.exports=g,g.resolve=g.path=function(e){e=n.resolve(e||".");try{var t=o(n.join(e,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[t+"_PREBUILD"]&&(e=process.env[t+"_PREBUILD"])}catch(e){}if(!u){var r=b(n.join(e,"build/Release"),v);if(r)return r;var i=b(n.join(e,"build/Debug"),v);if(i)return i}var s=g(e);if(s)return s;var a=g(n.dirname(process.execPath));if(a)return a;throw Error("No native build was found for "+["platform="+d,"arch="+h,"runtime="+c,"abi="+l,"uv="+m,p?"armv="+p:"","libc="+f,"node="+process.versions.node,process.versions.electron?"electron="+process.versions.electron:"","function"==typeof __webpack_require__?"webpack=true":""].filter(Boolean).join(" ")+"\n    loaded from: "+e+"\n");function g(e){var t=y(n.join(e,"prebuilds")).map(w).filter(_(d,h)).sort(x)[0];if(t){var r=n.join(e,"prebuilds",t.name),i=y(r).map(S).filter(k(c,l)).sort(E(c))[0];if(i)return n.join(r,i.file)}}},g.parseTags=S,g.matchTags=k,g.compareTags=E,g.parseTuple=w,g.matchTuple=_,g.compareTuples=x},535489,(e,t,r)=>{let i="function"==typeof __webpack_require__?__non_webpack_require__:e.t;"function"==typeof i.addon?t.exports=i.addon.bind(i):t.exports=e.r(502122)},278919,(e,t,r)=>{"use strict";t.exports={mask:(e,t,r,i,n)=>{for(var s=0;s<n;s++)r[i+s]=e[s]^t[3&s]},unmask:(e,t)=>{let r=e.length;for(var i=0;i<r;i++)e[i]^=t[3&i]}}},953750,(e,t,r)=>{"use strict";try{t.exports=e.r(535489)("/ROOT/.gemini/antigravity/scratch/folymarket/node_modules/bufferutil")}catch(r){t.exports=e.r(278919)}},284582,(e,t,r)=>{"use strict";let i=["nodebuffer","arraybuffer","fragments"],n="undefined"!=typeof Blob;n&&i.push("blob"),t.exports={BINARY_TYPES:i,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:n,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},877360,(e,t,r)=>{"use strict";let{EMPTY_BUFFER:i}=e.r(284582),n=Buffer[Symbol.species];function s(e,t,r,i,n){for(let s=0;s<n;s++)r[i+s]=e[s]^t[3&s]}function o(e,t){for(let r=0;r<e.length;r++)e[r]^=t[3&r]}function a(e){let t;return(a.readOnly=!0,Buffer.isBuffer(e))?e:(e instanceof ArrayBuffer?t=new n(e):ArrayBuffer.isView(e)?t=new n(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),a.readOnly=!1),t)}if(t.exports={concat:function(e,t){if(0===e.length)return i;if(1===e.length)return e[0];let r=Buffer.allocUnsafe(t),s=0;for(let t=0;t<e.length;t++){let i=e[t];r.set(i,s),s+=i.length}return s<t?new n(r.buffer,r.byteOffset,s):r},mask:s,toArrayBuffer:function(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)},toBuffer:a,unmask:o},!process.env.WS_NO_BUFFER_UTIL)try{let r=e.r(953750);t.exports.mask=function(e,t,i,n,o){o<48?s(e,t,i,n,o):r.mask(e,t,i,n,o)},t.exports.unmask=function(e,t){e.length<32?o(e,t):r.unmask(e,t)}}catch(e){}},481855,(e,t,r)=>{"use strict";let i=Symbol("kDone"),n=Symbol("kRun");t.exports=class{constructor(e){this[i]=()=>{this.pending--,this[n]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[n]()}[n](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[i])}}}},533823,(e,t,r)=>{"use strict";let i,n=e.r(406461),s=e.r(877360),o=e.r(481855),{kStatusCode:a}=e.r(284582),u=Buffer[Symbol.species],l=Buffer.from([0,0,255,255]),c=Symbol("permessage-deflate"),h=Symbol("total-length"),d=Symbol("callback"),f=Symbol("buffers"),p=Symbol("error");function m(e){this[f].push(e),this[h]+=e.length}function g(e){(this[h]+=e.length,this[c]._maxPayload<1||this[h]<=this[c]._maxPayload)?this[f].push(e):(this[p]=RangeError("Max payload size exceeded"),this[p].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[p][a]=1009,this.removeListener("data",g),this.reset())}function y(e){(this[c]._inflate=null,this[p])?this[d](this[p]):(e[a]=1007,this[d](e))}t.exports=class{constructor(e,t,r){this._maxPayload=0|r,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,i||(i=new o(void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10))}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[d];this._deflate.close(),this._deflate=null,e&&e(Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,r=e.find(e=>(!1!==t.serverNoContextTakeover||!e.server_no_context_takeover)&&(!e.server_max_window_bits||!1!==t.serverMaxWindowBits&&("number"!=typeof t.serverMaxWindowBits||!(t.serverMaxWindowBits>e.server_max_window_bits)))&&("number"!=typeof t.clientMaxWindowBits||!!e.client_max_window_bits));if(!r)throw Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(r.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?r.client_max_window_bits=t.clientMaxWindowBits:(!0===r.client_max_window_bits||!1===t.clientMaxWindowBits)&&delete r.client_max_window_bits,r}acceptAsClient(e){let t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let r=e[t];if(r.length>1)throw Error(`Parameter "${t}" must have only a single value`);if(r=r[0],"client_max_window_bits"===t){if(!0!==r){let e=+r;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if(!this._isServer)throw TypeError(`Invalid value for parameter "${t}": ${r}`)}else if("server_max_window_bits"===t){let e=+r;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if("client_no_context_takeover"===t||"server_no_context_takeover"===t){if(!0!==r)throw TypeError(`Invalid value for parameter "${t}": ${r}`)}else throw Error(`Unknown parameter "${t}"`);e[t]=r})}),e}decompress(e,t,r){i.add(i=>{this._decompress(e,t,(e,t)=>{i(),r(e,t)})})}compress(e,t,r){i.add(i=>{this._compress(e,t,(e,t)=>{i(),r(e,t)})})}_decompress(e,t,r){let i=this._isServer?"client":"server";if(!this._inflate){let e=`${i}_max_window_bits`,t="number"!=typeof this.params[e]?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=n.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[c]=this,this._inflate[h]=0,this._inflate[f]=[],this._inflate.on("error",y),this._inflate.on("data",g)}this._inflate[d]=r,this._inflate.write(e),t&&this._inflate.write(l),this._inflate.flush(()=>{let e=this._inflate[p];if(e){this._inflate.close(),this._inflate=null,r(e);return}let n=s.concat(this._inflate[f],this._inflate[h]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[h]=0,this._inflate[f]=[],t&&this.params[`${i}_no_context_takeover`]&&this._inflate.reset()),r(null,n)})}_compress(e,t,r){let i=this._isServer?"server":"client";if(!this._deflate){let e=`${i}_max_window_bits`,t="number"!=typeof this.params[e]?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=n.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[h]=0,this._deflate[f]=[],this._deflate.on("data",m)}this._deflate[d]=r,this._deflate.write(e),this._deflate.flush(n.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=s.concat(this._deflate[f],this._deflate[h]);t&&(e=new u(e.buffer,e.byteOffset,e.length-4)),this._deflate[d]=null,this._deflate[h]=0,this._deflate[f]=[],t&&this.params[`${i}_no_context_takeover`]&&this._deflate.reset(),r(null,e)})}}},189640,(e,t,r)=>{"use strict";t.exports=function(e){let t=e.length,r=0;for(;r<t;)if((128&e[r])==0)r++;else if((224&e[r])==192){if(r+1===t||(192&e[r+1])!=128||(254&e[r])==192)return!1;r+=2}else if((240&e[r])==224){if(r+2>=t||(192&e[r+1])!=128||(192&e[r+2])!=128||224===e[r]&&(224&e[r+1])==128||237===e[r]&&(224&e[r+1])==160)return!1;r+=3}else{if((248&e[r])!=240||r+3>=t||(192&e[r+1])!=128||(192&e[r+2])!=128||(192&e[r+3])!=128||240===e[r]&&(240&e[r+1])==128||244===e[r]&&e[r+1]>143||e[r]>244)return!1;r+=4}return!0}},260118,(e,t,r)=>{"use strict";try{t.exports=e.r(535489)("/ROOT/.gemini/antigravity/scratch/folymarket/node_modules/utf-8-validate")}catch(r){t.exports=e.r(189640)}},261973,(e,t,r)=>{"use strict";let{isUtf8:i}=e.r(500874),{hasBlob:n}=e.r(284582);function s(e){let t=e.length,r=0;for(;r<t;)if((128&e[r])==0)r++;else if((224&e[r])==192){if(r+1===t||(192&e[r+1])!=128||(254&e[r])==192)return!1;r+=2}else if((240&e[r])==224){if(r+2>=t||(192&e[r+1])!=128||(192&e[r+2])!=128||224===e[r]&&(224&e[r+1])==128||237===e[r]&&(224&e[r+1])==160)return!1;r+=3}else{if((248&e[r])!=240||r+3>=t||(192&e[r+1])!=128||(192&e[r+2])!=128||(192&e[r+3])!=128||240===e[r]&&(240&e[r+1])==128||244===e[r]&&e[r+1]>143||e[r]>244)return!1;r+=4}return!0}if(t.exports={isBlob:function(e){return n&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&("Blob"===e[Symbol.toStringTag]||"File"===e[Symbol.toStringTag])},isValidStatusCode:function(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},isValidUTF8:s,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},i)t.exports.isValidUTF8=function(e){return e.length<24?s(e):i(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let r=e.r(260118);t.exports.isValidUTF8=function(e){return e.length<32?s(e):r(e)}}catch(e){}},76176,(e,t,r)=>{"use strict";let{Writable:i}=e.r(688947),n=e.r(533823),{BINARY_TYPES:s,EMPTY_BUFFER:o,kStatusCode:a,kWebSocket:u}=e.r(284582),{concat:l,toArrayBuffer:c,unmask:h}=e.r(877360),{isValidStatusCode:d,isValidUTF8:f}=e.r(261973),p=Buffer[Symbol.species];t.exports=class extends i{constructor(e={}){super(),this._allowSynchronousEvents=void 0===e.allowSynchronousEvents||e.allowSynchronousEvents,this._binaryType=e.binaryType||s[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[u]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=0}_write(e,t,r){if(8===this._opcode&&0==this._state)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let t=this._buffers[0];return this._buffers[0]=new p(t.buffer,t.byteOffset+e,t.length-e),new p(t.buffer,t.byteOffset,e)}let t=Buffer.allocUnsafe(e);do{let r=this._buffers[0],i=t.length-e;e>=r.length?t.set(this._buffers.shift(),i):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),i),this._buffers[0]=new p(r.buffer,r.byteOffset+e,r.length-e)),e-=r.length}while(e>0)return t}startLoop(e){this._loop=!0;do switch(this._state){case 0:this.getInfo(e);break;case 1:this.getPayloadLength16(e);break;case 2:this.getPayloadLength64(e);break;case 3:this.getMask();break;case 4:this.getData(e);break;case 5:case 6:this._loop=!1;return}while(this._loop)this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let t=this.consume(2);if((48&t[0])!=0)return void e(this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3"));let r=(64&t[0])==64;if(r&&!this._extensions[n.extensionName])return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(this._fin=(128&t[0])==128,this._opcode=15&t[0],this._payloadLength=127&t[1],0===this._opcode){if(r)return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(!this._fragmented)return void e(this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE"));this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return void e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));this._compressed=r}else{if(!(this._opcode>7)||!(this._opcode<11))return void e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));if(!this._fin)return void e(this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN"));if(r)return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength)return void e(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH"))}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=(128&t[1])==128,this._isServer){if(!this._masked)return void e(this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK"))}else if(this._masked)return void e(this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK"));126===this._payloadLength?this._state=1:127===this._payloadLength?this._state=2:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let t=this.consume(8),r=t.readUInt32BE(0);r>2097151?e(this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=0x100000000*r+t.readUInt32BE(4),this.haveLength(e))}haveLength(e){this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)?e(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH")):this._masked?this._state=3:this._state=4}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=4}getData(e){let t=o;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!=0&&h(t,this._mask)}if(this._opcode>7)return void this.controlMessage(t,e);if(this._compressed){this._state=5,this.decompress(t,e);return}t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage(e)}decompress(e,t){this._extensions[n.extensionName].decompress(e,this._fin,(e,r)=>{if(e)return t(e);if(r.length){if(this._messageLength+=r.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return void t(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(r)}this.dataMessage(t),0===this._state&&this.startLoop(t)})}dataMessage(e){if(!this._fin){this._state=0;return}let t=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let i;i="nodebuffer"===this._binaryType?l(r,t):"arraybuffer"===this._binaryType?c(l(r,t)):"blob"===this._binaryType?new Blob(r):r,this._allowSynchronousEvents?(this.emit("message",i,!0),this._state=0):(this._state=6,setImmediate(()=>{this.emit("message",i,!0),this._state=0,this.startLoop(e)}))}else{let i=l(r,t);if(!this._skipUTF8Validation&&!f(i))return void e(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));5===this._state||this._allowSynchronousEvents?(this.emit("message",i,!1),this._state=0):(this._state=6,setImmediate(()=>{this.emit("message",i,!1),this._state=0,this.startLoop(e)}))}}controlMessage(e,t){if(8===this._opcode){if(0===e.length)this._loop=!1,this.emit("conclude",1005,o),this.end();else{let r=e.readUInt16BE(0);if(!d(r))return void t(this.createError(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE"));let i=new p(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!f(i))return void t(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));this._loop=!1,this.emit("conclude",r,i),this.end()}this._state=0;return}this._allowSynchronousEvents?(this.emit(9===this._opcode?"ping":"pong",e),this._state=0):(this._state=6,setImmediate(()=>{this.emit(9===this._opcode?"ping":"pong",e),this._state=0,this.startLoop(t)}))}createError(e,t,r,i,n){this._loop=!1,this._errored=!0;let s=new e(r?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(s,this.createError),s.code=n,s[a]=i,s}}},414699,(e,t,r)=>{"use strict";let i,{Duplex:n}=e.r(688947),{randomFillSync:s}=e.r(254799),o=e.r(533823),{EMPTY_BUFFER:a,kWebSocket:u,NOOP:l}=e.r(284582),{isBlob:c,isValidStatusCode:h}=e.r(261973),{mask:d,toBuffer:f}=e.r(877360),p=Symbol("kByteLength"),m=Buffer.alloc(4),g=8192;class y{constructor(e,t,r){this._extensions=t||{},r&&(this._generateMask=r,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=0,this.onerror=l,this[u]=void 0}static frame(e,t){let r,n,o=!1,a=2,u=!1;t.mask&&(r=t.maskBuffer||m,t.generateMask?t.generateMask(r):(8192===g&&(void 0===i&&(i=Buffer.alloc(8192)),s(i,0,8192),g=0),r[0]=i[g++],r[1]=i[g++],r[2]=i[g++],r[3]=i[g++]),u=(r[0]|r[1]|r[2]|r[3])==0,a=6),"string"==typeof e?n=(!t.mask||u)&&void 0!==t[p]?t[p]:(e=Buffer.from(e)).length:(n=e.length,o=t.mask&&t.readOnly&&!u);let l=n;n>=65536?(a+=8,l=127):n>125&&(a+=2,l=126);let c=Buffer.allocUnsafe(o?n+a:a);return(c[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(c[0]|=64),c[1]=l,126===l?c.writeUInt16BE(n,2):127===l&&(c[2]=c[3]=0,c.writeUIntBE(n,4,6)),t.mask)?(c[1]|=128,c[a-4]=r[0],c[a-3]=r[1],c[a-2]=r[2],c[a-1]=r[3],u)?[c,e]:o?(d(e,r,c,a,n),[c]):(d(e,r,e,0,n),[c,e]):[c,e]}close(e,t,r,i){let n;if(void 0===e)n=a;else if("number"==typeof e&&h(e))if(void 0!==t&&t.length){let r=Buffer.byteLength(t);if(r>123)throw RangeError("The message must not be greater than 123 bytes");(n=Buffer.allocUnsafe(2+r)).writeUInt16BE(e,0),"string"==typeof t?n.write(t,2):n.set(t,2)}else(n=Buffer.allocUnsafe(2)).writeUInt16BE(e,0);else throw TypeError("First argument must be a valid error code number");let s={[p]:n.length,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};0!==this._state?this.enqueue([this.dispatch,n,!1,s,i]):this.sendFrame(y.frame(n,s),i)}ping(e,t,r){let i,n;if("string"==typeof e?(i=Buffer.byteLength(e),n=!1):c(e)?(i=e.size,n=!1):(i=(e=f(e)).length,n=f.readOnly),i>125)throw RangeError("The data size must not be greater than 125 bytes");let s={[p]:i,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:n,rsv1:!1};c(e)?0!==this._state?this.enqueue([this.getBlobData,e,!1,s,r]):this.getBlobData(e,!1,s,r):0!==this._state?this.enqueue([this.dispatch,e,!1,s,r]):this.sendFrame(y.frame(e,s),r)}pong(e,t,r){let i,n;if("string"==typeof e?(i=Buffer.byteLength(e),n=!1):c(e)?(i=e.size,n=!1):(i=(e=f(e)).length,n=f.readOnly),i>125)throw RangeError("The data size must not be greater than 125 bytes");let s={[p]:i,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:n,rsv1:!1};c(e)?0!==this._state?this.enqueue([this.getBlobData,e,!1,s,r]):this.getBlobData(e,!1,s,r):0!==this._state?this.enqueue([this.dispatch,e,!1,s,r]):this.sendFrame(y.frame(e,s),r)}send(e,t,r){let i,n,s=this._extensions[o.extensionName],a=t.binary?2:1,u=t.compress;"string"==typeof e?(i=Buffer.byteLength(e),n=!1):c(e)?(i=e.size,n=!1):(i=(e=f(e)).length,n=f.readOnly),this._firstFragment?(this._firstFragment=!1,u&&s&&s.params[s._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(u=i>=s._threshold),this._compress=u):(u=!1,a=0),t.fin&&(this._firstFragment=!0);let l={[p]:i,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:n,rsv1:u};c(e)?0!==this._state?this.enqueue([this.getBlobData,e,this._compress,l,r]):this.getBlobData(e,this._compress,l,r):0!==this._state?this.enqueue([this.dispatch,e,this._compress,l,r]):this.dispatch(e,this._compress,l,r)}getBlobData(e,t,r,i){this._bufferedBytes+=r[p],this._state=2,e.arrayBuffer().then(e=>{if(this._socket.destroyed){let e=Error("The socket was closed while the blob was being read");process.nextTick(b,this,e,i);return}this._bufferedBytes-=r[p];let n=f(e);t?this.dispatch(n,t,r,i):(this._state=0,this.sendFrame(y.frame(n,r),i),this.dequeue())}).catch(e=>{process.nextTick(v,this,e,i)})}dispatch(e,t,r,i){if(!t)return void this.sendFrame(y.frame(e,r),i);let n=this._extensions[o.extensionName];this._bufferedBytes+=r[p],this._state=1,n.compress(e,r.fin,(e,t)=>{this._socket.destroyed?b(this,Error("The socket was closed while data was being compressed"),i):(this._bufferedBytes-=r[p],this._state=0,r.readOnly=!1,this.sendFrame(y.frame(t,r),i),this.dequeue())})}dequeue(){for(;0===this._state&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][p],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][p],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}function b(e,t,r){"function"==typeof r&&r(t);for(let r=0;r<e._queue.length;r++){let i=e._queue[r],n=i[i.length-1];"function"==typeof n&&n(t)}}function v(e,t,r){b(e,t,r),e.onerror(t)}t.exports=y},455675,(e,t,r)=>{"use strict";let{kForOnEventAttribute:i,kListener:n}=e.r(284582),s=Symbol("kCode"),o=Symbol("kData"),a=Symbol("kError"),u=Symbol("kMessage"),l=Symbol("kReason"),c=Symbol("kTarget"),h=Symbol("kType"),d=Symbol("kWasClean");class f{constructor(e){this[c]=null,this[h]=e}get target(){return this[c]}get type(){return this[h]}}Object.defineProperty(f.prototype,"target",{enumerable:!0}),Object.defineProperty(f.prototype,"type",{enumerable:!0});class p extends f{constructor(e,t={}){super(e),this[s]=void 0===t.code?0:t.code,this[l]=void 0===t.reason?"":t.reason,this[d]=void 0!==t.wasClean&&t.wasClean}get code(){return this[s]}get reason(){return this[l]}get wasClean(){return this[d]}}Object.defineProperty(p.prototype,"code",{enumerable:!0}),Object.defineProperty(p.prototype,"reason",{enumerable:!0}),Object.defineProperty(p.prototype,"wasClean",{enumerable:!0});class m extends f{constructor(e,t={}){super(e),this[a]=void 0===t.error?null:t.error,this[u]=void 0===t.message?"":t.message}get error(){return this[a]}get message(){return this[u]}}Object.defineProperty(m.prototype,"error",{enumerable:!0}),Object.defineProperty(m.prototype,"message",{enumerable:!0});class g extends f{constructor(e,t={}){super(e),this[o]=void 0===t.data?null:t.data}get data(){return this[o]}}function y(e,t,r){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,r):e.call(t,r)}Object.defineProperty(g.prototype,"data",{enumerable:!0}),t.exports={CloseEvent:p,ErrorEvent:m,Event:f,EventTarget:{addEventListener(e,t,r={}){let s;for(let s of this.listeners(e))if(!r[i]&&s[n]===t&&!s[i])return;if("message"===e)s=function(e,r){let i=new g("message",{data:r?e:e.toString()});i[c]=this,y(t,this,i)};else if("close"===e)s=function(e,r){let i=new p("close",{code:e,reason:r.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});i[c]=this,y(t,this,i)};else if("error"===e)s=function(e){let r=new m("error",{error:e,message:e.message});r[c]=this,y(t,this,r)};else{if("open"!==e)return;s=function(){let e=new f("open");e[c]=this,y(t,this,e)}}s[i]=!!r[i],s[n]=t,r.once?this.once(e,s):this.on(e,s)},removeEventListener(e,t){for(let r of this.listeners(e))if(r[n]===t&&!r[i]){this.removeListener(e,r);break}}},MessageEvent:g}},522087,(e,t,r)=>{"use strict";let{tokenChars:i}=e.r(261973);function n(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}t.exports={format:function(e){return Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>[t].concat(Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){let t,r,s=Object.create(null),o=Object.create(null),a=!1,u=!1,l=!1,c=-1,h=-1,d=-1,f=0;for(;f<e.length;f++)if(h=e.charCodeAt(f),void 0===t)if(-1===d&&1===i[h])-1===c&&(c=f);else if(0!==f&&(32===h||9===h))-1===d&&-1!==c&&(d=f);else if(59===h||44===h){if(-1===c)throw SyntaxError(`Unexpected character at index ${f}`);-1===d&&(d=f);let r=e.slice(c,d);44===h?(n(s,r,o),o=Object.create(null)):t=r,c=d=-1}else throw SyntaxError(`Unexpected character at index ${f}`);else if(void 0===r)if(-1===d&&1===i[h])-1===c&&(c=f);else if(32===h||9===h)-1===d&&-1!==c&&(d=f);else if(59===h||44===h){if(-1===c)throw SyntaxError(`Unexpected character at index ${f}`);-1===d&&(d=f),n(o,e.slice(c,d),!0),44===h&&(n(s,t,o),o=Object.create(null),t=void 0),c=d=-1}else if(61===h&&-1!==c&&-1===d)r=e.slice(c,f),c=d=-1;else throw SyntaxError(`Unexpected character at index ${f}`);else if(u){if(1!==i[h])throw SyntaxError(`Unexpected character at index ${f}`);-1===c?c=f:a||(a=!0),u=!1}else if(l)if(1===i[h])-1===c&&(c=f);else if(34===h&&-1!==c)l=!1,d=f;else if(92===h)u=!0;else throw SyntaxError(`Unexpected character at index ${f}`);else if(34===h&&61===e.charCodeAt(f-1))l=!0;else if(-1===d&&1===i[h])-1===c&&(c=f);else if(-1!==c&&(32===h||9===h))-1===d&&(d=f);else if(59===h||44===h){if(-1===c)throw SyntaxError(`Unexpected character at index ${f}`);-1===d&&(d=f);let i=e.slice(c,d);a&&(i=i.replace(/\\/g,""),a=!1),n(o,r,i),44===h&&(n(s,t,o),o=Object.create(null),t=void 0),r=void 0,c=d=-1}else throw SyntaxError(`Unexpected character at index ${f}`);if(-1===c||l||32===h||9===h)throw SyntaxError("Unexpected end of input");-1===d&&(d=f);let p=e.slice(c,d);return void 0===t?n(s,p,o):(void 0===r?n(o,p,!0):a?n(o,r,p.replace(/\\/g,"")):n(o,r,p),n(s,t,o)),s}}},853915,(e,t,r)=>{"use strict";let i=e.r(427699),n=e.r(524836),s=e.r(921517),o=e.r(504446),a=e.r(755004),{randomBytes:u,createHash:l}=e.r(254799),{Duplex:c,Readable:h}=e.r(688947),{URL:d}=e.r(792509),f=e.r(533823),p=e.r(76176),m=e.r(414699),{isBlob:g}=e.r(261973),{BINARY_TYPES:y,EMPTY_BUFFER:b,GUID:v,kForOnEventAttribute:w,kListener:_,kStatusCode:x,kWebSocket:S,NOOP:k}=e.r(284582),{EventTarget:{addEventListener:E,removeEventListener:B}}=e.r(455675),{format:A,parse:T}=e.r(522087),{toBuffer:C}=e.r(877360),I=Symbol("kAborted"),O=[8,13],M=["CONNECTING","OPEN","CLOSING","CLOSED"],P=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class R extends i{constructor(e,t,r){super(),this._binaryType=y[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=b,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=R.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||("object"==typeof t&&null!==t?(r=t,t=[]):t=[t]),function e(t,r,i,o){let a,c,h,p,m={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:O[1],maxPayload:0x6400000,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...o,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(t._autoPong=m.autoPong,!O.includes(m.protocolVersion))throw RangeError(`Unsupported protocol version: ${m.protocolVersion} (supported versions: ${O.join(", ")})`);if(r instanceof d)a=r;else try{a=new d(r)}catch(e){throw SyntaxError(`Invalid URL: ${r}`)}"http:"===a.protocol?a.protocol="ws:":"https:"===a.protocol&&(a.protocol="wss:"),t._url=a.href;let g="wss:"===a.protocol,y="ws+unix:"===a.protocol;if("ws:"===a.protocol||g||y?y&&!a.pathname?c="The URL's pathname is empty":a.hash&&(c="The URL contains a fragment identifier"):c='The URL\'s protocol must be one of "ws:", "wss:", "http:", "https:", or "ws+unix:"',c){let e=SyntaxError(c);if(0!==t._redirects)return void N(t,e);throw e}let b=g?443:80,w=u(16).toString("base64"),_=g?n.request:s.request,x=new Set;if(m.createConnection=m.createConnection||(g?U:L),m.defaultPort=m.defaultPort||b,m.port=a.port||b,m.host=a.hostname.startsWith("[")?a.hostname.slice(1,-1):a.hostname,m.headers={...m.headers,"Sec-WebSocket-Version":m.protocolVersion,"Sec-WebSocket-Key":w,Connection:"Upgrade",Upgrade:"websocket"},m.path=a.pathname+a.search,m.timeout=m.handshakeTimeout,m.perMessageDeflate&&(h=new f(!0!==m.perMessageDeflate?m.perMessageDeflate:{},!1,m.maxPayload),m.headers["Sec-WebSocket-Extensions"]=A({[f.extensionName]:h.offer()})),i.length){for(let e of i){if("string"!=typeof e||!P.test(e)||x.has(e))throw SyntaxError("An invalid or duplicated subprotocol was specified");x.add(e)}m.headers["Sec-WebSocket-Protocol"]=i.join(",")}if(m.origin&&(m.protocolVersion<13?m.headers["Sec-WebSocket-Origin"]=m.origin:m.headers.Origin=m.origin),(a.username||a.password)&&(m.auth=`${a.username}:${a.password}`),y){let e=m.path.split(":");m.socketPath=e[0],m.path=e[1]}if(m.followRedirects){if(0===t._redirects){t._originalIpc=y,t._originalSecure=g,t._originalHostOrSocketPath=y?m.socketPath:a.host;let e=o&&o.headers;if(o={...o,headers:{}},e)for(let[t,r]of Object.entries(e))o.headers[t.toLowerCase()]=r}else if(0===t.listenerCount("redirect")){let e=y?!!t._originalIpc&&m.socketPath===t._originalHostOrSocketPath:!t._originalIpc&&a.host===t._originalHostOrSocketPath;e&&(!t._originalSecure||g)||(delete m.headers.authorization,delete m.headers.cookie,e||delete m.headers.host,m.auth=void 0)}m.auth&&!o.headers.authorization&&(o.headers.authorization="Basic "+Buffer.from(m.auth).toString("base64")),p=t._req=_(m),t._redirects&&t.emit("redirect",t.url,p)}else p=t._req=_(m);m.timeout&&p.on("timeout",()=>{D(t,p,"Opening handshake has timed out")}),p.on("error",e=>{null===p||p[I]||(p=t._req=null,N(t,e))}),p.on("response",n=>{let s=n.headers.location,a=n.statusCode;if(s&&m.followRedirects&&a>=300&&a<400){let n;if(++t._redirects>m.maxRedirects)return void D(t,p,"Maximum redirects exceeded");p.abort();try{n=new d(s,r)}catch(e){N(t,SyntaxError(`Invalid URL: ${s}`));return}e(t,n,i,o)}else t.emit("unexpected-response",p,n)||D(t,p,`Unexpected server response: ${n.statusCode}`)}),p.on("upgrade",(e,r,i)=>{let n;if(t.emit("upgrade",e),t.readyState!==R.CONNECTING)return;p=t._req=null;let s=e.headers.upgrade;if(void 0===s||"websocket"!==s.toLowerCase())return void D(t,r,"Invalid Upgrade header");let o=l("sha1").update(w+v).digest("base64");if(e.headers["sec-websocket-accept"]!==o)return void D(t,r,"Invalid Sec-WebSocket-Accept header");let a=e.headers["sec-websocket-protocol"];if(void 0!==a?x.size?x.has(a)||(n="Server sent an invalid subprotocol"):n="Server sent a subprotocol but none was requested":x.size&&(n="Server sent no subprotocol"),n)return void D(t,r,n);a&&(t._protocol=a);let u=e.headers["sec-websocket-extensions"];if(void 0!==u){let e;if(!h)return void D(t,r,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");try{e=T(u)}catch(e){D(t,r,"Invalid Sec-WebSocket-Extensions header");return}let i=Object.keys(e);if(1!==i.length||i[0]!==f.extensionName)return void D(t,r,"Server indicated an extension that was not requested");try{h.accept(e[f.extensionName])}catch(e){D(t,r,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[f.extensionName]=h}t.setSocket(r,i,{allowSynchronousEvents:m.allowSynchronousEvents,generateMask:m.generateMask,maxPayload:m.maxPayload,skipUTF8Validation:m.skipUTF8Validation})}),m.finishRequest?m.finishRequest(p,t):p.end()}(this,e,t,r)):(this._autoPong=r.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){y.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,r){let i=new p({allowSynchronousEvents:r.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation}),n=new m(e,this._extensions,r.generateMask);this._receiver=i,this._sender=n,this._socket=e,i[S]=this,n[S]=this,e[S]=this,i.on("conclude",F),i.on("drain",z),i.on("error",$),i.on("message",q),i.on("ping",W),i.on("pong",V),n.onerror=H,e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",Y),e.on("data",J),e.on("end",X),e.on("error",Q),this._readyState=R.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=R.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[f.extensionName]&&this._extensions[f.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=R.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==R.CLOSED){if(this.readyState===R.CONNECTING)return void D(this,this._req,"WebSocket was closed before the connection was established");if(this.readyState===R.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=R.CLOSING,this._sender.close(e,t,!this._isServer,e=>{!e&&(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),G(this)}}pause(){this.readyState!==R.CONNECTING&&this.readyState!==R.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,r){if(this.readyState===R.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");("function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==R.OPEN)?j(this,e,r):(void 0===t&&(t=!this._isServer),this._sender.ping(e||b,t,r))}pong(e,t,r){if(this.readyState===R.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");("function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==R.OPEN)?j(this,e,r):(void 0===t&&(t=!this._isServer),this._sender.pong(e||b,t,r))}resume(){this.readyState!==R.CONNECTING&&this.readyState!==R.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,r){if(this.readyState===R.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(r=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==R.OPEN)return void j(this,e,r);let i={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[f.extensionName]||(i.compress=!1),this._sender.send(e||b,i,r)}terminate(){if(this.readyState!==R.CLOSED){if(this.readyState===R.CONNECTING)return void D(this,this._req,"WebSocket was closed before the connection was established");this._socket&&(this._readyState=R.CLOSING,this._socket.destroy())}}}function N(e,t){e._readyState=R.CLOSING,e._errorEmitted=!0,e.emit("error",t),e.emitClose()}function L(e){return e.path=e.socketPath,o.connect(e)}function U(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=o.isIP(e.host)?"":e.host),a.connect(e)}function D(e,t,r){e._readyState=R.CLOSING;let i=Error(r);Error.captureStackTrace(i,D),t.setHeader?(t[I]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(N,e,i)):(t.destroy(i),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function j(e,t,r){if(t){let r=g(t)?t.size:C(t).length;e._socket?e._sender._bufferedBytes+=r:e._bufferedAmount+=r}if(r){let t=Error(`WebSocket is not open: readyState ${e.readyState} (${M[e.readyState]})`);process.nextTick(r,t)}}function F(e,t){let r=this[S];r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,void 0!==r._socket[S]&&(r._socket.removeListener("data",J),process.nextTick(K,r._socket),1005===e?r.close():r.close(e,t))}function z(){let e=this[S];e.isPaused||e._socket.resume()}function $(e){let t=this[S];void 0!==t._socket[S]&&(t._socket.removeListener("data",J),process.nextTick(K,t._socket),t.close(e[x])),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e))}function Z(){this[S].emitClose()}function q(e,t){this[S].emit("message",e,t)}function W(e){let t=this[S];t._autoPong&&t.pong(e,!this._isServer,k),t.emit("ping",e)}function V(e){this[S].emit("pong",e)}function K(e){e.resume()}function H(e){let t=this[S];t.readyState!==R.CLOSED&&(t.readyState===R.OPEN&&(t._readyState=R.CLOSING,G(t)),this._socket.end(),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e)))}function G(e){e._closeTimer=setTimeout(e._socket.destroy.bind(e._socket),3e4)}function Y(){let e,t=this[S];this.removeListener("close",Y),this.removeListener("data",J),this.removeListener("end",X),t._readyState=R.CLOSING,this._readableState.endEmitted||t._closeFrameReceived||t._receiver._writableState.errorEmitted||null===(e=t._socket.read())||t._receiver.write(e),t._receiver.end(),this[S]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",Z),t._receiver.on("finish",Z))}function J(e){this[S]._receiver.write(e)||this.pause()}function X(){let e=this[S];e._readyState=R.CLOSING,e._receiver.end(),this.end()}function Q(){let e=this[S];this.removeListener("error",Q),this.on("error",k),e&&(e._readyState=R.CLOSING,this.destroy())}Object.defineProperty(R,"CONNECTING",{enumerable:!0,value:M.indexOf("CONNECTING")}),Object.defineProperty(R.prototype,"CONNECTING",{enumerable:!0,value:M.indexOf("CONNECTING")}),Object.defineProperty(R,"OPEN",{enumerable:!0,value:M.indexOf("OPEN")}),Object.defineProperty(R.prototype,"OPEN",{enumerable:!0,value:M.indexOf("OPEN")}),Object.defineProperty(R,"CLOSING",{enumerable:!0,value:M.indexOf("CLOSING")}),Object.defineProperty(R.prototype,"CLOSING",{enumerable:!0,value:M.indexOf("CLOSING")}),Object.defineProperty(R,"CLOSED",{enumerable:!0,value:M.indexOf("CLOSED")}),Object.defineProperty(R.prototype,"CLOSED",{enumerable:!0,value:M.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(e=>{Object.defineProperty(R.prototype,e,{enumerable:!0})}),["open","error","close","message"].forEach(e=>{Object.defineProperty(R.prototype,`on${e}`,{enumerable:!0,get(){for(let t of this.listeners(e))if(t[w])return t[_];return null},set(t){for(let t of this.listeners(e))if(t[w]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[w]:!0})}})}),R.prototype.addEventListener=E,R.prototype.removeEventListener=B,t.exports=R},716709,(e,t,r)=>{"use strict";e.r(853915);let{Duplex:i}=e.r(688947);function n(e){e.emit("close")}function s(){!this.destroyed&&this._writableState.finished&&this.destroy()}function o(e){this.removeListener("error",o),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}t.exports=function(e,t){let r=!0,a=new i({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(t,r){let i=!r&&a._readableState.objectMode?t.toString():t;a.push(i)||e.pause()}),e.once("error",function(e){a.destroyed||(r=!1,a.destroy(e))}),e.once("close",function(){a.destroyed||a.push(null)}),a._destroy=function(t,i){if(e.readyState===e.CLOSED){i(t),process.nextTick(n,a);return}let s=!1;e.once("error",function(e){s=!0,i(e)}),e.once("close",function(){s||i(t),process.nextTick(n,a)}),r&&e.terminate()},a._final=function(t){e.readyState===e.CONNECTING?e.once("open",function(){a._final(t)}):null!==e._socket&&(e._socket._writableState.finished?(t(),a._readableState.endEmitted&&a.destroy()):(e._socket.once("finish",function(){t()}),e.close()))},a._read=function(){e.isPaused&&e.resume()},a._write=function(t,r,i){e.readyState===e.CONNECTING?e.once("open",function(){a._write(t,r,i)}):e.send(t,i)},a.on("end",s),a.on("error",o),a}},394574,(e,t,r)=>{"use strict";let{tokenChars:i}=e.r(261973);t.exports={parse:function(e){let t=new Set,r=-1,n=-1,s=0;for(;s<e.length;s++){let o=e.charCodeAt(s);if(-1===n&&1===i[o])-1===r&&(r=s);else if(0!==s&&(32===o||9===o))-1===n&&-1!==r&&(n=s);else if(44===o){if(-1===r)throw SyntaxError(`Unexpected character at index ${s}`);-1===n&&(n=s);let i=e.slice(r,n);if(t.has(i))throw SyntaxError(`The "${i}" subprotocol is duplicated`);t.add(i),r=n=-1}else throw SyntaxError(`Unexpected character at index ${s}`)}if(-1===r||-1!==n)throw SyntaxError("Unexpected end of input");let o=e.slice(r,s);if(t.has(o))throw SyntaxError(`The "${o}" subprotocol is duplicated`);return t.add(o),t}}},84945,(e,t,r)=>{"use strict";let i=e.r(427699),n=e.r(921517),{Duplex:s}=e.r(688947),{createHash:o}=e.r(254799),a=e.r(522087),u=e.r(533823),l=e.r(394574),c=e.r(853915),{GUID:h,kWebSocket:d}=e.r(284582),f=/^[+/0-9A-Za-z]{22}==$/;function p(e){e._state=2,e.emit("close")}function m(){this.destroy()}function g(e,t,r,i){r=r||n.STATUS_CODES[t],i={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...i},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${n.STATUS_CODES[t]}\r
`+Object.keys(i).map(e=>`${e}: ${i[e]}`).join("\r\n")+"\r\n\r\n"+r)}function y(e,t,r,i,n,s){if(e.listenerCount("wsClientError")){let i=Error(n);Error.captureStackTrace(i,y),e.emit("wsClientError",i,r,t)}else g(r,i,n,s)}t.exports=class extends i{constructor(e,t){if(super(),null==(e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:0x6400000,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:c,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=n.createServer((e,t)=>{let r=n.STATUS_CODES[426];t.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"}),t.end(r)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){const e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(let r of Object.keys(t))e.on(r,t[r]);return function(){for(let r of Object.keys(t))e.removeListener(r,t[r])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,r,i)=>{this.handleUpgrade(t,r,i,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=0}address(){if(this.options.noServer)throw Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(2===this._state){e&&this.once("close",()=>{e(Error("The server is not running"))}),process.nextTick(p,this);return}if(e&&this.once("close",e),1!==this._state)if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(p,this);else{let e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close(()=>{p(this)})}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,i){t.on("error",m);let n=e.headers["sec-websocket-key"],s=e.headers.upgrade,o=+e.headers["sec-websocket-version"];if("GET"!==e.method)return void y(this,e,t,405,"Invalid HTTP method");if(void 0===s||"websocket"!==s.toLowerCase())return void y(this,e,t,400,"Invalid Upgrade header");if(void 0===n||!f.test(n))return void y(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");if(13!==o&&8!==o)return void y(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header",{"Sec-WebSocket-Version":"13, 8"});if(!this.shouldHandle(e))return void g(t,400);let c=e.headers["sec-websocket-protocol"],h=new Set;if(void 0!==c)try{h=l.parse(c)}catch(r){y(this,e,t,400,"Invalid Sec-WebSocket-Protocol header");return}let d=e.headers["sec-websocket-extensions"],p={};if(this.options.perMessageDeflate&&void 0!==d){let r=new u(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let e=a.parse(d);e[u.extensionName]&&(r.accept(e[u.extensionName]),p[u.extensionName]=r)}catch(r){y(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let s={origin:e.headers[`${8===o?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(s,(s,o,a,u)=>{if(!s)return g(t,o||401,a,u);this.completeUpgrade(p,n,h,e,t,r,i)});if(!this.options.verifyClient(s))return g(t,401)}this.completeUpgrade(p,n,h,e,t,r,i)}completeUpgrade(e,t,r,i,n,s,l){if(!n.readable||!n.writable)return n.destroy();if(n[d])throw Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return g(n,503);let c=o("sha1").update(t+h).digest("base64"),f=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${c}`],y=new this.options.WebSocket(null,void 0,this.options);if(r.size){let e=this.options.handleProtocols?this.options.handleProtocols(r,i):r.values().next().value;e&&(f.push(`Sec-WebSocket-Protocol: ${e}`),y._protocol=e)}if(e[u.extensionName]){let t=e[u.extensionName].params,r=a.format({[u.extensionName]:[t]});f.push(`Sec-WebSocket-Extensions: ${r}`),y._extensions=e}this.emit("headers",f,i),n.write(f.concat("\r\n").join("\r\n")),n.removeListener("error",m),y.setSocket(n,s,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(y),y.on("close",()=>{this.clients.delete(y),this._shouldEmitClose&&!this.clients.size&&process.nextTick(p,this)})),l(y,i)}}},732139,(e,t,r)=>{"use strict";var i=Object.prototype.hasOwnProperty,n="~";function s(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(e,t,r,i,s){if("function"!=typeof r)throw TypeError("The listener must be a function");var a=new o(r,i||e,s),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],a]:e._events[u].push(a):(e._events[u]=a,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new s:delete e._events[t]}function l(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1)),l.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)i.call(e,t)&&r.push(n?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},l.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,o=Array(s);i<s;i++)o[i]=r[i].fn;return o},l.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},l.prototype.emit=function(e,t,r,i,s,o){var a=n?n+e:e;if(!this._events[a])return!1;var u,l,c=this._events[a],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,s),!0;case 6:return c.fn.call(c.context,t,r,i,s,o),!0}for(l=1,u=Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var d,f=c.length;for(l=0;l<f;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,r);break;case 4:c[l].fn.call(c[l].context,t,r,i);break;default:if(!u)for(d=1,u=Array(h-1);d<h;d++)u[d-1]=arguments[d];c[l].fn.apply(c[l].context,u)}}return!0},l.prototype.on=function(e,t,r){return a(this,e,t,r,!1)},l.prototype.once=function(e,t,r){return a(this,e,t,r,!0)},l.prototype.removeListener=function(e,t,r,i){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return u(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||i&&!o.once||r&&o.context!==r||u(this,s);else{for(var a=0,l=[],c=o.length;a<c;a++)(o[a].fn!==t||i&&!o[a].once||r&&o[a].context!==r)&&l.push(o[a]);l.length?this._events[s]=1===l.length?l[0]:l:u(this,s)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&u(this,t)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l},99829,e=>{"use strict";let t,r,i,n;var s,o,a,u,l,c,h,d,f,p,m,g,y,b,v,w,_,x,S,k,E,B=e.i(184391),A=e.i(471323),T=e.i(983075),C=e.i(378517),I=e.i(295386),O=e.i(4201),M=e.i(632472),P=e.i(216780),R=e.i(646040),N=e.i(16173),L=e.i(695888),U=e.i(431036),D=e.i(736439),j=e.i(52097),F=e.i(785221),z=e.i(193695);e.i(153158);var $=e.i(664430),Z=e.i(506452),q=e.i(697641);e.s([],469869),e.i(469869),(s=h||(h={})).assertEqual=e=>{},s.assertIs=function(e){},s.assertNever=function(e){throw Error()},s.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},s.getValidEnumValues=e=>{let t=s.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),r={};for(let i of t)r[i]=e[i];return s.objectValues(r)},s.objectValues=e=>s.objectKeys(e).map(function(t){return e[t]}),s.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},s.find=(e,t)=>{for(let r of e)if(t(r))return r},s.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,s.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},s.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(d||(d={})).mergeShapes=(e,t)=>({...e,...t});let W=h.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),V=e=>{switch(typeof e){case"undefined":return W.undefined;case"string":return W.string;case"number":return Number.isNaN(e)?W.nan:W.number;case"boolean":return W.boolean;case"function":return W.function;case"bigint":return W.bigint;case"symbol":return W.symbol;case"object":if(Array.isArray(e))return W.array;if(null===e)return W.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return W.promise;if("undefined"!=typeof Map&&e instanceof Map)return W.map;if("undefined"!=typeof Set&&e instanceof Set)return W.set;if("undefined"!=typeof Date&&e instanceof Date)return W.date;return W.object;default:return W.unknown}};e.s(["ZodParsedType",0,W,"getParsedType",0,V,"objectUtil",()=>d,"util",()=>h],145280);let K=h.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),H=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class G extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},i=e=>{for(let n of e.issues)if("invalid_union"===n.code)n.unionErrors.map(i);else if("invalid_return_type"===n.code)i(n.returnTypeError);else if("invalid_arguments"===n.code)i(n.argumentsError);else if(0===n.path.length)r._errors.push(t(n));else{let e=r,i=0;for(;i<n.path.length;){let r=n.path[i];i===n.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(n))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(this),r}static assert(e){if(!(e instanceof G))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,h.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let i of this.issues)if(i.path.length>0){let r=i.path[0];t[r]=t[r]||[],t[r].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}G.create=e=>new G(e),e.s(["ZodError",()=>G,"ZodIssueCode",0,K,"quotelessJson",0,H],796315);let Y=(e,t)=>{let r;switch(e.code){case K.invalid_type:r=e.received===W.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case K.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,h.jsonStringifyReplacer)}`;break;case K.unrecognized_keys:r=`Unrecognized key(s) in object: ${h.joinValues(e.keys,", ")}`;break;case K.invalid_union:r="Invalid input";break;case K.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${h.joinValues(e.options)}`;break;case K.invalid_enum_value:r=`Invalid enum value. Expected ${h.joinValues(e.options)}, received '${e.received}'`;break;case K.invalid_arguments:r="Invalid function arguments";break;case K.invalid_return_type:r="Invalid function return type";break;case K.invalid_date:r="Invalid date";break;case K.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:h.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case K.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case K.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case K.custom:r="Invalid input";break;case K.invalid_intersection_types:r="Intersection results could not be merged";break;case K.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case K.not_finite:r="Number must be finite";break;default:r=t.defaultError,h.assertNever(e)}return{message:r}},J=Y;function X(e){J=e}function Q(){return J}e.s(["getErrorMap",()=>Q,"setErrorMap",()=>X],680872),e.i(680872),e.s(["defaultErrorMap",0,Y,"getErrorMap",()=>Q,"setErrorMap",()=>X],371918),e.i(371918);let ee=e=>{let{data:t,path:r,errorMaps:i,issueData:n}=e,s=[...r,...n.path||[]],o={...n,path:s};if(void 0!==n.message)return{...n,path:s,message:n.message};let a="";for(let e of i.filter(e=>!!e).slice().reverse())a=e(o,{data:t,defaultError:a}).message;return{...n,path:s,message:a}},et=[];function er(e,t){let r=J,i=ee({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Y?void 0:Y].filter(e=>!!e)});e.common.issues.push(i)}class ei{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let i of t){if("aborted"===i.status)return en;"dirty"===i.status&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,i=await e.value;r.push({key:t,value:i})}return ei.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let i of t){let{key:t,value:n}=i;if("aborted"===t.status||"aborted"===n.status)return en;"dirty"===t.status&&e.dirty(),"dirty"===n.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==n.value||i.alwaysSet)&&(r[t.value]=n.value)}return{status:e.value,value:r}}}let en=Object.freeze({status:"aborted"}),es=e=>({status:"dirty",value:e}),eo=e=>({status:"valid",value:e}),ea=e=>"aborted"===e.status,eu=e=>"dirty"===e.status,el=e=>"valid"===e.status,ec=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,es,"EMPTY_PATH",0,et,"INVALID",0,en,"OK",0,eo,"ParseStatus",()=>ei,"addIssueToContext",()=>er,"isAborted",0,ea,"isAsync",0,ec,"isDirty",0,eu,"isValid",0,el,"makeIssue",0,ee],58162),e.i(58162),e.s([],785857),e.i(785857),e.i(145280),(o=f||(f={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},o.toString=e=>"string"==typeof e?e:e?.message;class eh{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let ed=(e,t)=>{if(el(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new G(e.common.issues);return this._error=t,this._error}}};function ef(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:i,description:n}=e;if(t&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:n}:{errorMap:(t,n)=>{let{message:s}=e;return"invalid_enum_value"===t.code?{message:s??n.defaultError}:void 0===n.data?{message:s??i??n.defaultError}:"invalid_type"!==t.code?{message:n.defaultError}:{message:s??r??n.defaultError}},description:n}}class ep{get description(){return this._def.description}_getType(e){return V(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:V(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ei,ctx:{common:e.parent.common,data:e.data,parsedType:V(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(ec(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:V(e)},i=this._parseSync({data:e,path:r.path,parent:r});return ed(r,i)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:V(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return el(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>el(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:V(e)},i=this._parse({data:e,path:r.path,parent:r});return ed(r,await (ec(i)?i:Promise.resolve(i)))}refine(e,t){return this._refinement((r,i)=>{let n=e(r),s=()=>i.addIssue({code:K.custom,..."string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(r):t});return"undefined"!=typeof Promise&&n instanceof Promise?n.then(e=>!!e||(s(),!1)):!!n||(s(),!1)})}refinement(e,t){return this._refinement((r,i)=>!!e(r)||(i.addIssue("function"==typeof t?t(r,i):t),!1))}_refinement(e){return new e9({schema:this,typeName:p.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return e7.create(this,this._def)}nullable(){return te.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return eW.create(this)}promise(){return e4.create(this,this._def)}or(e){return eK.create([this,e],this._def)}and(e){return eY.create(this,e,this._def)}transform(e){return new e9({...ef(this._def),schema:this,typeName:p.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new tt({...ef(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:p.ZodDefault})}brand(){return new ts({typeName:p.ZodBranded,type:this,...ef(this._def)})}catch(e){return new tr({...ef(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:p.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return to.create(this,e)}readonly(){return ta.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let em=/^c[^\s-]{8,}$/i,eg=/^[0-9a-z]+$/,ey=/^[0-9A-HJKMNP-TV-Z]{26}$/i,eb=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ev=/^[a-z0-9_-]{21}$/i,ew=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,e_=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,eS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ek=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,eE=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,eB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,eA=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,eT=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,eC="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",eI=RegExp(`^${eC}$`);function eO(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function eM(e){let t=`${eC}T${eO(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}class eP extends ep{_parse(e){var r,i,n,s;let o;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==W.string){let t=this._getOrReturnCtx(e);return er(t,{code:K.invalid_type,expected:W.string,received:t.parsedType}),en}let a=new ei;for(let u of this._def.checks)if("min"===u.kind)e.data.length<u.value&&(er(o=this._getOrReturnCtx(e,o),{code:K.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),a.dirty());else if("max"===u.kind)e.data.length>u.value&&(er(o=this._getOrReturnCtx(e,o),{code:K.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),a.dirty());else if("length"===u.kind){let t=e.data.length>u.value,r=e.data.length<u.value;(t||r)&&(o=this._getOrReturnCtx(e,o),t?er(o,{code:K.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):r&&er(o,{code:K.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),a.dirty())}else if("email"===u.kind)ex.test(e.data)||(er(o=this._getOrReturnCtx(e,o),{validation:"email",code:K.invalid_string,message:u.message}),a.dirty());else if("emoji"===u.kind)t||(t=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),t.test(e.data)||(er(o=this._getOrReturnCtx(e,o),{validation:"emoji",code:K.invalid_string,message:u.message}),a.dirty());else if("uuid"===u.kind)eb.test(e.data)||(er(o=this._getOrReturnCtx(e,o),{validation:"uuid",code:K.invalid_string,message:u.message}),a.dirty());else if("nanoid"===u.kind)ev.test(e.data)||(er(o=this._getOrReturnCtx(e,o),{validation:"nanoid",code:K.invalid_string,message:u.message}),a.dirty());else if("cuid"===u.kind)em.test(e.data)||(er(o=this._getOrReturnCtx(e,o),{validation:"cuid",code:K.invalid_string,message:u.message}),a.dirty());else if("cuid2"===u.kind)eg.test(e.data)||(er(o=this._getOrReturnCtx(e,o),{validation:"cuid2",code:K.invalid_string,message:u.message}),a.dirty());else if("ulid"===u.kind)ey.test(e.data)||(er(o=this._getOrReturnCtx(e,o),{validation:"ulid",code:K.invalid_string,message:u.message}),a.dirty());else if("url"===u.kind)try{new URL(e.data)}catch{er(o=this._getOrReturnCtx(e,o),{validation:"url",code:K.invalid_string,message:u.message}),a.dirty()}else"regex"===u.kind?(u.regex.lastIndex=0,u.regex.test(e.data)||(er(o=this._getOrReturnCtx(e,o),{validation:"regex",code:K.invalid_string,message:u.message}),a.dirty())):"trim"===u.kind?e.data=e.data.trim():"includes"===u.kind?e.data.includes(u.value,u.position)||(er(o=this._getOrReturnCtx(e,o),{code:K.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),a.dirty()):"toLowerCase"===u.kind?e.data=e.data.toLowerCase():"toUpperCase"===u.kind?e.data=e.data.toUpperCase():"startsWith"===u.kind?e.data.startsWith(u.value)||(er(o=this._getOrReturnCtx(e,o),{code:K.invalid_string,validation:{startsWith:u.value},message:u.message}),a.dirty()):"endsWith"===u.kind?e.data.endsWith(u.value)||(er(o=this._getOrReturnCtx(e,o),{code:K.invalid_string,validation:{endsWith:u.value},message:u.message}),a.dirty()):"datetime"===u.kind?eM(u).test(e.data)||(er(o=this._getOrReturnCtx(e,o),{code:K.invalid_string,validation:"datetime",message:u.message}),a.dirty()):"date"===u.kind?eI.test(e.data)||(er(o=this._getOrReturnCtx(e,o),{code:K.invalid_string,validation:"date",message:u.message}),a.dirty()):"time"===u.kind?RegExp(`^${eO(u)}$`).test(e.data)||(er(o=this._getOrReturnCtx(e,o),{code:K.invalid_string,validation:"time",message:u.message}),a.dirty()):"duration"===u.kind?e_.test(e.data)||(er(o=this._getOrReturnCtx(e,o),{validation:"duration",code:K.invalid_string,message:u.message}),a.dirty()):"ip"===u.kind?(r=e.data,!(("v4"===(i=u.version)||!i)&&eS.test(r)||("v6"===i||!i)&&eE.test(r))&&1&&(er(o=this._getOrReturnCtx(e,o),{validation:"ip",code:K.invalid_string,message:u.message}),a.dirty())):"jwt"===u.kind?!function(e,t){if(!ew.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(i));if("object"!=typeof n||null===n||"typ"in n&&n?.typ!=="JWT"||!n.alg||t&&n.alg!==t)return!1;return!0}catch{return!1}}(e.data,u.alg)&&(er(o=this._getOrReturnCtx(e,o),{validation:"jwt",code:K.invalid_string,message:u.message}),a.dirty()):"cidr"===u.kind?(n=e.data,!(("v4"===(s=u.version)||!s)&&ek.test(n)||("v6"===s||!s)&&eB.test(n))&&1&&(er(o=this._getOrReturnCtx(e,o),{validation:"cidr",code:K.invalid_string,message:u.message}),a.dirty())):"base64"===u.kind?eA.test(e.data)||(er(o=this._getOrReturnCtx(e,o),{validation:"base64",code:K.invalid_string,message:u.message}),a.dirty()):"base64url"===u.kind?eT.test(e.data)||(er(o=this._getOrReturnCtx(e,o),{validation:"base64url",code:K.invalid_string,message:u.message}),a.dirty()):h.assertNever(u);return{status:a.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:K.invalid_string,...f.errToObj(r)})}_addCheck(e){return new eP({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...f.errToObj(e)})}url(e){return this._addCheck({kind:"url",...f.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...f.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...f.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...f.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...f.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...f.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...f.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...f.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...f.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...f.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...f.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...f.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...f.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...f.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...f.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...f.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...f.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...f.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...f.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...f.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...f.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...f.errToObj(t)})}nonempty(e){return this.min(1,f.errToObj(e))}trim(){return new eP({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new eP({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new eP({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}eP.create=e=>new eP({checks:[],typeName:p.ZodString,coerce:e?.coerce??!1,...ef(e)});class eR extends ep{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==W.number){let t=this._getOrReturnCtx(e);return er(t,{code:K.invalid_type,expected:W.number,received:t.parsedType}),en}let r=new ei;for(let i of this._def.checks)"int"===i.kind?h.isInteger(e.data)||(er(t=this._getOrReturnCtx(e,t),{code:K.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(er(t=this._getOrReturnCtx(e,t),{code:K.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(er(t=this._getOrReturnCtx(e,t),{code:K.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,n=r>i?r:i;return Number.parseInt(e.toFixed(n).replace(".",""))%Number.parseInt(t.toFixed(n).replace(".",""))/10**n}(e.data,i.value)&&(er(t=this._getOrReturnCtx(e,t),{code:K.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(er(t=this._getOrReturnCtx(e,t),{code:K.not_finite,message:i.message}),r.dirty()):h.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,f.toString(t))}gt(e,t){return this.setLimit("min",e,!1,f.toString(t))}lte(e,t){return this.setLimit("max",e,!0,f.toString(t))}lt(e,t){return this.setLimit("max",e,!1,f.toString(t))}setLimit(e,t,r,i){return new eR({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:f.toString(i)}]})}_addCheck(e){return new eR({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:f.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:f.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:f.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:f.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:f.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:f.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:f.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:f.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:f.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&h.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}eR.create=e=>new eR({checks:[],typeName:p.ZodNumber,coerce:e?.coerce||!1,...ef(e)});class eN extends ep{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==W.bigint)return this._getInvalidInput(e);let r=new ei;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(er(t=this._getOrReturnCtx(e,t),{code:K.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(er(t=this._getOrReturnCtx(e,t),{code:K.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(er(t=this._getOrReturnCtx(e,t),{code:K.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):h.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return er(t,{code:K.invalid_type,expected:W.bigint,received:t.parsedType}),en}gte(e,t){return this.setLimit("min",e,!0,f.toString(t))}gt(e,t){return this.setLimit("min",e,!1,f.toString(t))}lte(e,t){return this.setLimit("max",e,!0,f.toString(t))}lt(e,t){return this.setLimit("max",e,!1,f.toString(t))}setLimit(e,t,r,i){return new eN({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:f.toString(i)}]})}_addCheck(e){return new eN({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:f.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:f.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:f.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:f.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:f.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}eN.create=e=>new eN({checks:[],typeName:p.ZodBigInt,coerce:e?.coerce??!1,...ef(e)});class eL extends ep{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==W.boolean){let t=this._getOrReturnCtx(e);return er(t,{code:K.invalid_type,expected:W.boolean,received:t.parsedType}),en}return eo(e.data)}}eL.create=e=>new eL({typeName:p.ZodBoolean,coerce:e?.coerce||!1,...ef(e)});class eU extends ep{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==W.date){let t=this._getOrReturnCtx(e);return er(t,{code:K.invalid_type,expected:W.date,received:t.parsedType}),en}if(Number.isNaN(e.data.getTime()))return er(this._getOrReturnCtx(e),{code:K.invalid_date}),en;let r=new ei;for(let i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(er(t=this._getOrReturnCtx(e,t),{code:K.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(er(t=this._getOrReturnCtx(e,t),{code:K.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):h.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new eU({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:f.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:f.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}eU.create=e=>new eU({checks:[],coerce:e?.coerce||!1,typeName:p.ZodDate,...ef(e)});class eD extends ep{_parse(e){if(this._getType(e)!==W.symbol){let t=this._getOrReturnCtx(e);return er(t,{code:K.invalid_type,expected:W.symbol,received:t.parsedType}),en}return eo(e.data)}}eD.create=e=>new eD({typeName:p.ZodSymbol,...ef(e)});class ej extends ep{_parse(e){if(this._getType(e)!==W.undefined){let t=this._getOrReturnCtx(e);return er(t,{code:K.invalid_type,expected:W.undefined,received:t.parsedType}),en}return eo(e.data)}}ej.create=e=>new ej({typeName:p.ZodUndefined,...ef(e)});class eF extends ep{_parse(e){if(this._getType(e)!==W.null){let t=this._getOrReturnCtx(e);return er(t,{code:K.invalid_type,expected:W.null,received:t.parsedType}),en}return eo(e.data)}}eF.create=e=>new eF({typeName:p.ZodNull,...ef(e)});class ez extends ep{constructor(){super(...arguments),this._any=!0}_parse(e){return eo(e.data)}}ez.create=e=>new ez({typeName:p.ZodAny,...ef(e)});class e$ extends ep{constructor(){super(...arguments),this._unknown=!0}_parse(e){return eo(e.data)}}e$.create=e=>new e$({typeName:p.ZodUnknown,...ef(e)});class eZ extends ep{_parse(e){let t=this._getOrReturnCtx(e);return er(t,{code:K.invalid_type,expected:W.never,received:t.parsedType}),en}}eZ.create=e=>new eZ({typeName:p.ZodNever,...ef(e)});class eq extends ep{_parse(e){if(this._getType(e)!==W.undefined){let t=this._getOrReturnCtx(e);return er(t,{code:K.invalid_type,expected:W.void,received:t.parsedType}),en}return eo(e.data)}}eq.create=e=>new eq({typeName:p.ZodVoid,...ef(e)});class eW extends ep{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==W.array)return er(t,{code:K.invalid_type,expected:W.array,received:t.parsedType}),en;if(null!==i.exactLength){let e=t.data.length>i.exactLength.value,n=t.data.length<i.exactLength.value;(e||n)&&(er(t,{code:e?K.too_big:K.too_small,minimum:n?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(er(t,{code:K.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(er(t,{code:K.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>i.type._parseAsync(new eh(t,e,t.path,r)))).then(e=>ei.mergeArray(r,e));let n=[...t.data].map((e,r)=>i.type._parseSync(new eh(t,e,t.path,r)));return ei.mergeArray(r,n)}get element(){return this._def.type}min(e,t){return new eW({...this._def,minLength:{value:e,message:f.toString(t)}})}max(e,t){return new eW({...this._def,maxLength:{value:e,message:f.toString(t)}})}length(e,t){return new eW({...this._def,exactLength:{value:e,message:f.toString(t)}})}nonempty(e){return this.min(1,e)}}eW.create=(e,t)=>new eW({type:e,minLength:null,maxLength:null,exactLength:null,typeName:p.ZodArray,...ef(t)});class eV extends ep{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=h.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==W.object){let t=this._getOrReturnCtx(e);return er(t,{code:K.invalid_type,expected:W.object,received:t.parsedType}),en}let{status:t,ctx:r}=this._processInputParams(e),{shape:i,keys:n}=this._getCached(),s=[];if(!(this._def.catchall instanceof eZ&&"strip"===this._def.unknownKeys))for(let e in r.data)n.includes(e)||s.push(e);let o=[];for(let e of n){let t=i[e],n=r.data[e];o.push({key:{status:"valid",value:e},value:t._parse(new eh(r,n,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof eZ){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of s)o.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)s.length>0&&(er(r,{code:K.unrecognized_keys,keys:s}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of s){let i=r.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new eh(r,i,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of o){let r=await t.key,i=await t.value;e.push({key:r,value:i,alwaysSet:t.alwaysSet})}return e}).then(e=>ei.mergeObjectSync(t,e)):ei.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return f.errToObj,new eV({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let i=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:f.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new eV({...this._def,unknownKeys:"strip"})}passthrough(){return new eV({...this._def,unknownKeys:"passthrough"})}extend(e){return new eV({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new eV({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:p.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new eV({...this._def,catchall:e})}pick(e){let t={};for(let r of h.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new eV({...this._def,shape:()=>t})}omit(e){let t={};for(let r of h.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new eV({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof eV){let r={};for(let i in t.shape){let n=t.shape[i];r[i]=e7.create(e(n))}return new eV({...t._def,shape:()=>r})}if(t instanceof eW)return new eW({...t._def,type:e(t.element)});if(t instanceof e7)return e7.create(e(t.unwrap()));if(t instanceof te)return te.create(e(t.unwrap()));if(t instanceof eJ)return eJ.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};for(let r of h.objectKeys(this.shape)){let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}return new eV({...this._def,shape:()=>t})}required(e){let t={};for(let r of h.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof e7;)e=e._def.innerType;t[r]=e}return new eV({...this._def,shape:()=>t})}keyof(){return e6(h.objectKeys(this.shape))}}eV.create=(e,t)=>new eV({shape:()=>e,unknownKeys:"strip",catchall:eZ.create(),typeName:p.ZodObject,...ef(t)}),eV.strictCreate=(e,t)=>new eV({shape:()=>e,unknownKeys:"strict",catchall:eZ.create(),typeName:p.ZodObject,...ef(t)}),eV.lazycreate=(e,t)=>new eV({shape:e,unknownKeys:"strip",catchall:eZ.create(),typeName:p.ZodObject,...ef(t)});class eK extends ep{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new G(e.ctx.common.issues));return er(t,{code:K.invalid_union,unionErrors:r}),en});{let e,i=[];for(let n of r){let r={...t,common:{...t.common,issues:[]},parent:null},s=n._parseSync({data:t.data,path:t.path,parent:r});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let n=i.map(e=>new G(e));return er(t,{code:K.invalid_union,unionErrors:n}),en}}get options(){return this._def.options}}eK.create=(e,t)=>new eK({options:e,typeName:p.ZodUnion,...ef(t)});let eH=e=>{if(e instanceof e2)return eH(e.schema);if(e instanceof e9)return eH(e.innerType());if(e instanceof e8)return[e.value];if(e instanceof e3)return e.options;if(e instanceof e5)return h.objectValues(e.enum);else if(e instanceof tt)return eH(e._def.innerType);else if(e instanceof ej)return[void 0];else if(e instanceof eF)return[null];else if(e instanceof e7)return[void 0,...eH(e.unwrap())];else if(e instanceof te)return[null,...eH(e.unwrap())];else if(e instanceof ts)return eH(e.unwrap());else if(e instanceof ta)return eH(e.unwrap());else if(e instanceof tr)return eH(e._def.innerType);else return[]};class eG extends ep{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==W.object)return er(t,{code:K.invalid_type,expected:W.object,received:t.parsedType}),en;let r=this.discriminator,i=t.data[r],n=this.optionsMap.get(i);return n?t.common.async?n._parseAsync({data:t.data,path:t.path,parent:t}):n._parseSync({data:t.data,path:t.path,parent:t}):(er(t,{code:K.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),en)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let r of t){let t=eH(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let n of t){if(i.has(n))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);i.set(n,r)}}return new eG({typeName:p.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...ef(r)})}}class eY extends ep{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if(ea(e)||ea(i))return en;let n=function e(t,r){let i=V(t),n=V(r);if(t===r)return{valid:!0,data:t};if(i===W.object&&n===W.object){let i=h.objectKeys(r),n=h.objectKeys(t).filter(e=>-1!==i.indexOf(e)),s={...t,...r};for(let i of n){let n=e(t[i],r[i]);if(!n.valid)return{valid:!1};s[i]=n.data}return{valid:!0,data:s}}if(i===W.array&&n===W.array){if(t.length!==r.length)return{valid:!1};let i=[];for(let n=0;n<t.length;n++){let s=e(t[n],r[n]);if(!s.valid)return{valid:!1};i.push(s.data)}return{valid:!0,data:i}}if(i===W.date&&n===W.date&&+t==+r)return{valid:!0,data:t};return{valid:!1}}(e.value,i.value);return n.valid?((eu(e)||eu(i))&&t.dirty(),{status:t.value,value:n.data}):(er(r,{code:K.invalid_intersection_types}),en)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}eY.create=(e,t,r)=>new eY({left:e,right:t,typeName:p.ZodIntersection,...ef(r)});class eJ extends ep{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==W.array)return er(r,{code:K.invalid_type,expected:W.array,received:r.parsedType}),en;if(r.data.length<this._def.items.length)return er(r,{code:K.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),en;!this._def.rest&&r.data.length>this._def.items.length&&(er(r,{code:K.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...r.data].map((e,t)=>{let i=this._def.items[t]||this._def.rest;return i?i._parse(new eh(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(i).then(e=>ei.mergeArray(t,e)):ei.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new eJ({...this._def,rest:e})}}eJ.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new eJ({items:e,typeName:p.ZodTuple,rest:null,...ef(t)})};class eX extends ep{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==W.object)return er(r,{code:K.invalid_type,expected:W.object,received:r.parsedType}),en;let i=[],n=this._def.keyType,s=this._def.valueType;for(let e in r.data)i.push({key:n._parse(new eh(r,e,r.path,e)),value:s._parse(new eh(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?ei.mergeObjectAsync(t,i):ei.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return new eX(t instanceof ep?{keyType:e,valueType:t,typeName:p.ZodRecord,...ef(r)}:{keyType:eP.create(),valueType:e,typeName:p.ZodRecord,...ef(t)})}}class eQ extends ep{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==W.map)return er(r,{code:K.invalid_type,expected:W.map,received:r.parsedType}),en;let i=this._def.keyType,n=this._def.valueType,s=[...r.data.entries()].map(([e,t],s)=>({key:i._parse(new eh(r,e,r.path,[s,"key"])),value:n._parse(new eh(r,t,r.path,[s,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of s){let i=await r.key,n=await r.value;if("aborted"===i.status||"aborted"===n.status)return en;("dirty"===i.status||"dirty"===n.status)&&t.dirty(),e.set(i.value,n.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of s){let i=r.key,n=r.value;if("aborted"===i.status||"aborted"===n.status)return en;("dirty"===i.status||"dirty"===n.status)&&t.dirty(),e.set(i.value,n.value)}return{status:t.value,value:e}}}}eQ.create=(e,t,r)=>new eQ({valueType:t,keyType:e,typeName:p.ZodMap,...ef(r)});class e0 extends ep{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==W.set)return er(r,{code:K.invalid_type,expected:W.set,received:r.parsedType}),en;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(er(r,{code:K.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(er(r,{code:K.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let n=this._def.valueType;function s(e){let r=new Set;for(let i of e){if("aborted"===i.status)return en;"dirty"===i.status&&t.dirty(),r.add(i.value)}return{status:t.value,value:r}}let o=[...r.data.values()].map((e,t)=>n._parse(new eh(r,e,r.path,t)));return r.common.async?Promise.all(o).then(e=>s(e)):s(o)}min(e,t){return new e0({...this._def,minSize:{value:e,message:f.toString(t)}})}max(e,t){return new e0({...this._def,maxSize:{value:e,message:f.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}e0.create=(e,t)=>new e0({valueType:e,minSize:null,maxSize:null,typeName:p.ZodSet,...ef(t)});class e1 extends ep{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==W.function)return er(t,{code:K.invalid_type,expected:W.function,received:t.parsedType}),en;function r(e,r){return ee({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,J,Y].filter(e=>!!e),issueData:{code:K.invalid_arguments,argumentsError:r}})}function i(e,r){return ee({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,J,Y].filter(e=>!!e),issueData:{code:K.invalid_return_type,returnTypeError:r}})}let n={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof e4){let e=this;return eo(async function(...t){let o=new G([]),a=await e._def.args.parseAsync(t,n).catch(e=>{throw o.addIssue(r(t,e)),o}),u=await Reflect.apply(s,this,a);return await e._def.returns._def.type.parseAsync(u,n).catch(e=>{throw o.addIssue(i(u,e)),o})})}{let e=this;return eo(function(...t){let o=e._def.args.safeParse(t,n);if(!o.success)throw new G([r(t,o.error)]);let a=Reflect.apply(s,this,o.data),u=e._def.returns.safeParse(a,n);if(!u.success)throw new G([i(a,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new e1({...this._def,args:eJ.create(e).rest(e$.create())})}returns(e){return new e1({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new e1({args:e||eJ.create([]).rest(e$.create()),returns:t||e$.create(),typeName:p.ZodFunction,...ef(r)})}}class e2 extends ep{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}e2.create=(e,t)=>new e2({getter:e,typeName:p.ZodLazy,...ef(t)});class e8 extends ep{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return er(t,{received:t.data,code:K.invalid_literal,expected:this._def.value}),en}return{status:"valid",value:e.data}}get value(){return this._def.value}}function e6(e,t){return new e3({values:e,typeName:p.ZodEnum,...ef(t)})}e8.create=(e,t)=>new e8({value:e,typeName:p.ZodLiteral,...ef(t)});class e3 extends ep{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return er(t,{expected:h.joinValues(r),received:t.parsedType,code:K.invalid_type}),en}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return er(t,{received:t.data,code:K.invalid_enum_value,options:r}),en}return eo(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return e3.create(e,{...this._def,...t})}exclude(e,t=this._def){return e3.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}e3.create=e6;class e5 extends ep{_parse(e){let t=h.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==W.string&&r.parsedType!==W.number){let e=h.objectValues(t);return er(r,{expected:h.joinValues(e),received:r.parsedType,code:K.invalid_type}),en}if(this._cache||(this._cache=new Set(h.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=h.objectValues(t);return er(r,{received:r.data,code:K.invalid_enum_value,options:e}),en}return eo(e.data)}get enum(){return this._def.values}}e5.create=(e,t)=>new e5({values:e,typeName:p.ZodNativeEnum,...ef(t)});class e4 extends ep{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==W.promise&&!1===t.common.async?(er(t,{code:K.invalid_type,expected:W.promise,received:t.parsedType}),en):eo((t.parsedType===W.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}e4.create=(e,t)=>new e4({type:e,typeName:p.ZodPromise,...ef(t)});class e9 extends ep{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===p.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,n={addIssue:e=>{er(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(n.addIssue=n.addIssue.bind(n),"preprocess"===i.type){let e=i.transform(r.data,n);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return en;let i=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===i.status?en:"dirty"===i.status||"dirty"===t.value?es(i.value):i});{if("aborted"===t.value)return en;let i=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===i.status?en:"dirty"===i.status||"dirty"===t.value?es(i.value):i}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,n);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?en:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?en:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}}if("transform"===i.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>el(e)?Promise.resolve(i.transform(e.value,n)).then(e=>({status:t.value,value:e})):en);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!el(e))return en;let s=i.transform(e.value,n);if(s instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}h.assertNever(i)}}e9.create=(e,t,r)=>new e9({schema:e,typeName:p.ZodEffects,effect:t,...ef(r)}),e9.createWithPreprocess=(e,t,r)=>new e9({schema:t,effect:{type:"preprocess",transform:e},typeName:p.ZodEffects,...ef(r)});class e7 extends ep{_parse(e){return this._getType(e)===W.undefined?eo(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}e7.create=(e,t)=>new e7({innerType:e,typeName:p.ZodOptional,...ef(t)});class te extends ep{_parse(e){return this._getType(e)===W.null?eo(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}te.create=(e,t)=>new te({innerType:e,typeName:p.ZodNullable,...ef(t)});class tt extends ep{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===W.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}tt.create=(e,t)=>new tt({innerType:e,typeName:p.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...ef(t)});class tr extends ep{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ec(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new G(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new G(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}tr.create=(e,t)=>new tr({innerType:e,typeName:p.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...ef(t)});class ti extends ep{_parse(e){if(this._getType(e)!==W.nan){let t=this._getOrReturnCtx(e);return er(t,{code:K.invalid_type,expected:W.nan,received:t.parsedType}),en}return{status:"valid",value:e.data}}}ti.create=e=>new ti({typeName:p.ZodNaN,...ef(e)});let tn=Symbol("zod_brand");class ts extends ep{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class to extends ep{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?en:"dirty"===e.status?(t.dirty(),es(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?en:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new to({in:e,out:t,typeName:p.ZodPipeline})}}class ta extends ep{_parse(e){let t=this._def.innerType._parse(e),r=e=>(el(e)&&(e.value=Object.freeze(e.value)),e);return ec(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function tu(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function tl(e,t={},r){return e?ez.create().superRefine((i,n)=>{let s=e(i);if(s instanceof Promise)return s.then(e=>{if(!e){let e=tu(t,i),s=e.fatal??r??!0;n.addIssue({code:"custom",...e,fatal:s})}});if(!s){let e=tu(t,i),s=e.fatal??r??!0;n.addIssue({code:"custom",...e,fatal:s})}}):ez.create()}ta.create=(e,t)=>new ta({innerType:e,typeName:p.ZodReadonly,...ef(t)});let tc={object:eV.lazycreate};(a=p||(p={})).ZodString="ZodString",a.ZodNumber="ZodNumber",a.ZodNaN="ZodNaN",a.ZodBigInt="ZodBigInt",a.ZodBoolean="ZodBoolean",a.ZodDate="ZodDate",a.ZodSymbol="ZodSymbol",a.ZodUndefined="ZodUndefined",a.ZodNull="ZodNull",a.ZodAny="ZodAny",a.ZodUnknown="ZodUnknown",a.ZodNever="ZodNever",a.ZodVoid="ZodVoid",a.ZodArray="ZodArray",a.ZodObject="ZodObject",a.ZodUnion="ZodUnion",a.ZodDiscriminatedUnion="ZodDiscriminatedUnion",a.ZodIntersection="ZodIntersection",a.ZodTuple="ZodTuple",a.ZodRecord="ZodRecord",a.ZodMap="ZodMap",a.ZodSet="ZodSet",a.ZodFunction="ZodFunction",a.ZodLazy="ZodLazy",a.ZodLiteral="ZodLiteral",a.ZodEnum="ZodEnum",a.ZodEffects="ZodEffects",a.ZodNativeEnum="ZodNativeEnum",a.ZodOptional="ZodOptional",a.ZodNullable="ZodNullable",a.ZodDefault="ZodDefault",a.ZodCatch="ZodCatch",a.ZodPromise="ZodPromise",a.ZodBranded="ZodBranded",a.ZodPipeline="ZodPipeline",a.ZodReadonly="ZodReadonly";let th=(e,t={message:`Input not instance of ${e.name}`})=>tl(t=>t instanceof e,t),td=eP.create,tf=eR.create,tp=ti.create,tm=eN.create,tg=eL.create,ty=eU.create,tb=eD.create,tv=ej.create,tw=eF.create,t_=ez.create,tx=e$.create,tS=eZ.create,tk=eq.create,tE=eW.create,tB=eV.create,tA=eV.strictCreate,tT=eK.create,tC=eG.create,tI=eY.create,tO=eJ.create,tM=eX.create,tP=eQ.create,tR=e0.create,tN=e1.create,tL=e2.create,tU=e8.create,tD=e3.create,tj=e5.create,tF=e4.create,tz=e9.create,t$=e7.create,tZ=te.create,tq=e9.createWithPreprocess,tW=to.create,tV=()=>td().optional(),tK=()=>tf().optional(),tH=()=>tg().optional(),tG={string:e=>eP.create({...e,coerce:!0}),number:e=>eR.create({...e,coerce:!0}),boolean:e=>eL.create({...e,coerce:!0}),bigint:e=>eN.create({...e,coerce:!0}),date:e=>eU.create({...e,coerce:!0})};e.s(["BRAND",0,tn,"NEVER",0,en,"Schema",()=>ep,"ZodAny",()=>ez,"ZodArray",()=>eW,"ZodBigInt",()=>eN,"ZodBoolean",()=>eL,"ZodBranded",()=>ts,"ZodCatch",()=>tr,"ZodDate",()=>eU,"ZodDefault",()=>tt,"ZodDiscriminatedUnion",()=>eG,"ZodEffects",()=>e9,"ZodEnum",()=>e3,"ZodFirstPartyTypeKind",()=>p,"ZodFunction",()=>e1,"ZodIntersection",()=>eY,"ZodLazy",()=>e2,"ZodLiteral",()=>e8,"ZodMap",()=>eQ,"ZodNaN",()=>ti,"ZodNativeEnum",()=>e5,"ZodNever",()=>eZ,"ZodNull",()=>eF,"ZodNullable",()=>te,"ZodNumber",()=>eR,"ZodObject",()=>eV,"ZodOptional",()=>e7,"ZodPipeline",()=>to,"ZodPromise",()=>e4,"ZodReadonly",()=>ta,"ZodRecord",()=>eX,"ZodSchema",()=>ep,"ZodSet",()=>e0,"ZodString",()=>eP,"ZodSymbol",()=>eD,"ZodTransformer",()=>e9,"ZodTuple",()=>eJ,"ZodType",()=>ep,"ZodUndefined",()=>ej,"ZodUnion",()=>eK,"ZodUnknown",()=>e$,"ZodVoid",()=>eq,"any",()=>t_,"array",()=>tE,"bigint",()=>tm,"boolean",()=>tg,"coerce",0,tG,"custom",()=>tl,"date",()=>ty,"datetimeRegex",()=>eM,"discriminatedUnion",()=>tC,"effect",()=>tz,"enum",()=>tD,"function",()=>tN,"instanceof",()=>th,"intersection",()=>tI,"late",0,tc,"lazy",()=>tL,"literal",()=>tU,"map",()=>tP,"nan",()=>tp,"nativeEnum",()=>tj,"never",()=>tS,"null",()=>tw,"nullable",()=>tZ,"number",()=>tf,"object",()=>tB,"oboolean",()=>tH,"onumber",()=>tK,"optional",()=>t$,"ostring",()=>tV,"pipeline",()=>tW,"preprocess",()=>tq,"promise",()=>tF,"record",()=>tM,"set",()=>tR,"strictObject",()=>tA,"string",()=>td,"symbol",()=>tb,"transformer",()=>tz,"tuple",()=>tO,"undefined",()=>tv,"union",()=>tT,"unknown",()=>tx,"void",()=>tk],478141),e.i(478141),e.i(796315),e.s(["BRAND",0,tn,"DIRTY",0,es,"EMPTY_PATH",0,et,"INVALID",0,en,"NEVER",0,en,"OK",0,eo,"ParseStatus",()=>ei,"Schema",()=>ep,"ZodAny",()=>ez,"ZodArray",()=>eW,"ZodBigInt",()=>eN,"ZodBoolean",()=>eL,"ZodBranded",()=>ts,"ZodCatch",()=>tr,"ZodDate",()=>eU,"ZodDefault",()=>tt,"ZodDiscriminatedUnion",()=>eG,"ZodEffects",()=>e9,"ZodEnum",()=>e3,"ZodError",()=>G,"ZodFirstPartyTypeKind",()=>p,"ZodFunction",()=>e1,"ZodIntersection",()=>eY,"ZodIssueCode",0,K,"ZodLazy",()=>e2,"ZodLiteral",()=>e8,"ZodMap",()=>eQ,"ZodNaN",()=>ti,"ZodNativeEnum",()=>e5,"ZodNever",()=>eZ,"ZodNull",()=>eF,"ZodNullable",()=>te,"ZodNumber",()=>eR,"ZodObject",()=>eV,"ZodOptional",()=>e7,"ZodParsedType",0,W,"ZodPipeline",()=>to,"ZodPromise",()=>e4,"ZodReadonly",()=>ta,"ZodRecord",()=>eX,"ZodSchema",()=>ep,"ZodSet",()=>e0,"ZodString",()=>eP,"ZodSymbol",()=>eD,"ZodTransformer",()=>e9,"ZodTuple",()=>eJ,"ZodType",()=>ep,"ZodUndefined",()=>ej,"ZodUnion",()=>eK,"ZodUnknown",()=>e$,"ZodVoid",()=>eq,"addIssueToContext",()=>er,"any",()=>t_,"array",()=>tE,"bigint",()=>tm,"boolean",()=>tg,"coerce",0,tG,"custom",()=>tl,"date",()=>ty,"datetimeRegex",()=>eM,"defaultErrorMap",0,Y,"discriminatedUnion",()=>tC,"effect",()=>tz,"enum",()=>tD,"function",()=>tN,"getErrorMap",()=>Q,"getParsedType",0,V,"instanceof",()=>th,"intersection",()=>tI,"isAborted",0,ea,"isAsync",0,ec,"isDirty",0,eu,"isValid",0,el,"late",0,tc,"lazy",()=>tL,"literal",()=>tU,"makeIssue",0,ee,"map",()=>tP,"nan",()=>tp,"nativeEnum",()=>tj,"never",()=>tS,"null",()=>tw,"nullable",()=>tZ,"number",()=>tf,"object",()=>tB,"objectUtil",()=>d,"oboolean",()=>tH,"onumber",()=>tK,"optional",()=>t$,"ostring",()=>tV,"pipeline",()=>tW,"preprocess",()=>tq,"promise",()=>tF,"quotelessJson",0,H,"record",()=>tM,"set",()=>tR,"setErrorMap",()=>X,"strictObject",()=>tA,"string",()=>td,"symbol",()=>tb,"transformer",()=>tz,"tuple",()=>tO,"undefined",()=>tv,"union",()=>tT,"unknown",()=>tx,"util",()=>h,"void",()=>tk],195008);var tY=e.i(195008),tY=tY,tY=tY;let tJ=/[@#$%^&*+=/\\|~]/,tX=/(!{2,}|\?{2,}|-{2,})/,tQ=/[\u{1F300}-\u{1F9FF}]|[\u{2702}-\u{27B0}]|[\u{2600}-\u{26FF}]|[\u{2B00}-\u{2BFF}]/u,t0=({max:e,noSpaces:t}={})=>(t?tY.string().max(e??1/0).regex(/^\S*$/,"Spaces are not allowed"):tY.string().max(e??1/0)).refine(e=>!tQ.test(e),{message:"Emojis and symbols are not allowed"}).refine(e=>!tJ.test(e),{message:"Special characters (@, #, $, %, ^, &, *, +, =, /, \\, |, ~, , ) are not allowed"}).refine(e=>!tX.test(e),{message:"Repeated punctuations (!!, ??, --) are not allowed"}),t1=tY.string().url().startsWith("https://",{message:"Must be an https url"}).max(1024).refine(e=>!e.includes(" "),{message:"URL must not contain spaces"}).refine(e=>{try{let t=new URL(e).hostname;if("localhost"===t||t.endsWith(".localhost")||/^(\d{1,3}\.){3}\d{1,3}$/.test(t)||t.startsWith("[")&&t.endsWith("]"))return!1;return!0}catch{return!1}},{message:"URL must not use IP addresses or localhost"}),t2=tY.string().max(32),t8=tY.string().max(32),t6=tY.string().regex(/^[-a-z0-9]{3,8}:[-_a-zA-Z0-9]{1,32}\/(?:[-a-z0-9]{3,8}:[-.%a-zA-Z0-9]{1,128}(?:\/[-.%a-zA-Z0-9]{1,78})?|native)$/,{message:"Invalid CAIP-19 asset ID"}),t3=tY.string().regex(/^#([0-9A-F]{3}|[0-9A-F]{6})$/i,{message:"Invalid hex color code. It should be in the format #RRGGBB or #RGB."}),t5=tY.string().max(1024).regex(/^(?!.*\.\.)([a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,{message:"Must be a valid domain name (e.g., example.com, sub.example.com)"}).refine(e=>!e.includes("://"),{message:"Domain must not include protocol (http://, https://, etc.)"}).refine(e=>!e.includes("/"),{message:"Domain must not include path separators"}).refine(e=>!e.includes("@"),{message:"Domain must not include @ symbol"}).refine(e=>!e.includes(":"),{message:"Domain must not include port numbers"}),t4=tY.union([tY.literal("1:1"),tY.literal("3:2")]),t9=tY.object({header:tY.string(),payload:tY.string(),signature:tY.string()}),t7=tY.object({fid:tY.number(),type:tY.literal("app_key"),key:tY.string().startsWith("0x")}),re=tY.object({type:tY.literal("launch_frame"),name:t2,url:t1.optional(),splashImageUrl:t1.optional(),splashBackgroundColor:t3.optional()}),rt=tY.object({type:tY.literal("launch_miniapp"),name:t2,url:t1.optional(),splashImageUrl:t1.optional(),splashBackgroundColor:t3.optional()}),rr=tY.object({type:tY.literal("view_token"),token:t6}),ri=tY.discriminatedUnion("type",[rt,rr,re]),rn=tY.object({title:t8,action:ri});tY.object({version:tY.union([tY.string(),tY.number()]).transform(e=>String(e)).pipe(tY.union([tY.literal("next"),tY.literal("1")])),imageUrl:t1,aspectRatio:t4.optional(),button:rn});var tY=tY,tY=tY;let rs=tY.object({url:tY.string(),token:tY.string()});tY.object({notificationId:tY.string().max(128),title:tY.string().max(32),body:tY.string().max(128),targetUrl:t1,tokens:tY.string().array().max(100)}),tY.object({result:tY.object({successfulTokens:tY.array(tY.string()),invalidTokens:tY.array(tY.string()),rateLimitedTokens:tY.array(tY.string())})});let ro=tY.object({event:tY.literal("miniapp_added"),notificationDetails:rs.optional()}),ra=tY.object({event:tY.literal("miniapp_removed")}),ru=tY.object({event:tY.literal("notifications_enabled"),notificationDetails:rs.required()}),rl=tY.object({event:tY.literal("notifications_disabled")}),rc=tY.discriminatedUnion("event",[ro,ra,ru,rl]);var tY=tY;let rh=tY.enum(["games","social","finance","utility","productivity","health-fitness","news-media","music","shopping","education","developer-tools","entertainment","art-creativity"]),rd=tY.union([tY.literal("0.0.0"),tY.literal("0.0.1"),tY.literal("1"),tY.literal("next")]),rf=t0({max:30}),rp=t0({max:170}),rm=tY.array(t1).max(3),rg=tY.array(t0({max:20,noSpaces:!0})).max(5),ry=t0({max:30}),rb=t0({max:30}),rv=t0({max:100}),rw=tY.boolean();function r_(e){return Array.from(new Set(e))}let rx=tY.array(tY.enum(["eip155:1","eip155:8453","eip155:42161","eip155:421614","eip155:84532","eip155:666666666","eip155:100","eip155:10","eip155:11155420","eip155:137","eip155:11155111","eip155:7777777","eip155:130","eip155:10143","eip155:42220","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"])).transform(r_),rS=tY.array(tY.enum(["wallet.getEthereumProvider","wallet.getSolanaProvider","actions.ready","actions.openUrl","actions.close","actions.setPrimaryButton","actions.addMiniApp","actions.signIn","actions.viewCast","actions.viewProfile","actions.composeCast","actions.viewToken","actions.sendToken","actions.swapToken","actions.openMiniApp","actions.requestCameraAndMicrophoneAccess","experimental.signManifest","haptics.impactOccurred","haptics.notificationOccurred","haptics.selectionChanged","back"])).transform(r_),rk=tY.object({version:rd,name:t2,iconUrl:t1,homeUrl:t1,imageUrl:t1.optional(),buttonTitle:t8.optional(),splashImageUrl:t1.optional(),splashBackgroundColor:t3.optional(),webhookUrl:t1.optional(),subtitle:rf.optional(),description:rp.optional(),screenshotUrls:rm.optional(),primaryCategory:rh.optional(),tags:rg.optional(),heroImageUrl:t1.optional(),tagline:ry.optional(),ogTitle:rb.optional(),ogDescription:rv.optional(),ogImageUrl:t1.optional(),noindex:rw.optional(),requiredChains:rx.optional(),requiredCapabilities:rS.optional(),castShareUrl:t1.optional(),canonicalDomain:t5.optional()}).refine(e=>{if(void 0===e.castShareUrl)return!0;try{let t=new URL(e.homeUrl).hostname,r=new URL(e.castShareUrl).hostname;return t===r}catch{return!1}},{message:"castShareUrl must have the same domain as homeUrl",path:["castShareUrl"]});tY.object({accountAssociation:t9,miniapp:rk.optional(),frame:rk.optional()}).refine(e=>!e.frame||!e.miniapp||JSON.stringify(e.frame)===JSON.stringify(e.miniapp),{message:'If both "frame" and "miniapp" are provided, they must be identical',path:["frame","miniapp"]}).transform(e=>({...e,frame:e.frame??e.miniapp}));var rE=e.i(500874),rB=e.i(255680),rA=e.i(435354);let rT=BigInt(0),rC=BigInt(1);function rI(e,t=""){if("boolean"!=typeof e)throw Error((t&&`"${t}"`)+"expected boolean, got type="+typeof e);return e}function rO(e,t,r=""){let i=(0,rA.isBytes)(e),n=e?.length,s=void 0!==t;if(!i||s&&n!==t)throw Error((r&&`"${r}" `)+"expected Uint8Array"+(s?` of length ${t}`:"")+", got "+(i?`length=${n}`:`type=${typeof e}`));return e}function rM(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function rP(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?rT:BigInt("0x"+e)}function rR(e){return rP((0,rA.bytesToHex)(e))}function rN(e){return(0,rA.abytes)(e),rP((0,rA.bytesToHex)(Uint8Array.from(e).reverse()))}function rL(e,t){return(0,rA.hexToBytes)(e.toString(16).padStart(2*t,"0"))}function rU(e,t){return rL(e,t).reverse()}function rD(e,t,r){let i;if("string"==typeof t)try{i=(0,rA.hexToBytes)(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if((0,rA.isBytes)(t))i=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let n=i.length;if("number"==typeof r&&n!==r)throw Error(e+" of length "+r+" expected, got "+n);return i}function rj(e){return Uint8Array.from(e)}let rF=e=>"bigint"==typeof e&&rT<=e;function rz(e,t,r,i){var n,s,o;if(n=t,s=r,o=i,!(rF(n)&&rF(s)&&rF(o))||!(s<=n)||!(n<o))throw Error("expected valid "+e+": "+r+" <= n < "+i+", got "+t)}function r$(e){let t;for(t=0;e>rT;e>>=rC,t+=1);return t}let rZ=e=>(rC<<BigInt(e))-rC;function rq(e,t,r={}){if(!e||"object"!=typeof e)throw Error("expected valid options object");function i(t,r,i){let n=e[t];if(i&&void 0===n)return;let s=typeof n;if(s!==r||null===n)throw Error(`param "${t}" is invalid: expected ${r}, got ${s}`)}Object.entries(t).forEach(([e,t])=>i(e,t,!1)),Object.entries(r).forEach(([e,t])=>i(e,t,!0))}let rW=()=>{throw Error("not implemented")};function rV(e){let t=new WeakMap;return(r,...i)=>{let n=t.get(r);if(void 0!==n)return n;let s=e(r,...i);return t.set(r,s),s}}let rK=BigInt(0),rH=BigInt(1),rG=BigInt(2),rY=BigInt(3),rJ=BigInt(4),rX=BigInt(5),rQ=BigInt(7),r0=BigInt(8),r1=BigInt(9),r2=BigInt(16);function r8(e,t){let r=e%t;return r>=rK?r:t+r}function r6(e,t,r){let i=e;for(;t-- >rK;)i*=i,i%=r;return i}function r3(e,t){if(e===rK)throw Error("invert: expected non-zero number");if(t<=rK)throw Error("invert: expected positive modulus, got "+t);let r=r8(e,t),i=t,n=rK,s=rH,o=rH,a=rK;for(;r!==rK;){let e=i/r,t=i%r,u=n-o*e,l=s-a*e;i=r,r=t,n=o,s=a,o=u,a=l}if(i!==rH)throw Error("invert: does not exist");return r8(n,t)}function r5(e,t,r){if(!e.eql(e.sqr(t),r))throw Error("Cannot find square root")}function r4(e,t){let r=(e.ORDER+rH)/rJ,i=e.pow(t,r);return r5(e,i,t),i}function r9(e,t){let r=(e.ORDER-rX)/r0,i=e.mul(t,rG),n=e.pow(i,r),s=e.mul(t,n),o=e.mul(e.mul(s,rG),n),a=e.mul(s,e.sub(o,e.ONE));return r5(e,a,t),a}function r7(e){if(e<rY)throw Error("sqrt is not defined for small field");let t=e-rH,r=0;for(;t%rG===rK;)t/=rG,r++;let i=rG,n=ia(e);for(;1===is(n,i);)if(i++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return r4;let s=n.pow(i,t),o=(t+rH)/rG;return function(e,i){if(e.is0(i))return i;if(1!==is(e,i))throw Error("Cannot find square root");let n=r,a=e.mul(e.ONE,s),u=e.pow(i,t),l=e.pow(i,o);for(;!e.eql(u,e.ONE);){if(e.is0(u))return e.ZERO;let t=1,r=e.sqr(u);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===n)throw Error("Cannot find square root");let i=rH<<BigInt(n-t-1),s=e.pow(a,i);n=t,a=e.sqr(s),u=e.mul(u,a),l=e.mul(l,s)}return l}}let ie=(e,t)=>(r8(e,t)&rH)===rH,it=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ir(e){return rq(e,it.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"})),e}function ii(e,t,r=!1){let i=Array(t.length).fill(r?e.ZERO:void 0),n=t.reduce((t,r,n)=>e.is0(r)?t:(i[n]=t,e.mul(t,r)),e.ONE),s=e.inv(n);return t.reduceRight((t,r,n)=>e.is0(r)?t:(i[n]=e.mul(t,i[n]),e.mul(t,r)),s),i}function is(e,t){let r=(e.ORDER-rH)/rG,i=e.pow(t,r),n=e.eql(i,e.ONE),s=e.eql(i,e.ZERO),o=e.eql(i,e.neg(e.ONE));if(!n&&!s&&!o)throw Error("invalid Legendre symbol result");return n?1:s?0:-1}function io(e,t){void 0!==t&&(0,rA.anumber)(t);let r=void 0!==t?t:e.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}function ia(e,t,r=!1,i={}){let n,s,o,a;if(e<=rK)throw Error("invalid field: expected ORDER > 0, got "+e);let u=!1;if("object"==typeof t&&null!=t){if(i.sqrt||r)throw Error("cannot specify opts in two arguments");t.BITS&&(s=t.BITS),t.sqrt&&(o=t.sqrt),"boolean"==typeof t.isLE&&(r=t.isLE),"boolean"==typeof t.modFromBytes&&(u=t.modFromBytes),a=t.allowedLengths}else"number"==typeof t&&(s=t),i.sqrt&&(o=i.sqrt);let{nBitLength:l,nByteLength:c}=io(e,s);if(c>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let h=Object.freeze({ORDER:e,isLE:r,BITS:l,BYTES:c,MASK:rZ(l),ZERO:rK,ONE:rH,allowedLengths:a,create:t=>r8(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return rK<=t&&t<e},is0:e=>e===rK,isValidNot0:e=>!h.is0(e)&&h.isValid(e),isOdd:e=>(e&rH)===rH,neg:t=>r8(-t,e),eql:(e,t)=>e===t,sqr:t=>r8(t*t,e),add:(t,r)=>r8(t+r,e),sub:(t,r)=>r8(t-r,e),mul:(t,r)=>r8(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<rK)throw Error("invalid exponent, negatives unsupported");if(r===rK)return e.ONE;if(r===rH)return t;let i=e.ONE,n=t;for(;r>rK;)r&rH&&(i=e.mul(i,n)),n=e.sqr(n),r>>=rH;return i})(h,e,t),div:(t,r)=>r8(t*r3(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>r3(t,e),sqrt:o||(t=>(n||(n=function(e){if(e%rJ===rY)return r4;if(e%r0===rX)return r9;if(e%r2===r1){let t,r,i,n,s,o;return t=ia(e),i=(r=r7(e))(t,t.neg(t.ONE)),n=r(t,i),s=r(t,t.neg(i)),o=(e+rQ)/r2,(e,t)=>{let r=e.pow(t,o),a=e.mul(r,i),u=e.mul(r,n),l=e.mul(r,s),c=e.eql(e.sqr(a),t),h=e.eql(e.sqr(u),t);r=e.cmov(r,a,c),a=e.cmov(l,u,h);let d=e.eql(e.sqr(a),t),f=e.cmov(r,a,d);return r5(e,f,t),f}}return r7(e)}(e)),n(h,t))),toBytes:e=>r?rU(e,c):rL(e,c),fromBytes:(t,i=!0)=>{if(a){if(!a.includes(t.length)||t.length>c)throw Error("Field.fromBytes: expected "+a+" bytes, got "+t.length);let e=new Uint8Array(c);e.set(t,r?0:e.length-t.length),t=e}if(t.length!==c)throw Error("Field.fromBytes: expected "+c+" bytes, got "+t.length);let n=r?rN(t):rR(t);if(u&&(n=r8(n,e)),!i&&!h.isValid(n))throw Error("invalid field element: outside of range 0..ORDER");return n},invertBatch:e=>ii(h,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(h)}function iu(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function il(e){let t=iu(e);return t+Math.ceil(t/2)}let ic=BigInt(0),ih=BigInt(1);function id(e,t){let r=t.negate();return e?r:t}function ip(e,t){let r=ii(e.Fp,t.map(e=>e.Z));return t.map((t,i)=>e.fromAffine(t.toAffine(r[i])))}function im(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function ig(e,t){im(e,t);let r=Math.ceil(t/e)+1,i=2**(e-1),n=2**e;return{windows:r,windowSize:i,mask:rZ(e),maxNumber:n,shiftBy:BigInt(e)}}function iy(e,t,r){let{windowSize:i,mask:n,maxNumber:s,shiftBy:o}=r,a=Number(e&n),u=e>>o;a>i&&(a-=s,u+=ih);let l=t*i,c=l+Math.abs(a)-1,h=0===a;return{nextN:u,offset:c,isZero:h,isNeg:a<0,isNegF:t%2!=0,offsetF:l}}let ib=new WeakMap,iv=new WeakMap;function iw(e){return iv.get(e)||1}function i_(e){if(e!==ic)throw Error("invalid wNAF")}class ix{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,r=this.ZERO){let i=e;for(;t>ic;)t&ih&&(r=r.add(i)),i=i.double(),t>>=ih;return r}precomputeWindow(e,t){let{windows:r,windowSize:i}=ig(t,this.bits),n=[],s=e,o=s;for(let e=0;e<r;e++){o=s,n.push(o);for(let e=1;e<i;e++)o=o.add(s),n.push(o);s=o.double()}return n}wNAF(e,t,r){if(!this.Fn.isValid(r))throw Error("invalid scalar");let i=this.ZERO,n=this.BASE,s=ig(e,this.bits);for(let e=0;e<s.windows;e++){let{nextN:o,offset:a,isZero:u,isNeg:l,isNegF:c,offsetF:h}=iy(r,e,s);r=o,u?n=n.add(id(c,t[h])):i=i.add(id(l,t[a]))}return i_(r),{p:i,f:n}}wNAFUnsafe(e,t,r,i=this.ZERO){let n=ig(e,this.bits);for(let e=0;e<n.windows&&r!==ic;e++){let{nextN:s,offset:o,isZero:a,isNeg:u}=iy(r,e,n);if(r=s,!a){let e=t[o];i=i.add(u?e.negate():e)}}return i_(r),i}getPrecomputes(e,t,r){let i=ib.get(t);return i||(i=this.precomputeWindow(t,e),1!==e&&("function"==typeof r&&(i=r(i)),ib.set(t,i))),i}cached(e,t,r){let i=iw(e);return this.wNAF(i,this.getPrecomputes(i,e,r),t)}unsafe(e,t,r,i){let n=iw(e);return 1===n?this._unsafeLadder(e,t,i):this.wNAFUnsafe(n,this.getPrecomputes(n,e,r),t,i)}createCache(e,t){im(t,this.bits),iv.set(e,t),ib.delete(e)}hasCache(e){return 1!==iw(e)}}function iS(e,t,r,i){if(!Array.isArray(r))throw Error("array expected");r.forEach((t,r)=>{if(!(t instanceof e))throw Error("invalid point at index "+r)});if(!Array.isArray(i))throw Error("array of scalars expected");i.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)});let n=r.length,s=i.length;if(n!==s)throw Error("arrays of points and scalars must have equal length");let o=e.ZERO,a=r$(BigInt(n)),u=1;a>12?u=a-3:a>4?u=a-2:a>0&&(u=2);let l=rZ(u),c=Array(Number(l)+1).fill(o),h=Math.floor((t.BITS-1)/u)*u,d=o;for(let e=h;e>=0;e-=u){c.fill(o);for(let t=0;t<s;t++){let n=Number(i[t]>>BigInt(e)&l);c[n]=c[n].add(r[t])}let t=o;for(let e=c.length-1,r=o;e>0;e--)r=r.add(c[e]),t=t.add(r);if(d=d.add(t),0!==e)for(let e=0;e<u;e++)d=d.double()}return d}function ik(e,t,r){if(!t)return ia(e,{isLE:r});if(t.ORDER!==e)throw Error("Field.ORDER must match order: Fp == p, Fn == n");return ir(t),t}function iE(e,t,r={},i){if(void 0===i&&(i="edwards"===e),!t||"object"!=typeof t)throw Error(`expected valid ${e} CURVE object`);for(let e of["p","n","h"]){let r=t[e];if(!("bigint"==typeof r&&r>ic))throw Error(`CURVE.${e} must be positive bigint`)}let n=ik(t.p,r.Fp,i),s=ik(t.n,r.Fn,i);for(let r of["Gx","Gy","a","weierstrass"===e?"b":"d"])if(!n.isValid(t[r]))throw Error(`CURVE.${r} must be valid field element of CURVE.Fp`);return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:n,Fn:s}}let iB=BigInt(0),iA=BigInt(1),iT=BigInt(2),iC=BigInt(8);class iI{constructor(e){this.ep=e}static fromBytes(e){rW()}static fromHex(e){rW()}get x(){return this.toAffine().x}get y(){return this.toAffine().y}clearCofactor(){return this}assertValidity(){this.ep.assertValidity()}toAffine(e){return this.ep.toAffine(e)}toHex(){return(0,rA.bytesToHex)(this.toBytes())}toString(){return this.toHex()}isTorsionFree(){return!0}isSmallOrder(){return!1}add(e){return this.assertSame(e),this.init(this.ep.add(e.ep))}subtract(e){return this.assertSame(e),this.init(this.ep.subtract(e.ep))}multiply(e){return this.init(this.ep.multiply(e))}multiplyUnsafe(e){return this.init(this.ep.multiplyUnsafe(e))}double(){return this.init(this.ep.double())}negate(){return this.init(this.ep.negate())}precompute(e,t){return this.init(this.ep.precompute(e,t))}toRawBytes(){return this.toBytes()}}function iO(e,t){if(iM(e),iM(t),e<0||e>=1<<8*t)throw Error("invalid I2OSP input: "+e);let r=Array.from({length:t}).fill(0);for(let i=t-1;i>=0;i--)r[i]=255&e,e>>>=8;return new Uint8Array(r)}function iM(e){if(!Number.isSafeInteger(e))throw Error("number expected")}function iP(e){if(!(0,rA.isBytes)(e)&&"string"!=typeof e)throw Error("DST must be Uint8Array or string");return"string"==typeof e?(0,rA.utf8ToBytes)(e):e}function iR(e,t,r){var i;let n;rq(r,{p:"bigint",m:"number",k:"number",hash:"function"});let{p:s,k:o,m:a,hash:u,expand:l,DST:c}=r;if(!("function"==typeof(i=r.hash)&&Number.isSafeInteger(i.outputLen)))throw Error("expected valid hash");(0,rA.abytes)(e),iM(t);let h=Math.ceil((s.toString(2).length+o)/8),d=t*a*h;if("xmd"===l)n=function(e,t,r,i){(0,rA.abytes)(e),iM(r),(t=iP(t)).length>255&&(t=i((0,rA.concatBytes)((0,rA.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));let{outputLen:n,blockLen:s}=i,o=Math.ceil(r/n);if(r>65535||o>255)throw Error("expand_message_xmd: invalid lenInBytes");let a=(0,rA.concatBytes)(t,iO(t.length,1)),u=iO(0,s),l=iO(r,2),c=Array(o),h=i((0,rA.concatBytes)(u,e,l,iO(0,1),a));c[0]=i((0,rA.concatBytes)(h,iO(1,1),a));for(let e=1;e<=o;e++){let t=[function(e,t){let r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e[i]^t[i];return r}(h,c[e-1]),iO(e+1,1),a];c[e]=i((0,rA.concatBytes)(...t))}return(0,rA.concatBytes)(...c).slice(0,r)}(e,c,d,u);else if("xof"===l)n=function(e,t,r,i,n){if((0,rA.abytes)(e),iM(r),(t=iP(t)).length>255){let e=Math.ceil(2*i/8);t=n.create({dkLen:e}).update((0,rA.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw Error("expand_message_xof: invalid lenInBytes");return n.create({dkLen:r}).update(e).update(iO(r,2)).update(t).update(iO(t.length,1)).digest()}(e,c,d,o,u);else if("_internal_pass"===l)n=e;else throw Error('expand must be "xmd" or "xof"');let f=Array(t);for(let e=0;e<t;e++){let t=Array(a);for(let r=0;r<a;r++){let i=h*(r+e*a),o=n.subarray(i,i+h);t[r]=r8(rR(o),s)}f[e]=t}return f}let iN=(0,rA.utf8ToBytes)("HashToScalar-");function iL(e,t,r){if("function"!=typeof t)throw Error("mapToCurve() must be defined");function i(r){return e.fromAffine(t(r))}function n(t){let r=t.clearCofactor();return r.equals(e.ZERO)?e.ZERO:(r.assertValidity(),r)}return{defaults:r,hashToCurve(e,t){let s=iR(e,2,Object.assign({},r,t)),o=i(s[0]),a=i(s[1]);return n(o.add(a))},encodeToCurve(e,t){let s=r.encodeDST?{DST:r.encodeDST}:{};return n(i(iR(e,1,Object.assign({},r,s,t))[0]))},mapToCurve(e){if(!Array.isArray(e))throw Error("expected array of bigints");for(let t of e)if("bigint"!=typeof t)throw Error("expected array of bigints");return n(i(e))},hashToScalar:(t,i)=>iR(t,1,Object.assign({},r,{p:e.Fn.ORDER,m:1,DST:iN},i))[0][0]}}BigInt(0),BigInt(1),BigInt(2);let iU=BigInt(0),iD=BigInt(1),ij=BigInt(2),iF=BigInt(3),iz=BigInt(5),i$=BigInt(8),iZ=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),iq={p:iZ,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:i$,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")},iW=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function iV(e,t){var r;let i,n,s,o,a,u,l,c,h,d,f,p,m,g,y=r8(t*t*t,iZ),b=(r=e*r8(y*y*t,iZ),i=BigInt(10),n=BigInt(20),s=BigInt(40),o=BigInt(80),u=r6(a=r*r%iZ*r%iZ,ij,iZ)*a%iZ,l=r6(u,iD,iZ)*r%iZ,c=r6(l,iz,iZ)*l%iZ,h=r6(c,i,iZ)*c%iZ,d=r6(h,n,iZ)*h%iZ,f=r6(d,s,iZ)*d%iZ,p=r6(f,o,iZ)*f%iZ,m=r6(p,o,iZ)*f%iZ,g=r6(m,i,iZ)*c%iZ,{pow_p_5_8:r6(g,ij,iZ)*r%iZ,b2:a}).pow_p_5_8,v=r8(e*y*b,iZ),w=r8(t*v*v,iZ),_=v,x=r8(v*iW,iZ),S=w===e,k=w===r8(-e,iZ),E=w===r8(-e*iW,iZ);return S&&(v=_),(k||E)&&(v=x),ie(v,iZ)&&(v=r8(-v,iZ)),{isValid:S||k,value:v}}let iK=ia(iq.p,{isLE:!0}),iH=ia(iq.n,{isLE:!0}),iG=function(e){let t,r,i,n,{CURVE:s,curveOpts:o,hash:a,eddsaOpts:u}=(t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r={Fp:e.Fp,Fn:ia(t.n,e.nBitLength,!0),uvRatio:e.uvRatio},i={randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve},{CURVE:t,curveOpts:r,hash:e.hash,eddsaOpts:i}),l=function(e,t,r={}){if("function"!=typeof t)throw Error('"hash" function param is required');rq(r,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});let{prehash:i}=r,{BASE:n,Fp:s,Fn:o}=e,a=r.randomBytes||rA.randomBytes,u=r.adjustScalarBytes||(e=>e),l=r.domain||((e,t,r)=>{if(rI(r,"phflag"),t.length||r)throw Error("Contexts/pre-hash are not supported");return e});function c(e){return o.create(rN(e))}function h(e){var r;let i,s,o,a,l,{head:h,prefix:d,scalar:f}=(r=rD("private key",r=e,i=g.secretKey),o=u((s=rD("hashed private key",t(r),2*i)).slice(0,i)),a=s.slice(i,2*i),l=c(o),{head:o,prefix:a,scalar:l}),p=n.multiply(f),m=p.toBytes();return{head:h,prefix:d,scalar:f,point:p,pointBytes:m}}function d(e){return h(e).pointBytes}function f(e=Uint8Array.of(),...r){return c(t(l((0,rA.concatBytes)(...r),rD("context",e),!!i)))}let p={zip215:!0},m=s.BYTES,g={secretKey:m,publicKey:m,signature:2*m,seed:m};function y(e=a(g.seed)){return rO(e,g.seed,"seed")}let b={getExtendedPublicKey:h,randomSecretKey:y,isValidSecretKey:function(e){return(0,rA.isBytes)(e)&&e.length===o.BYTES},isValidPublicKey:function(t,r){try{return!!e.fromBytes(t,r)}catch(e){return!1}},toMontgomery(t){let{y:r}=e.fromBytes(t),i=g.publicKey,n=32===i;if(!n&&57!==i)throw Error("only defined for 25519 and 448");let o=n?s.div(iA+r,iA-r):s.div(r-iA,r+iA);return s.toBytes(o)},toMontgomerySecret(e){let r=g.secretKey;return rO(e,r),u(t(e.subarray(0,r))).subarray(0,r)},randomPrivateKey:y,precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)};return Object.freeze({keygen:function(e){let t=b.randomSecretKey(e);return{secretKey:t,publicKey:d(t)}},getPublicKey:d,sign:function(e,t,r={}){e=rD("message",e),i&&(e=i(e));let{prefix:s,scalar:a,pointBytes:u}=h(t),l=f(r.context,s,e),c=n.multiply(l).toBytes(),d=f(r.context,c,u,e),p=o.create(l+d*a);if(!o.isValid(p))throw Error("sign failed: invalid s");return rO((0,rA.concatBytes)(c,o.toBytes(p)),g.signature,"result")},verify:function(t,r,s,o=p){let a,u,l,{context:c,zip215:h}=o,d=g.signature;t=rD("signature",t,d),r=rD("message",r),s=rD("publicKey",s,g.publicKey),void 0!==h&&rI(h,"zip215"),i&&(r=i(r));let m=d/2,y=t.subarray(0,m),b=rN(t.subarray(m,d));try{a=e.fromBytes(s,h),u=e.fromBytes(y,h),l=n.multiplyUnsafe(b)}catch(e){return!1}if(!h&&a.isSmallOrder())return!1;let v=f(c,u.toBytes(),a.toBytes(),r);return u.add(a.multiplyUnsafe(v)).subtract(l).clearCofactor().is0()},utils:b,Point:e,lengths:g})}(function(e,t={}){var r,i;let n,s,o,a,u,l=iE("edwards",e,t,t.FpFnLE),{Fp:c,Fn:h}=l,d=l.CURVE,{h:f}=d;rq(t,{},{uvRatio:"function"});let p=iT<<BigInt(8*h.BYTES)-iA,m=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:c.sqrt(c.div(e,t))}}catch(e){return{isValid:!1,value:iB}}});if(r=d.Gx,i=d.Gy,n=c.sqr(r),s=c.sqr(i),o=c.add(c.mul(d.a,n),s),a=c.add(c.ONE,c.mul(d.d,c.mul(n,s))),!c.eql(o,a))throw Error("bad curve params: generator point");function g(e,t,r=!1){return rz("coordinate "+e,t,r?iA:iB,p),t}function y(e){if(!(e instanceof w))throw Error("ExtendedPoint expected")}let b=rV((e,t)=>{let r,i,{X:n,Y:s,Z:o}=e,a=e.is0();null==t&&(t=a?iC:c.inv(o));let u=(r=n*t,c.create(r)),l=(i=s*t,c.create(i)),h=c.mul(o,t);if(a)return{x:iB,y:iA};if(h!==iA)throw Error("invZ was invalid");return{x:u,y:l}}),v=rV(e=>{let t,r,i,n,s,o,a,u,l,h,f,p,{a:m,d:g}=d;if(e.is0())throw Error("bad point: ZERO");let{X:y,Y:b,Z:v,T:w}=e,_=(t=y*y,c.create(t)),x=(r=b*b,c.create(r)),S=(i=v*v,c.create(i)),k=(n=S*S,c.create(n));if(a=S*(s=_*m,o=c.create(s)+x,c.create(o)),c.create(a)!==(h=k+(l=g*(u=_*x,c.create(u)),c.create(l)),c.create(h)))throw Error("bad point: equation left != right (1)");if(f=y*b,c.create(f)!==(p=v*w,c.create(p)))throw Error("bad point: equation left != right (2)");return!0});class w{constructor(e,t,r,i){this.X=g("x",e),this.Y=g("y",t),this.Z=g("z",r,!0),this.T=g("t",i),Object.freeze(this)}static CURVE(){return d}static fromAffine(e){let t;if(e instanceof w)throw Error("extended point not allowed");let{x:r,y:i}=e||{};return g("x",r),g("y",i),new w(r,i,iA,(t=r*i,c.create(t)))}static fromBytes(e,t=!1){let r,i,n,s,o=c.BYTES,{a,d:u}=d;e=rj(rO(e,o,"point")),rI(t,"zip215");let l=rj(e),h=e[o-1];l[o-1]=-129&h;let f=rN(l);rz("point.y",f,iB,t?p:c.ORDER);let g=(r=f*f,c.create(r)),{isValid:y,value:b}=m((i=g-iA,c.create(i)),(n=u*g-a,c.create(n)));if(!y)throw Error("bad point: invalid y coordinate");let v=(b&iA)===iA,_=(128&h)!=0;if(!t&&b===iB&&_)throw Error("bad point: x=0 and x_0=1");return _!==v&&(s=-b,b=c.create(s)),w.fromAffine({x:b,y:f})}static fromHex(e,t=!1){return w.fromBytes(rD("point",e),t)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return _.createCache(this,e),t||this.multiply(iT),this}assertValidity(){v(this)}equals(e){let t,r,i,n;y(e);let{X:s,Y:o,Z:a}=this,{X:u,Y:l,Z:h}=e,d=(t=s*h,c.create(t)),f=(r=u*a,c.create(r)),p=(i=o*h,c.create(i)),m=(n=l*a,c.create(n));return d===f&&p===m}is0(){return this.equals(w.ZERO)}negate(){let e,t;return new w((e=-this.X,c.create(e)),this.Y,this.Z,(t=-this.T,c.create(t)))}double(){let e,t,r,i,n,s,o,a,u,l,h,{a:f}=d,{X:p,Y:m,Z:g}=this,y=(e=p*p,c.create(e)),b=(t=m*m,c.create(t)),v=(i=iT*(r=g*g,c.create(r)),c.create(i)),_=(n=f*y,c.create(n)),x=p+m,S=(s=x*x,o=c.create(s)-y-b,c.create(o)),k=_+b,E=k-v,B=_-b,A=(a=S*E,c.create(a)),T=(u=k*B,c.create(u)),C=(l=S*B,c.create(l));return new w(A,T,(h=E*k,c.create(h)),C)}add(e){let t,r,i,n,s,o,a,u,l,h;y(e);let{a:f,d:p}=d,{X:m,Y:g,Z:b,T:v}=this,{X:_,Y:x,Z:S,T:k}=e,E=(t=m*_,c.create(t)),B=(r=g*x,c.create(r)),A=(i=v*p*k,c.create(i)),T=(n=b*S,c.create(n)),C=(s=(m+g)*(_+x)-E-B,c.create(s)),I=T-A,O=T+A,M=(o=B-f*E,c.create(o)),P=(a=C*I,c.create(a)),R=(u=O*M,c.create(u)),N=(l=C*M,c.create(l));return new w(P,R,(h=I*O,c.create(h)),N)}subtract(e){return this.add(e.negate())}multiply(e){if(!h.isValidNot0(e))throw Error("invalid scalar: expected 1 <= sc < curve.n");let{p:t,f:r}=_.cached(this,e,e=>ip(w,e));return ip(w,[t,r])[0]}multiplyUnsafe(e,t=w.ZERO){if(!h.isValid(e))throw Error("invalid scalar: expected 0 <= sc < curve.n");return e===iB?w.ZERO:this.is0()||e===iA?this:_.unsafe(this,e,e=>ip(w,e),t)}isSmallOrder(){return this.multiplyUnsafe(f).is0()}isTorsionFree(){return _.unsafe(this,d.n).is0()}toAffine(e){return b(this,e)}clearCofactor(){return f===iA?this:this.multiplyUnsafe(f)}toBytes(){let{x:e,y:t}=this.toAffine(),r=c.toBytes(t);return r[r.length-1]|=e&iA?128:0,r}toHex(){return(0,rA.bytesToHex)(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(e){return ip(w,e)}static msm(e,t){return iS(w,h,e,t)}_setWindowSize(e){this.precompute(e)}toRawBytes(){return this.toBytes()}}w.BASE=new w(d.Gx,d.Gy,iA,(u=d.Gx*d.Gy,c.create(u))),w.ZERO=new w(iB,iA,iA,iB),w.Fp=c,w.Fn=h;let _=new ix(w,h.BITS);return w.BASE.precompute(8),w}(s,o),a,u);return n=l.Point,Object.assign({},l,{ExtendedPoint:n,CURVE:e,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}({...iq,Fp:iK,hash:rB.sha512,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:iV}),iY=(iZ+iF)/i$,iJ=iK.pow(ij,iY),iX=iK.sqrt(iK.neg(iK.ONE)),iQ=function(e,t){if(!e.isOdd)throw Error("Field doesn't have isOdd");let r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r}(iK,iK.neg(BigInt(486664)));iL(iG.Point,e=>(function(e){let t,r,i,n,s,o,a,u,l,c,h,d,f,p,m,g,y,b,v,w,_,x,S,{xMn:k,xMd:E,yMn:B,yMd:A}=(t=(iZ-iz)/i$,r=BigInt(486662),i=iK.sqr(e),i=iK.mul(i,ij),n=iK.add(i,iK.ONE),s=iK.neg(r),o=iK.sqr(n),a=iK.mul(o,n),u=iK.mul(i,r),u=iK.mul(u,s),u=iK.add(u,o),u=iK.mul(u,s),l=iK.sqr(a),o=iK.sqr(l),l=iK.mul(l,a),l=iK.mul(l,u),o=iK.mul(o,l),c=iK.pow(o,t),c=iK.mul(c,l),h=iK.mul(c,iX),o=iK.sqr(c),o=iK.mul(o,a),d=iK.eql(o,u),f=iK.cmov(h,c,d),p=iK.mul(s,i),m=iK.mul(c,e),m=iK.mul(m,iJ),g=iK.mul(m,iX),y=iK.mul(u,i),o=iK.sqr(m),o=iK.mul(o,a),b=iK.eql(o,y),v=iK.cmov(g,m,b),o=iK.sqr(f),o=iK.mul(o,a),w=iK.eql(o,u),_=iK.cmov(p,s,w),x=iK.cmov(v,f,w),S=iK.isOdd(x),{xMn:_,xMd:n,yMn:x=iK.cmov(x,iK.neg(x),w!==S),yMd:iD}),T=iK.mul(k,A);T=iK.mul(T,iQ);let C=iK.mul(E,B),I=iK.sub(k,E),O=iK.add(k,E),M=iK.mul(C,O),P=iK.eql(M,iK.ZERO);T=iK.cmov(T,iK.ZERO,P),C=iK.cmov(C,iK.ONE,P),I=iK.cmov(I,iK.ONE,P),O=iK.cmov(O,iK.ONE,P);let[R,N]=ii(iK,[C,O],!0);return{x:iK.mul(T,R),y:iK.mul(I,N)}})(e[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:iZ,m:1,k:128,expand:"xmd",hash:rB.sha512});let i0=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),i1=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),i2=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),i8=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),i6=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),i3=e=>iG.Point.Fp.create(rN(e)&i6);function i5(e){let t,r,i,n,s,o,a,u,l,c,h,d,f,p,m,{d:g}=iq,y=(t=iW*e*e,iK.create(t)),b=(r=(y+iD)*i2,iK.create(r)),v=BigInt(-1),w=(n=(v-g*y)*(i=y+g,iK.create(i)),iK.create(n)),{isValid:_,value:x}=iV(b,w),S=(s=x*e,iK.create(s));ie(S,iZ)||(o=-S,S=iK.create(o)),_||(x=S),_||(v=y);let k=(a=v*(y-iD)*i8-w,iK.create(a)),E=x*x,B=(u=(x+x)*w,iK.create(u)),A=(l=k*i0,iK.create(l)),T=(c=iD-E,iK.create(c)),C=(h=iD+E,iK.create(h));return new iG.Point((d=B*C,iK.create(d)),(f=T*A,iK.create(f)),(p=A*C,iK.create(p)),(m=B*T,iK.create(m)))}class i4 extends iI{constructor(e){super(e)}static fromAffine(e){return new i4(iG.Point.fromAffine(e))}assertSame(e){if(!(e instanceof i4))throw Error("RistrettoPoint expected")}init(e){return new i4(e)}static hashToCurve(e){var t;let r,i;return t=rD("ristrettoHash",e,64),(0,rA.abytes)(t,64),r=i5(i3(t.subarray(0,32))),i=i5(i3(t.subarray(32,64))),new i4(r.add(i))}static fromBytes(e){let t,r,i,n,s,o,a,u,l,c,h,d,f;(0,rA.abytes)(e,32);let{a:p,d:m}=iq,g=i3(e);if(!function(e,t){if(e.length!==t.length)return!1;let r=0;for(let i=0;i<e.length;i++)r|=e[i]^t[i];return 0===r}(iK.toBytes(g),e)||ie(g,iZ))throw Error("invalid ristretto255 encoding 1");let y=(t=g*g,iK.create(t)),b=(r=iD+p*y,iK.create(r)),v=(i=iD-p*y,iK.create(i)),w=(n=b*b,iK.create(n)),_=(s=v*v,iK.create(s)),x=(o=p*m*w-_,iK.create(o)),{isValid:S,value:k}=(a=x*_,iV(iD,iK.create(a))),E=(u=k*v,iK.create(u)),B=(l=k*E*x,iK.create(l)),A=(c=(g+g)*E,iK.create(c));ie(A,iZ)&&(h=-A,A=iK.create(h));let T=(d=b*B,iK.create(d)),C=(f=A*T,iK.create(f));if(!S||ie(C,iZ)||T===iU)throw Error("invalid ristretto255 encoding 2");return new i4(new iG.Point(A,T,iD,C))}static fromHex(e){return i4.fromBytes(rD("ristrettoHex",e,32))}static msm(e,t){return iS(i4,iG.Point.Fn,e,t)}toBytes(){let e,t,r,i,n,s,o,a,u,l,c,h,d,{X:f,Y:p,Z:m,T:g}=this.ep,y=(e=m+p,r=iK.create(e)*(t=m-p,iK.create(t)),iK.create(r)),b=(i=f*p,iK.create(i)),{value:v}=(s=y*(n=b*b,iK.create(n)),iV(iD,iK.create(s))),w=(o=v*y,iK.create(o)),_=(a=v*b,iK.create(a)),x=(u=w*_*g,iK.create(u));if(ie(g*x,iZ)){let e,t,r=(e=p*iW,iK.create(e)),i=(t=f*iW,iK.create(t));f=r,p=i,d=iK.create(w*i1)}else d=_;ie(f*x,iZ)&&(l=-p,p=iK.create(l));let S=(c=(m-p)*d,iK.create(c));return ie(S,iZ)&&(h=-S,S=iK.create(h)),iK.toBytes(S)}equals(e){let t,r,i,n;this.assertSame(e);let{X:s,Y:o}=this.ep,{X:a,Y:u}=e.ep,l=(t=s*u,iK.create(t)===(r=o*a,iK.create(r))),c=(i=o*u,iK.create(i)===(n=s*a,iK.create(n)));return l||c}is0(){return this.equals(i4.ZERO)}}i4.BASE=new i4(iG.Point.BASE),i4.ZERO=new i4(iG.Point.ZERO),i4.Fp=iK,i4.Fn=iH;var i9=e.i(546152),i7=e.i(362682),ne=e.i(346549),nt=e.i(55128),nr=e.i(564789);function ni([e,t]){return`${e}=${function e(t){return Array.isArray(t)?"%5B"+t.map(e).join("%2C%20")+"%5D":"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?{...t}:t))}(t)}`}var nn=class extends Error{cause=this.cause;context;constructor(...[e,t]){let r,i;if(t){const{cause:e,...n}=t;e&&(i={cause:e}),Object.keys(n).length>0&&(r=n)}super(function(e,t={}){{let r,i=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(i+=` '${r=Object.entries(t).map(ni).join("&"),Buffer.from(r,"utf8").toString("base64")}'`),`${i}\``}}(e,r),i),this.context={__code:e,...r},this.name="SolanaError"}};function ns(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}var no=((u=no||{})[u.Little=0]="Little",u[u.Big=1]="Big",u);function na(e){return e?.endian!==1}var nu=e.i(224361),nl=e.i(921517),nc=e.i(524836);class nh extends TypeError{constructor(e,t){let r;const{message:i,explanation:n,...s}=e,{path:o}=e,a=0===o.length?i:`At path: ${o.join(".")} -- ${i}`;super(n??a),null!=n&&(this.cause=a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function nd(e){return"object"==typeof e&&null!=e}function nf(e){return nd(e)&&!Array.isArray(e)}function np(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function*nm(e,t,r,i){var n;for(let s of(nd(n=e)&&"function"==typeof n[Symbol.iterator]||(e=[e]),e)){let e=function(e,t,r,i){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});let{path:n,branch:s}=t,{type:o}=r,{refinement:a,message:u=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${np(i)}\``}=e;return{value:i,type:o,refinement:a,key:n[n.length-1],path:n,branch:s,...e,message:u}}(s,t,r,i);e&&(yield e)}}function*ng(e,t,r={}){let{path:i=[],branch:n=[e],coerce:s=!1,mask:o=!1}=r,a={path:i,branch:n,mask:o};s&&(e=t.coercer(e,a));let u="valid";for(let i of t.validator(e,a))i.explanation=r.message,u="not_valid",yield[i,void 0];for(let[l,c,h]of t.entries(e,a))for(let t of ng(c,h,{path:void 0===l?i:[...i,l],branch:void 0===l?n:[...n,c],coerce:s,mask:o,message:r.message}))t[0]?(u=null!=t[0].refinement?"not_refined":"not_valid",yield[t[0],void 0]):s&&(c=t[1],void 0===l?e=c:e instanceof Map?e.set(l,c):e instanceof Set?e.add(c):nd(e)&&(void 0!==c||l in e)&&(e[l]=c));if("not_valid"!==u)for(let i of t.refiner(e,a))i.explanation=r.message,u="not_refined",yield[i,void 0];"valid"===u&&(yield[void 0,e])}class ny{constructor(e){const{type:t,schema:r,validator:i,refiner:n,coercer:s=e=>e,entries:o=function*(){}}=e;this.type=t,this.schema=r,this.entries=o,this.coercer=s,i?this.validator=(e,t)=>nm(i(e,t),t,this,e):this.validator=()=>[],n?this.refiner=(e,t)=>nm(n(e,t),t,this,e):this.refiner=()=>[]}assert(e,t){var r=e,i=this,n=t;let s=nv(r,i,{message:n});if(s[0])throw s[0]}create(e,t){return nb(e,this,t)}is(e){var t,r;return t=e,r=this,!nv(t,r)[0]}mask(e,t){var r=e,i=this,n=t;let s=nv(r,i,{coerce:!0,mask:!0,message:n});if(!s[0])return s[1];throw s[0]}validate(e,t={}){return nv(e,this,t)}}function nb(e,t,r){let i=nv(e,t,{coerce:!0,message:r});if(!i[0])return i[1];throw i[0]}function nv(e,t,r={}){let i=ng(e,t,r),n=function(e){let{done:t,value:r}=e.next();return t?void 0:r}(i);return n[0]?[new nh(n[0],function*(){for(let e of i)e[0]&&(yield e[0])}),void 0]:[void 0,n[1]]}function nw(e,t){return new ny({type:e,schema:null,validator:t})}function n_(e){return new ny({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(let[r,i]of t.entries())yield[r,i,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${np(e)}`})}function nx(){return nw("boolean",e=>"boolean"==typeof e)}function nS(e){return nw("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${np(t)}`)}function nk(e){let t=np(e),r=typeof e;return new ny({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${np(r)}`})}function nE(e){return new ny({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function nB(){return nw("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${np(e)}`)}function nA(e){return new ny({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function nT(e,t){return new ny({type:"record",schema:null,*entries(r){if(nd(r))for(let i in r){let n=r[i];yield[i,i,e],yield[i,n,t]}},validator:e=>nf(e)||`Expected an object, but received: ${np(e)}`,coercer:e=>nf(e)?{...e}:e})}function nC(){return nw("string",e=>"string"==typeof e||`Expected a string, but received: ${np(e)}`)}function nI(e){let t=nw("never",()=>!1);return new ny({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let i=Math.max(e.length,r.length);for(let n=0;n<i;n++)yield[n,r[n],e[n]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${np(e)}`,coercer:e=>Array.isArray(e)?e.slice():e})}function nO(e){let t=Object.keys(e);return new ny({type:"type",schema:e,*entries(r){if(nd(r))for(let i of t)yield[i,r[i],e[i]]},validator:e=>nf(e)||`Expected an object, but received: ${np(e)}`,coercer:e=>nf(e)?{...e}:e})}function nM(e){let t=e.map(e=>e.type).join(" | ");return new ny({type:"union",schema:null,coercer(t,r){for(let i of e){let[e,n]=i.validate(t,{coerce:!0,mask:r.mask});if(!e)return n}return t},validator(r,i){let n=[];for(let t of e){let[...e]=ng(r,t,i),[s]=e;if(!s[0])return[];for(let[t]of e)t&&n.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${np(r)}`,...n]}})}function nP(){return nw("unknown",()=>!0)}function nR(e,t,r){return new ny({...e,coercer:(i,n)=>nv(i,t)[0]?e.coercer(i,n):e.coercer(r(i,n),n)})}e.i(678486);var nN=e.i(688947),nL=e.i(792509),nU=e.i(744361),nD=e.i(406461);let nj=nN.default.Readable,nF=Symbol("buffer"),nz=Symbol("type");class n${constructor(){this[nz]="";const e=arguments[0],t=arguments[1],r=[];if(e){const t=Number(e.length);for(let i=0;i<t;i++){let t;const n=e[i];(t=n instanceof Buffer?n:ArrayBuffer.isView(n)?Buffer.from(n.buffer,n.byteOffset,n.byteLength):n instanceof ArrayBuffer?Buffer.from(n):n instanceof n$?n[nF]:Buffer.from("string"==typeof n?n:String(n))).length,r.push(t)}}this[nF]=Buffer.concat(r);let i=t&&void 0!==t.type&&String(t.type).toLowerCase();i&&!/[^\u0020-\u007E]/.test(i)&&(this[nz]=i)}get size(){return this[nF].length}get type(){return this[nz]}text(){return Promise.resolve(this[nF].toString())}arrayBuffer(){let e=this[nF];return Promise.resolve(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength))}stream(){let e=new nj;return e._read=function(){},e.push(this[nF]),e.push(null),e}toString(){return"[object Blob]"}slice(){let e,t=this.size,r=arguments[0],i=arguments[1];e=void 0===r?0:r<0?Math.max(t+r,0):Math.min(r,t);let n=Math.max((void 0===i?t:i<0?Math.max(t+i,0):Math.min(i,t))-e,0),s=this[nF].slice(e,e+n),o=new n$([],{type:arguments[2]});return o[nF]=s,o}}function nZ(e,t,r){Error.call(this,e),this.message=e,this.type=t,r&&(this.code=this.errno=r.code),Error.captureStackTrace(this,this.constructor)}Object.defineProperties(n$.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(n$.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),nZ.prototype=Object.create(Error.prototype),nZ.prototype.constructor=nZ,nZ.prototype.name="FetchError";try{r=e.r(14961).convert}catch(e){}let nq=Symbol("Body internals"),nW=nN.default.PassThrough;function nV(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.size,n=r.timeout;null==e?e=null:nH(e)?e=Buffer.from(e.toString()):nG(e)||Buffer.isBuffer(e)||("[object ArrayBuffer]"===Object.prototype.toString.call(e)?e=Buffer.from(e):ArrayBuffer.isView(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof nN.default||(e=Buffer.from(String(e)))),this[nq]={body:e,disturbed:!1,error:null},this.size=void 0===i?0:i,this.timeout=void 0===n?0:n,e instanceof nN.default&&e.on("error",function(e){let r="AbortError"===e.name?e:new nZ(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e);t[nq].error=r})}function nK(){var e=this;if(this[nq].disturbed)return nV.Promise.reject(TypeError(`body used already for: ${this.url}`));if(this[nq].disturbed=!0,this[nq].error)return nV.Promise.reject(this[nq].error);let t=this.body;if(null===t)return nV.Promise.resolve(Buffer.alloc(0));if(nG(t)&&(t=t.stream()),Buffer.isBuffer(t))return nV.Promise.resolve(t);if(!(t instanceof nN.default))return nV.Promise.resolve(Buffer.alloc(0));let r=[],i=0,n=!1;return new nV.Promise(function(s,o){let a;e.timeout&&(a=setTimeout(function(){n=!0,o(new nZ(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))},e.timeout)),t.on("error",function(t){"AbortError"===t.name?(n=!0,o(t)):o(new nZ(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))}),t.on("data",function(t){if(!n&&null!==t){if(e.size&&i+t.length>e.size){n=!0,o(new nZ(`content size at ${e.url} over limit: ${e.size}`,"max-size"));return}i+=t.length,r.push(t)}}),t.on("end",function(){if(!n){clearTimeout(a);try{s(Buffer.concat(r,i))}catch(t){o(new nZ(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t))}}})})}function nH(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"==typeof e.sort)}function nG(e){return"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function nY(e){let t,r,i=e.body;if(e.bodyUsed)throw Error("cannot clone body after it is used");return i instanceof nN.default&&"function"!=typeof i.getBoundary&&(t=new nW,r=new nW,i.pipe(t),i.pipe(r),e[nq].body=t,i=r),i}function nJ(e){if(null===e)return null;if("string"==typeof e)return"text/plain;charset=UTF-8";if(nH(e))return"application/x-www-form-urlencoded;charset=UTF-8";if(nG(e))return e.type||null;if(Buffer.isBuffer(e))return null;else if("[object ArrayBuffer]"===Object.prototype.toString.call(e))return null;else if(ArrayBuffer.isView(e))return null;else if("function"==typeof e.getBoundary)return`multipart/form-data;boundary=${e.getBoundary()}`;else if(e instanceof nN.default)return null;else return"text/plain;charset=UTF-8"}function nX(e){let t=e.body;return null===t?0:nG(t)?t.size:Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync?t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null:null}nV.prototype={get body(){return this[nq].body},get bodyUsed(){return this[nq].disturbed},arrayBuffer(){return nK.call(this).then(function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)})},blob(){let e=this.headers&&this.headers.get("content-type")||"";return nK.call(this).then(function(t){return Object.assign(new n$([],{type:e.toLowerCase()}),{[nF]:t})})},json(){var e=this;return nK.call(this).then(function(t){try{return JSON.parse(t.toString())}catch(t){return nV.Promise.reject(new nZ(`invalid json response body at ${e.url} reason: ${t.message}`,"invalid-json"))}})},text(){return nK.call(this).then(function(e){return e.toString()})},buffer(){return nK.call(this)},textConverted(){var e=this;return nK.call(this).then(function(t){return function(e,t){let i,n;if("function"!=typeof r)throw Error("The package `encoding` must be installed to use the textConverted() function");let s=t.get("content-type"),o="utf-8";return s&&(i=/charset=([^;]*)/i.exec(s)),n=e.slice(0,1024).toString(),!i&&n&&(i=/<meta.+?charset=(['"])(.+?)\1/i.exec(n)),!i&&n&&(!(i=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(n))&&(i=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(n))&&i.pop(),i&&(i=/charset=(.*)/i.exec(i.pop()))),!i&&n&&(i=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(n)),i&&("gb2312"===(o=i.pop())||"gbk"===o)&&(o="gb18030"),r(e,"UTF-8",o).toString()}(t,e.headers)})}},Object.defineProperties(nV.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),nV.mixIn=function(e){for(let t of Object.getOwnPropertyNames(nV.prototype))if(!(t in e)){let r=Object.getOwnPropertyDescriptor(nV.prototype,t);Object.defineProperty(e,t,r)}},nV.Promise=e.g.Promise;let nQ=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,n0=/[^\t\x20-\x7e\x80-\xff]/;function n1(e){if(e=`${e}`,nQ.test(e)||""===e)throw TypeError(`${e} is not a legal HTTP header name`)}function n2(e){if(e=`${e}`,n0.test(e))throw TypeError(`${e} is not a legal HTTP header value`)}function n8(e,t){for(let r in t=t.toLowerCase(),e)if(r.toLowerCase()===t)return r}let n6=Symbol("map");class n3{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[n6]=Object.create(null),e instanceof n3){const t=e.raw();for(const e of Object.keys(t))for(const r of t[e])this.append(e,r);return}if(null==e);else if("object"==typeof e){const t=e[Symbol.iterator];if(null!=t){if("function"!=typeof t)throw TypeError("Header pairs must be iterable");const r=[];for(const t of e){if("object"!=typeof t||"function"!=typeof t[Symbol.iterator])throw TypeError("Each header pair must be iterable");r.push(Array.from(t))}for(const e of r){if(2!==e.length)throw TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(const t of Object.keys(e)){const r=e[t];this.append(t,r)}}else throw TypeError("Provided initializer must be an object")}get(e){n1(e=`${e}`);let t=n8(this[n6],e);return void 0===t?null:this[n6][t].join(", ")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=n5(this),i=0;for(;i<r.length;){var n=r[i];let s=n[0],o=n[1];e.call(t,o,s,this),r=n5(this),i++}}set(e,t){e=`${e}`,t=`${t}`,n1(e),n2(t);let r=n8(this[n6],e);this[n6][void 0!==r?r:e]=[t]}append(e,t){e=`${e}`,t=`${t}`,n1(e),n2(t);let r=n8(this[n6],e);void 0!==r?this[n6][r].push(t):this[n6][e]=[t]}has(e){return n1(e=`${e}`),void 0!==n8(this[n6],e)}delete(e){n1(e=`${e}`);let t=n8(this[n6],e);void 0!==t&&delete this[n6][t]}raw(){return this[n6]}keys(){return n9(this,"key")}values(){return n9(this,"value")}[Symbol.iterator](){return n9(this,"key+value")}}function n5(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";return Object.keys(e[n6]).sort().map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[n6][t].join(", ")}:function(t){return[t.toLowerCase(),e[n6][t].join(", ")]})}n3.prototype.entries=n3.prototype[Symbol.iterator],Object.defineProperty(n3.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(n3.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});let n4=Symbol("internal");function n9(e,t){let r=Object.create(n7);return r[n4]={target:e,kind:t,index:0},r}let n7=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==n7)throw TypeError("Value of `this` is not a HeadersIterator");var e=this[n4];let t=e.target,r=e.kind,i=e.index,n=n5(t,r);return i>=n.length?{value:void 0,done:!0}:(this[n4].index=i+1,{value:n[i],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));Object.defineProperty(n7,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});let se=Symbol("Response internals"),st=nl.default.STATUS_CODES;class sr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};nV.call(this,e,t);const r=t.status||200,i=new n3(t.headers);if(null!=e&&!i.has("Content-Type")){const t=nJ(e);t&&i.append("Content-Type",t)}this[se]={url:t.url,status:r,statusText:t.statusText||st[r],headers:i,counter:t.counter}}get url(){return this[se].url||""}get status(){return this[se].status}get ok(){return this[se].status>=200&&this[se].status<300}get redirected(){return this[se].counter>0}get statusText(){return this[se].statusText}get headers(){return this[se].headers}clone(){return new sr(nY(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}nV.mixIn(sr.prototype),Object.defineProperties(sr.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(sr.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});let si=Symbol("Request internals"),sn=nL.default.URL||nU.default.URL,ss=nL.default.parse,so=nL.default.format;function sa(e){return/^[a-zA-Z][a-zA-Z\d+\-.]*:/.exec(e)&&(e=new sn(e).toString()),ss(e)}let su="destroy"in nN.default.Readable.prototype;function sl(e){return"object"==typeof e&&"object"==typeof e[si]}class sc{constructor(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};sl(e)?t=sa(e.url):(t=e&&e.href?sa(e.href):sa(`${e}`),e={});let i=r.method||e.method||"GET";if(i=i.toUpperCase(),(null!=r.body||sl(e)&&null!==e.body)&&("GET"===i||"HEAD"===i))throw TypeError("Request with GET/HEAD method cannot have body");let n=null!=r.body?r.body:sl(e)&&null!==e.body?nY(e):null;nV.call(this,n,{timeout:r.timeout||e.timeout||0,size:r.size||e.size||0});const s=new n3(r.headers||e.headers||{});if(null!=n&&!s.has("Content-Type")){const e=nJ(n);e&&s.append("Content-Type",e)}let o=sl(e)?e.signal:null;if("signal"in r&&(o=r.signal),null!=o&&!function(e){let t=e&&"object"==typeof e&&Object.getPrototypeOf(e);return!!(t&&"AbortSignal"===t.constructor.name)}(o))throw TypeError("Expected signal to be an instanceof AbortSignal");this[si]={method:i,redirect:r.redirect||e.redirect||"follow",headers:s,parsedURL:t,signal:o},this.follow=void 0!==r.follow?r.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==r.compress?r.compress:void 0===e.compress||e.compress,this.counter=r.counter||e.counter||0,this.agent=r.agent||e.agent}get method(){return this[si].method}get url(){return so(this[si].parsedURL)}get headers(){return this[si].headers}get redirect(){return this[si].redirect}get signal(){return this[si].signal}clone(){return new sc(this)}}function sh(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}nV.mixIn(sc.prototype),Object.defineProperty(sc.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(sc.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),sh.prototype=Object.create(Error.prototype),sh.prototype.constructor=sh,sh.prototype.name="AbortError";let sd=nL.default.URL||nU.default.URL,sf=nN.default.PassThrough,sp=function(e,t){let r=new sd(t).hostname,i=new sd(e).hostname;return r===i||"."===r[r.length-i.length-1]&&r.endsWith(i)};function sm(e,t){if(!sm.Promise)throw Error("native promise missing, set fetch.Promise to your favorite alternative");return nV.Promise=sm.Promise,new sm.Promise(function(r,i){var n,s;let o,a,u,l=new sc(e,t),c=function(e){let t,r,i=e[si].parsedURL,n=new n3(e[si].headers);if(n.has("Accept")||n.set("Accept","*/*"),!i.protocol||!i.hostname)throw TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(i.protocol))throw TypeError("Only HTTP(S) protocols are supported");if(e.signal&&e.body instanceof nN.default.Readable&&!su)throw Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let s=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(s="0"),null!=e.body){let t=nX(e);"number"==typeof t&&(s=String(t))}s&&n.set("Content-Length",s),n.has("User-Agent")||n.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&!n.has("Accept-Encoding")&&n.set("Accept-Encoding","gzip,deflate");let o=e.agent;return"function"==typeof o&&(o=o(i)),Object.assign({},i,{method:e.method,headers:(t=Object.assign({__proto__:null},n[n6]),void 0!==(r=n8(n[n6],"Host"))&&(t[r]=t[r][0]),t),agent:o})}(l),h=("https:"===c.protocol?nc.default:nl.default).request,d=l.signal,f=null,p=function(){let e=new sh("The user aborted a request.");i(e),l.body&&l.body instanceof nN.default.Readable&&sg(l.body,e),f&&f.body&&f.body.emit("error",e)};if(d&&d.aborted)return void p();let m=function(){p(),y()},g=h(c);function y(){g.abort(),d&&d.removeEventListener("abort",m),clearTimeout(a)}d&&d.addEventListener("abort",m),l.timeout&&g.once("socket",function(e){a=setTimeout(function(){i(new nZ(`network timeout at: ${l.url}`,"request-timeout")),y()},l.timeout)}),g.on("error",function(e){i(new nZ(`request to ${l.url} failed, reason: ${e.message}`,"system",e)),f&&f.body&&sg(f.body,e),y()}),n=g,s=function(e){(!d||!d.aborted)&&f&&f.body&&sg(f.body,e)},n.on("socket",function(e){o=e}),n.on("response",function(e){let t=e.headers;"chunked"!==t["transfer-encoding"]||t["content-length"]||e.once("close",function(e){if(o&&o.listenerCount("data")>0&&!e){let e=Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",s(e)}})}),14>parseInt(process.version.substring(1))&&g.on("socket",function(e){e.addListener("close",function(t){let r=e.listenerCount("data")>0;if(f&&r&&!t&&!(d&&d.aborted)){let e=Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",f.body.emit("error",e)}})}),g.on("response",function(e){clearTimeout(a);let t=function(e){let t=new n3;for(let r of Object.keys(e))if(!nQ.test(r))if(Array.isArray(e[r]))for(let i of e[r])n0.test(i)||(void 0===t[n6][r]?t[n6][r]=[i]:t[n6][r].push(i));else n0.test(e[r])||(t[n6][r]=[e[r]]);return t}(e.headers);if(sm.isRedirect(e.statusCode)){let s=t.get("Location"),o=null;try{o=null===s?null:new sd(s,l.url).toString()}catch(e){if("manual"!==l.redirect){i(new nZ(`uri requested responds with an invalid redirect URL: ${s}`,"invalid-redirect")),y();return}}switch(l.redirect){case"error":i(new nZ(`uri requested responds with a redirect, redirect mode is set to error: ${l.url}`,"no-redirect")),y();return;case"manual":if(null!==o)try{t.set("Location",o)}catch(e){i(e)}break;case"follow":var n;if(null===o)break;if(l.counter>=l.follow){i(new nZ(`maximum redirect reached at: ${l.url}`,"max-redirect")),y();return}let a={headers:new n3(l.headers),follow:l.follow,counter:l.counter+1,agent:l.agent,compress:l.compress,method:l.method,body:l.body,signal:l.signal,timeout:l.timeout,size:l.size};if(!sp(l.url,o)||(n=l.url,new sd(o).protocol!==new sd(n).protocol))for(let e of["authorization","www-authenticate","cookie","cookie2"])a.headers.delete(e);if(303!==e.statusCode&&l.body&&null===nX(l)){i(new nZ("Cannot follow redirect with body being a readable stream","unsupported-redirect")),y();return}(303===e.statusCode||(301===e.statusCode||302===e.statusCode)&&"POST"===l.method)&&(a.method="GET",a.body=void 0,a.headers.delete("content-length")),r(sm(new sc(o,a))),y();return}}e.once("end",function(){d&&d.removeEventListener("abort",m)});let s=e.pipe(new sf),o={url:l.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:l.size,timeout:l.timeout,counter:l.counter},u=t.get("Content-Encoding");if(!l.compress||"HEAD"===l.method||null===u||204===e.statusCode||304===e.statusCode)return void r(f=new sr(s,o));let c={flush:nD.default.Z_SYNC_FLUSH,finishFlush:nD.default.Z_SYNC_FLUSH};if("gzip"==u||"x-gzip"==u)return void r(f=new sr(s=s.pipe(nD.default.createGunzip(c)),o));if("deflate"==u||"x-deflate"==u){let t=e.pipe(new sf);t.once("data",function(e){r(f=new sr(s=(15&e[0])==8?s.pipe(nD.default.createInflate()):s.pipe(nD.default.createInflateRaw()),o))}),t.on("end",function(){f||r(f=new sr(s,o))});return}"br"==u&&"function"==typeof nD.default.createBrotliDecompress?r(f=new sr(s=s.pipe(nD.default.createBrotliDecompress()),o)):r(f=new sr(s,o))}),null===(u=l.body)?g.end():nG(u)?u.stream().pipe(g):Buffer.isBuffer(u)?(g.write(u),g.end()):u.pipe(g)})}function sg(e,t){e.destroy?e.destroy(t):(e.emit("error",t),e.end())}sm.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},sm.Promise=e.g.Promise,e.i(716709),e.i(76176),e.i(414699);var sy=e.i(853915),sb=e.i(84945);sy.default;var sv=e.i(732139);sv.default,e.i(857764);e.i(616437);sv.default,sv.default;var sw=e.i(365539),s_=e.i(231285);let sx=(e,t)=>(e+(e>=0?t:-t)/sT)/t;function sS(e){if(!["compact","recovered","der"].includes(e))throw Error('Signature format must be "compact", "recovered", or "der"');return e}function sk(e,t){let r={};for(let i of Object.keys(t))r[i]=void 0===e[i]?t[i]:e[i];return rI(r.lowS,"lowS"),rI(r.prehash,"prehash"),void 0!==r.format&&sS(r.format),r}let sE={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(e,t)=>{let{Err:r}=sE;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let i=t.length/2,n=rM(i);if(n.length/2&128)throw new r("tlv.encode: long form length too big");let s=i>127?rM(n.length/2|128):"";return rM(e)+s+n+t},decode(e,t){let{Err:r}=sE,i=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[i++]!==e)throw new r("tlv.decode: wrong tlv");let n=t[i++],s=0;if(128&n){let e=127&n;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let o=t.subarray(i,i+e);if(o.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===o[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of o)s=s<<8|e;if(i+=e,s<128)throw new r("tlv.decode(long): not minimal encoding")}else s=n;let o=t.subarray(i,i+s);if(o.length!==s)throw new r("tlv.decode: wrong value length");return{v:o,l:t.subarray(i+s)}}},_int:{encode(e){let{Err:t}=sE;if(e<sB)throw new t("integer: negative integers are not allowed");let r=rM(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=sE;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return rR(e)}},toSig(e){let{Err:t,_int:r,_tlv:i}=sE,n=rD("signature",e),{v:s,l:o}=i.decode(48,n);if(o.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:u}=i.decode(2,s),{v:l,l:c}=i.decode(2,u);if(c.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(e){let{_tlv:t,_int:r}=sE,i=t.encode(2,r.encode(e.r)),n=t.encode(2,r.encode(e.s));return t.encode(48,i+n)}},sB=BigInt(0),sA=BigInt(1),sT=BigInt(2),sC=BigInt(3),sI=BigInt(4);function sO(e,t){let r,{BYTES:i}=e;if("bigint"==typeof t)r=t;else{let n=rD("private key",t);try{r=e.fromBytes(n)}catch(e){throw Error(`invalid private key: expected ui8a of size ${i}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw Error("invalid private key: out of range [1..N-1]");return r}function sM(e){return Uint8Array.of(e?2:3)}function sP(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}let sR={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},sN={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},sL=BigInt(0),sU=BigInt(2),sD=ia(sR.p,{sqrt:function(e){let t=sR.p,r=BigInt(3),i=BigInt(6),n=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),l=e*e*e%t,c=l*l*e%t,h=r6(c,r,t)*c%t,d=r6(h,r,t)*c%t,f=r6(d,sU,t)*l%t,p=r6(f,n,t)*f%t,m=r6(p,s,t)*p%t,g=r6(m,a,t)*m%t,y=r6(g,u,t)*g%t,b=r6(y,a,t)*m%t,v=r6(b,r,t)*c%t,w=r6(v,o,t)*p%t,_=r6(w,i,t)*l%t,x=r6(_,sU,t);if(!sD.eql(sD.sqr(x),e))throw Error("Cannot find square root");return x}}),sj=(l={...sR,Fp:sD,lowS:!0,endo:sN},c=rB.sha256,{...(i=e=>(function(e){let t,{CURVE:r,curveOpts:i,hash:n,ecdsaOpts:s}=function(e){let t,r,i,n,{CURVE:s,curveOpts:o}=(t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,i=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(e=>Math.ceil(e/2)))):void 0,n={Fp:r,Fn:ia(t.n,{BITS:e.nBitLength,allowedLengths:i,modFromBytes:e.wrapPrivateKey}),allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes},{CURVE:t,curveOpts:n}),a={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:s,curveOpts:o,hash:e.hash,ecdsaOpts:a}}(e),o=function(e,t,r={}){(0,rA.ahash)(t),rq(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let i=r.randomBytes||rA.randomBytes,n=r.hmac||((e,...r)=>(0,s_.hmac)(t,e,(0,rA.concatBytes)(...r))),{Fp:s,Fn:o}=e,{ORDER:a,BITS:u}=o,{keygen:l,getPublicKey:c,getSharedSecret:h,utils:d,lengths:f}=function(e,t={}){let{Fn:r}=e,i=t.randomBytes||rA.randomBytes,n=Object.assign(sP(e.Fp,r),{seed:il(r.ORDER)});function s(e){try{return!!sO(r,e)}catch(e){return!1}}function o(e=i(n.seed)){return function(e,t,r=!1){let i=e.length,n=iu(t),s=il(t);if(i<16||i<s||i>1024)throw Error("expected "+s+"-1024 bytes of input, got "+i);let o=r8(r?rN(e):rR(e),t-rH)+rH;return r?rU(o,n):rL(o,n)}(rO(e,n.seed,"seed"),r.ORDER)}function a(t,i=!0){return e.BASE.multiply(sO(r,t)).toBytes(i)}function u(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;let{secretKey:i,publicKey:s,publicKeyUncompressed:o}=n;if(r.allowedLengths||i===s)return;let a=rD("key",t).length;return a===s||a===o}return Object.freeze({getPublicKey:a,getSharedSecret:function(t,i,n=!0){if(!0===u(t))throw Error("first arg must be private key");if(!1===u(i))throw Error("second arg must be public key");let s=sO(r,t);return e.fromHex(i).multiply(s).toBytes(n)},keygen:function(e){let t=o(e);return{secretKey:t,publicKey:a(t)}},Point:e,utils:{isValidSecretKey:s,isValidPublicKey:function(t,r){let{publicKey:i,publicKeyUncompressed:s}=n;try{let n=t.length;if(!0===r&&n!==i||!1===r&&n!==s)return!1;return!!e.fromBytes(t)}catch(e){return!1}},randomSecretKey:o,isValidPrivateKey:s,randomPrivateKey:o,normPrivateKeyToScalar:e=>sO(r,e),precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)},lengths:n})}(e,r),p={prehash:!1,lowS:"boolean"==typeof r.lowS&&r.lowS,format:void 0,extraEntropy:!1},m="compact";function g(e,t){if(!o.isValidNot0(t))throw Error(`invalid signature ${e}: out of range 1..Point.Fn.ORDER`);return t}class y{constructor(e,t,r){this.r=g("r",e),this.s=g("s",t),null!=r&&(this.recovery=r),Object.freeze(this)}static fromBytes(e,t=m){var r,i;let n,s;if(r=e,sS(i=t),s=f.signature,rO(r,"compact"===i?s:"recovered"===i?s+1:void 0,`${i} signature`),"der"===t){let{r:t,s:r}=sE.toSig(rO(e));return new y(t,r)}"recovered"===t&&(n=e[0],t="compact",e=e.subarray(1));let a=o.BYTES,u=e.subarray(0,a),l=e.subarray(a,2*a);return new y(o.fromBytes(u),o.fromBytes(l),n)}static fromHex(e,t){return this.fromBytes((0,rA.hexToBytes)(e),t)}addRecoveryBit(e){return new y(this.r,this.s,e)}recoverPublicKey(t){let r=s.ORDER,{r:i,s:n,recovery:u}=this;if(null==u||![0,1,2,3].includes(u))throw Error("recovery id invalid");if(a*sT<r&&u>1)throw Error("recovery id is ambiguous for h>1 curve");let l=2===u||3===u?i+a:i;if(!s.isValid(l))throw Error("recovery id 2 or 3 invalid");let c=s.toBytes(l),h=e.fromBytes((0,rA.concatBytes)(sM((1&u)==0),c)),d=o.inv(l),f=v(rD("msgHash",t)),p=o.create(-f*d),m=o.create(n*d),g=e.BASE.multiplyUnsafe(p).add(h.multiplyUnsafe(m));if(g.is0())throw Error("point at infinify");return g.assertValidity(),g}hasHighS(){return this.s>a>>sA}toBytes(e=m){if(sS(e),"der"===e)return(0,rA.hexToBytes)(sE.hexFromSig(this));let t=o.toBytes(this.r),r=o.toBytes(this.s);if("recovered"===e){if(null==this.recovery)throw Error("recovery bit must be present");return(0,rA.concatBytes)(Uint8Array.of(this.recovery),t,r)}return(0,rA.concatBytes)(t,r)}toHex(e){return(0,rA.bytesToHex)(this.toBytes(e))}assertValidity(){}static fromCompact(e){return y.fromBytes(rD("sig",e),"compact")}static fromDER(e){return y.fromBytes(rD("sig",e),"der")}normalizeS(){return this.hasHighS()?new y(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return(0,rA.bytesToHex)(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return(0,rA.bytesToHex)(this.toBytes("compact"))}}let b=r.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=rR(e),r=8*e.length-u;return r>0?t>>BigInt(r):t},v=r.bits2int_modN||function(e){return o.create(b(e))},w=rZ(u);function _(e){return rz("num < 2^"+u,e,sB,w),o.toBytes(e)}function x(e,r){return rO(e,void 0,"message"),r?rO(t(e),void 0,"prehashed message"):e}return Object.freeze({keygen:l,getPublicKey:c,getSharedSecret:h,utils:d,lengths:f,Point:e,sign:function(r,s,u={}){let{seed:l,k2sig:c}=function(t,r,n){if(["recovered","canonical"].some(e=>e in n))throw Error("sign() legacy options not supported");let{lowS:s,prehash:u,extraEntropy:l}=sk(n,p),c=v(t=x(t,u)),h=sO(o,r),d=[_(h),_(c)];if(null!=l&&!1!==l){let e=!0===l?i(f.secretKey):l;d.push(rD("extraEntropy",e))}return{seed:(0,rA.concatBytes)(...d),k2sig:function(t){let r=b(t);if(!o.isValidNot0(r))return;let i=o.inv(r),n=e.BASE.multiply(r).toAffine(),u=o.create(n.x);if(u===sB)return;let l=o.create(i*o.create(c+u*h));if(l===sB)return;let d=2*(n.x!==u)|Number(n.y&sA),f=l;return s&&l>a>>sA&&(f=o.neg(l),d^=1),new y(u,f,d)}}}(r=rD("message",r),s,u);return(function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let i=e=>new Uint8Array(e),n=i(e),s=i(e),o=0,a=()=>{n.fill(1),s.fill(0),o=0},u=(...e)=>r(s,n,...e),l=(e=i(0))=>{(s=u(Uint8Array.of(0),e),n=u(),0!==e.length)&&(s=u(Uint8Array.of(1),e),n=u())},c=()=>{if(o++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=u()).slice();r.push(t),e+=n.length}return(0,rA.concatBytes)(...r)};return(e,t)=>{let r;for(a(),l(e);!(r=t(c()));)l();return a(),r}})(t.outputLen,o.BYTES,n)(l,c)},verify:function(t,r,i,n={}){let{lowS:s,prehash:a,format:u}=sk(n,p);if(i=rD("publicKey",i),r=x(rD("message",r),a),"strict"in n)throw Error("options.strict was renamed to lowS");let l=void 0===u?function(e){let t,r="string"==typeof e||(0,rA.isBytes)(e),i=!r&&null!==e&&"object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!r&&!i)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(i)t=new y(e.r,e.s);else if(r){try{t=y.fromBytes(rD("sig",e),"der")}catch(e){if(!(e instanceof sE.Err))throw e}if(!t)try{t=y.fromBytes(rD("sig",e),"compact")}catch(e){return!1}}return!!t&&t}(t):y.fromBytes(rD("sig",t),u);if(!1===l)return!1;try{let t=e.fromBytes(i);if(s&&l.hasHighS())return!1;let{r:n,s:a}=l,u=v(r),c=o.inv(a),h=o.create(u*c),d=o.create(n*c),f=e.BASE.multiplyUnsafe(h).add(t.multiplyUnsafe(d));if(f.is0())return!1;return o.create(f.x)===n}catch(e){return!1}},recoverPublicKey:function(e,t,r={}){let{prehash:i}=sk(r,p);return t=x(t,i),y.fromBytes(e,"recovered").recoverPublicKey(t).toBytes()},Signature:y,hash:t})}(function(e,t={}){let r=iE("weierstrass",e,t),{Fp:i,Fn:n}=r,s=r.CURVE,{h:o,n:a}=s;rq(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:u}=t;if(u&&(!i.is0(s.a)||"bigint"!=typeof u.beta||!Array.isArray(u.basises)))throw Error('invalid endo: expected "beta": bigint and "basises": array');let l=sP(i,n);function c(){if(!i.isOdd)throw Error("compression is not supported: Field does not have .isOdd()")}let h=t.toBytes||function(e,t,r){let{x:n,y:s}=t.toAffine(),o=i.toBytes(n);if(rI(r,"isCompressed"),!r)return(0,rA.concatBytes)(Uint8Array.of(4),o,i.toBytes(s));{c();let e=!i.isOdd(s);return(0,rA.concatBytes)(sM(e),o)}},d=t.fromBytes||function(e){rO(e,void 0,"Point");let{publicKey:t,publicKeyUncompressed:r}=l,n=e.length,s=e[0],o=e.subarray(1);if(n===t&&(2===s||3===s)){let e,t=i.fromBytes(o);if(!i.isValid(t))throw Error("bad point: is not on curve, wrong x");let r=f(t);try{e=i.sqrt(r)}catch(e){throw Error("bad point: is not on curve, sqrt error"+(e instanceof Error?": "+e.message:""))}return c(),(1&s)==1!==i.isOdd(e)&&(e=i.neg(e)),{x:t,y:e}}if(n===r&&4===s){let e=i.BYTES,t=i.fromBytes(o.subarray(0,e)),r=i.fromBytes(o.subarray(e,2*e));if(!p(t,r))throw Error("bad point: is not on curve");return{x:t,y:r}}throw Error(`bad point: got length ${n}, expected compressed=${t} or uncompressed=${r}`)};function f(e){let t=i.sqr(e),r=i.mul(t,e);return i.add(i.add(r,i.mul(e,s.a)),s.b)}function p(e,t){let r=i.sqr(t),n=f(e);return i.eql(r,n)}if(!p(s.Gx,s.Gy))throw Error("bad curve params: generator point");let m=i.mul(i.pow(s.a,sC),sI),g=i.mul(i.sqr(s.b),BigInt(27));if(i.is0(i.add(m,g)))throw Error("bad curve params: a or b");function y(e,t,r=!1){if(!i.isValid(t)||r&&i.is0(t))throw Error(`bad point coordinate ${e}`);return t}function b(e){if(!(e instanceof S))throw Error("ProjectivePoint expected")}function v(e){if(!u||!u.basises)throw Error("no endo");return function(e,t,r){let[[i,n],[s,o]]=t,a=sx(o*e,r),u=sx(-n*e,r),l=e-a*i-u*s,c=-a*n-u*o,h=l<sB,d=c<sB;h&&(l=-l),d&&(c=-c);let f=rZ(Math.ceil(r$(r)/2))+sA;if(l<sB||l>=f||c<sB||c>=f)throw Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:h,k1:l,k2neg:d,k2:c}}(e,u.basises,n.ORDER)}let w=rV((e,t)=>{let{X:r,Y:n,Z:s}=e;if(i.eql(s,i.ONE))return{x:r,y:n};let o=e.is0();null==t&&(t=o?i.ONE:i.inv(s));let a=i.mul(r,t),u=i.mul(n,t),l=i.mul(s,t);if(o)return{x:i.ZERO,y:i.ZERO};if(!i.eql(l,i.ONE))throw Error("invZ was invalid");return{x:a,y:u}}),_=rV(e=>{if(e.is0()){if(t.allowInfinityPoint&&!i.is0(e.Y))return;throw Error("bad point: ZERO")}let{x:r,y:n}=e.toAffine();if(!i.isValid(r)||!i.isValid(n))throw Error("bad point: x or y not field elements");if(!p(r,n))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});function x(e,t,r,n,s){return r=new S(i.mul(r.X,e),r.Y,r.Z),t=id(n,t),r=id(s,r),t.add(r)}class S{constructor(e,t,r){this.X=y("x",e),this.Y=y("y",t,!0),this.Z=y("z",r),Object.freeze(this)}static CURVE(){return s}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!i.isValid(t)||!i.isValid(r))throw Error("invalid affine point");if(e instanceof S)throw Error("projective point not allowed");return i.is0(t)&&i.is0(r)?S.ZERO:new S(t,r,i.ONE)}static fromBytes(e){let t=S.fromAffine(d(rO(e,void 0,"point")));return t.assertValidity(),t}static fromHex(e){return S.fromBytes(rD("pointHex",e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return E.createCache(this,e),t||this.multiply(sC),this}assertValidity(){_(this)}hasEvenY(){let{y:e}=this.toAffine();if(!i.isOdd)throw Error("Field doesn't support isOdd");return!i.isOdd(e)}equals(e){b(e);let{X:t,Y:r,Z:n}=this,{X:s,Y:o,Z:a}=e,u=i.eql(i.mul(t,a),i.mul(s,n)),l=i.eql(i.mul(r,a),i.mul(o,n));return u&&l}negate(){return new S(this.X,i.neg(this.Y),this.Z)}double(){let{a:e,b:t}=s,r=i.mul(t,sC),{X:n,Y:o,Z:a}=this,u=i.ZERO,l=i.ZERO,c=i.ZERO,h=i.mul(n,n),d=i.mul(o,o),f=i.mul(a,a),p=i.mul(n,o);return p=i.add(p,p),c=i.mul(n,a),c=i.add(c,c),u=i.mul(e,c),l=i.mul(r,f),l=i.add(u,l),u=i.sub(d,l),l=i.add(d,l),l=i.mul(u,l),u=i.mul(p,u),c=i.mul(r,c),f=i.mul(e,f),p=i.sub(h,f),p=i.mul(e,p),p=i.add(p,c),c=i.add(h,h),h=i.add(c,h),h=i.add(h,f),h=i.mul(h,p),l=i.add(l,h),f=i.mul(o,a),f=i.add(f,f),h=i.mul(f,p),u=i.sub(u,h),c=i.mul(f,d),c=i.add(c,c),new S(u,l,c=i.add(c,c))}add(e){b(e);let{X:t,Y:r,Z:n}=this,{X:o,Y:a,Z:u}=e,l=i.ZERO,c=i.ZERO,h=i.ZERO,d=s.a,f=i.mul(s.b,sC),p=i.mul(t,o),m=i.mul(r,a),g=i.mul(n,u),y=i.add(t,r),v=i.add(o,a);y=i.mul(y,v),v=i.add(p,m),y=i.sub(y,v),v=i.add(t,n);let w=i.add(o,u);return v=i.mul(v,w),w=i.add(p,g),v=i.sub(v,w),w=i.add(r,n),l=i.add(a,u),w=i.mul(w,l),l=i.add(m,g),w=i.sub(w,l),h=i.mul(d,v),l=i.mul(f,g),h=i.add(l,h),l=i.sub(m,h),h=i.add(m,h),c=i.mul(l,h),m=i.add(p,p),m=i.add(m,p),g=i.mul(d,g),v=i.mul(f,v),m=i.add(m,g),g=i.sub(p,g),g=i.mul(d,g),v=i.add(v,g),p=i.mul(m,v),c=i.add(c,p),p=i.mul(w,v),l=i.mul(y,l),l=i.sub(l,p),p=i.mul(y,m),h=i.mul(w,h),new S(l,c,h=i.add(h,p))}subtract(e){return this.add(e.negate())}is0(){return this.equals(S.ZERO)}multiply(e){let r,i,{endo:s}=t;if(!n.isValidNot0(e))throw Error("invalid scalar: out of range");let o=e=>E.cached(this,e,e=>ip(S,e));if(s){let{k1neg:t,k1:n,k2neg:a,k2:u}=v(e),{p:l,f:c}=o(n),{p:h,f:d}=o(u);i=c.add(d),r=x(s.beta,l,h,t,a)}else{let{p:t,f:n}=o(e);r=t,i=n}return ip(S,[r,i])[0]}multiplyUnsafe(e){let{endo:r}=t;if(!n.isValid(e))throw Error("invalid scalar: out of range");if(e===sB||this.is0())return S.ZERO;if(e===sA)return this;if(E.hasCache(this))return this.multiply(e);if(!r)return E.unsafe(this,e);{let{k1neg:t,k1:i,k2neg:n,k2:s}=v(e),{p1:o,p2:a}=function(e,t,r,i){let n=t,s=e.ZERO,o=e.ZERO;for(;r>ic||i>ic;)r&ih&&(s=s.add(n)),i&ih&&(o=o.add(n)),n=n.double(),r>>=ih,i>>=ih;return{p1:s,p2:o}}(S,this,i,s);return x(r.beta,o,a,t,n)}}multiplyAndAddUnsafe(e,t,r){let i=this.multiplyUnsafe(t).add(e.multiplyUnsafe(r));return i.is0()?void 0:i}toAffine(e){return w(this,e)}isTorsionFree(){let{isTorsionFree:e}=t;return o===sA||(e?e(S,this):E.unsafe(this,a).is0())}clearCofactor(){let{clearCofactor:e}=t;return o===sA?this:e?e(S,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(e=!0){return rI(e,"isCompressed"),this.assertValidity(),h(S,this,e)}toHex(e=!0){return(0,rA.bytesToHex)(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(e=!0){return this.toBytes(e)}_setWindowSize(e){this.precompute(e)}static normalizeZ(e){return ip(S,e)}static msm(e,t){return iS(S,n,e,t)}static fromPrivateKey(e){return S.BASE.multiply(sO(n,e))}}S.BASE=new S(s.Gx,s.Gy,i.ONE),S.ZERO=new S(i.ZERO,i.ONE,i.ZERO),S.Fp=i,S.Fn=n;let k=n.BITS,E=new ix(S,t.endo?Math.ceil(k/2):k);return S.BASE.precompute(8),S}(r,i),n,s);return t=o.Point,Object.assign({},o,{ProjectivePoint:t,CURVE:Object.assign({},e,io(t.Fn.ORDER,t.Fn.BITS))})})({...l,hash:e}))(c),create:i});sj.Point;let sF=(n=[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(e=>BigInt(e))).map(e=>Array.from(e).reverse()),(e,t)=>{let[r,i,s,o]=n.map(t=>t.reduce((t,r)=>sD.add(sD.mul(t,e),r))),[a,u]=ii(sD,[i,o],!0);return e=sD.mul(r,a),t=sD.mul(t,sD.mul(s,u)),{x:e,y:t}}),sz=function(e,t){ir(e);let{A:r,B:i,Z:n}=t;if(!e.isValid(r)||!e.isValid(i)||!e.isValid(n))throw Error("mapToCurveSimpleSWU: invalid opts");let s=function(e,t){let r=e.ORDER,i=sB;for(let e=r-sA;e%sT===sB;e/=sT)i+=sA;let n=i,s=sT<<n-sA-sA,o=s*sT,a=(r-sA)/o,u=(a-sA)/sT,l=o-sA,c=e.pow(t,a),h=e.pow(t,(a+sA)/sT),d=(t,r)=>{let i=c,o=e.pow(r,l),a=e.sqr(o);a=e.mul(a,r);let d=e.mul(t,a);d=e.pow(d,u),d=e.mul(d,o),o=e.mul(d,r),a=e.mul(d,t);let f=e.mul(a,o);d=e.pow(f,s);let p=e.eql(d,e.ONE);o=e.mul(a,h),d=e.mul(f,i),a=e.cmov(o,a,p),f=e.cmov(d,f,p);for(let t=n;t>sA;t--){let r=t-sT;r=sT<<r-sA;let n=e.pow(f,r),s=e.eql(n,e.ONE);o=e.mul(a,i),i=e.mul(i,i),n=e.mul(f,i),a=e.cmov(o,a,s),f=e.cmov(n,f,s)}return{isValid:p,value:a}};if(e.ORDER%sI===sC){let r=(e.ORDER-sC)/sI,i=e.sqrt(e.neg(t));d=(t,n)=>{let s=e.sqr(n),o=e.mul(t,n);s=e.mul(s,o);let a=e.pow(s,r);a=e.mul(a,o);let u=e.mul(a,i),l=e.mul(e.sqr(a),n),c=e.eql(l,t),h=e.cmov(u,a,c);return{isValid:c,value:h}}}return d}(e,n);if(!e.isOdd)throw Error("Field does not have .isOdd()");return t=>{let o,a,u,l,c,h,d,f;o=e.sqr(t),o=e.mul(o,n),a=e.sqr(o),a=e.add(a,o),u=e.add(a,e.ONE),u=e.mul(u,i),l=e.cmov(n,e.neg(a),!e.eql(a,e.ZERO)),l=e.mul(l,r),a=e.sqr(u),h=e.sqr(l),c=e.mul(h,r),a=e.add(a,c),a=e.mul(a,u),h=e.mul(h,l),c=e.mul(h,i),a=e.add(a,c),d=e.mul(o,u);let{isValid:p,value:m}=s(a,h);f=e.mul(o,t),f=e.mul(f,m),d=e.cmov(d,u,p),f=e.cmov(f,m,p);let g=e.isOdd(t)===e.isOdd(f);f=e.cmov(e.neg(f),f,g);let y=ii(e,[l],!0)[0];return{x:d=e.mul(d,y),y:f}}}(sD,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:sD.create(BigInt("-11"))});iL(sj.Point,e=>{let{x:t,y:r}=sz(sD.create(e[0]));return sF(t,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:sD.ORDER,m:1,k:128,expand:"xmd",hash:rB.sha256}),iG.utils.randomPrivateKey;let s$=()=>{let e=iG.utils.randomPrivateKey(),t=sZ(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),{publicKey:t,secretKey:r}},sZ=iG.getPublicKey;function sq(e){try{return iG.ExtendedPoint.fromHex(e),!0}catch{return!1}}let sW=(e,t)=>iG.sign(e,t.slice(0,32)),sV=iG.verify,sK=e=>rE.Buffer.isBuffer(e)?e:e instanceof Uint8Array?rE.Buffer.from(e.buffer,e.byteOffset,e.byteLength):rE.Buffer.from(e);class sH{constructor(e){Object.assign(this,e)}encode(){return rE.Buffer.from((0,nt.serialize)(sG,this))}static decode(e){return(0,nt.deserialize)(sG,this,e)}static decodeUnchecked(e){return(0,nt.deserializeUnchecked)(sG,this,e)}}let sG=new Map,sY=1;class sJ extends sH{constructor(e){if(super({}),this._bn=void 0,void 0!==e._bn)this._bn=e._bn;else{if("string"==typeof e){const t=i7.default.decode(e);if(32!=t.length)throw Error("Invalid public key input");this._bn=new i9.default(t)}else this._bn=new i9.default(e);if(this._bn.byteLength()>32)throw Error("Invalid public key input")}}static unique(){let e=new sJ(sY);return sY+=1,new sJ(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return i7.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(rE.Buffer);if(32===e.length)return e;let t=rE.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){let i=rE.Buffer.concat([e.toBuffer(),rE.Buffer.from(t),r.toBuffer()]);return new sJ((0,ne.sha256)(i))}static createProgramAddressSync(e,t){let r=rE.Buffer.alloc(0);e.forEach(function(e){if(e.length>32)throw TypeError("Max seed length exceeded");r=rE.Buffer.concat([r,sK(e)])}),r=rE.Buffer.concat([r,t.toBuffer(),rE.Buffer.from("ProgramDerivedAddress")]);let i=(0,ne.sha256)(r);if(sq(i))throw Error("Invalid seeds, address must fall off the curve");return new sJ(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r,i=255;for(;0!=i;){try{let n=e.concat(rE.Buffer.from([i]));r=this.createProgramAddressSync(n,t)}catch(e){if(e instanceof TypeError)throw e;i--;continue}return[r,i]}throw Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return sq(new sJ(e).toBytes())}}sJ.default=new sJ("11111111111111111111111111111111"),sG.set(sJ,{kind:"struct",fields:[["_bn","u256"]]}),new sJ("BPFLoader1111111111111111111111111111111111"),Object.defineProperty((class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}).prototype,"name",{value:"TransactionExpiredBlockheightExceededError"}),Object.defineProperty((class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}).prototype,"name",{value:"TransactionExpiredTimeoutError"}),Object.defineProperty((class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}).prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class sX{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let t of this.keySegments())if(e<t.length)return t[e];else e-=t.length}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw Error("Account index overflow encountered during compilation");let t=new Map;this.keySegments().flat().forEach((e,r)=>{t.set(e.toBase58(),r)});let r=e=>{let r=t.get(e.toBase58());if(void 0===r)throw Error("Encountered an unknown instruction account key during compilation");return r};return e.map(e=>({programIdIndex:r(e.programId),accountKeyIndexes:e.keys.map(e=>r(e.pubkey)),data:e.data}))}}let sQ=(e="publicKey")=>nr.blob(32,e),s0=(e="string")=>{let t=nr.struct([nr.u32("length"),nr.u32("lengthPadding"),nr.blob(nr.offset(nr.u32(),-8),"chars")],e),r=t.decode.bind(t),i=t.encode.bind(t);return t.decode=(e,t)=>r(e,t).chars.toString(),t.encode=(e,t,r)=>i({chars:rE.Buffer.from(e,"utf8")},t,r),t.alloc=e=>nr.u32().span+nr.u32().span+rE.Buffer.from(e,"utf8").length,t};function s1(e){let t=0,r=0;for(;;){let i=e.shift();if(t|=(127&i)<<7*r,r+=1,(128&i)==0)break}return t}function s2(e,t){let r=t;for(;;){let t=127&r;if(0==(r>>=7)){e.push(t);break}t|=128,e.push(t)}}function s8(e,t){if(!e)throw Error(t||"Assertion failed")}class s6{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){let r=new Map,i=e=>{let t=e.toBase58(),i=r.get(t);return void 0===i&&(i={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(t,i)),i},n=i(t);for(let t of(n.isSigner=!0,n.isWritable=!0,e))for(let e of(i(t.programId).isInvoked=!0,t.keys)){let t=i(e.pubkey);t.isSigner||=e.isSigner,t.isWritable||=e.isWritable}return new s6(t,r)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];s8(e.length<=256,"Max static account keys length exceeded");let t=e.filter(([,e])=>e.isSigner&&e.isWritable),r=e.filter(([,e])=>e.isSigner&&!e.isWritable),i=e.filter(([,e])=>!e.isSigner&&e.isWritable),n=e.filter(([,e])=>!e.isSigner&&!e.isWritable),s={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:n.length};{s8(t.length>0,"Expected at least one writable signer key");let[e]=t[0];s8(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[s,[...t.map(([e])=>new sJ(e)),...r.map(([e])=>new sJ(e)),...i.map(([e])=>new sJ(e)),...n.map(([e])=>new sJ(e))]]}extractTableLookup(e){let[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,e=>!e.isSigner&&!e.isInvoked&&e.isWritable),[i,n]=this.drainKeysFoundInLookupTable(e.state.addresses,e=>!e.isSigner&&!e.isInvoked&&!e.isWritable);if(0!==t.length||0!==i.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:r,readonly:n}]}drainKeysFoundInLookupTable(e,t){let r=[],i=[];for(let[n,s]of this.keyMetaMap.entries())if(t(s)){let t=new sJ(n),s=e.findIndex(e=>e.equals(t));s>=0&&(s8(s<256,"Max lookup table index exceeded"),r.push(s),i.push(t),this.keyMetaMap.delete(n))}return[r,i]}}let s3="Reached end of buffer unexpectedly";function s5(e){if(0===e.length)throw Error(s3);return e.shift()}function s4(e,...t){let[r]=t;if(2===t.length?r+(t[1]??0)>e.length:r>=e.length)throw Error(s3);return e.splice(...t)}class s9{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(e=>new sJ(e)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:i7.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new sX(this.staticAccountKeys)}static compile(e){let[t,r]=s6.compile(e.instructions,e.payerKey).getMessageComponents(),i=new sX(r).compileInstructions(e.instructions).map(e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:i7.default.encode(e.data)}));return new s9({header:t,accountKeys:r,recentBlockhash:e.recentBlockhash,instructions:i})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures;if(!(e>=this.header.numRequiredSignatures))return e<t-this.header.numReadonlySignedAccounts;{let r=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return e-t<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){let e=this.accountKeys.length,t=[];s2(t,e);let r=this.instructions.map(e=>{let{accounts:t,programIdIndex:r}=e,i=Array.from(i7.default.decode(e.data)),n=[];s2(n,t.length);let s=[];return s2(s,i.length),{programIdIndex:r,keyIndicesCount:rE.Buffer.from(n),keyIndices:t,dataLength:rE.Buffer.from(s),data:i}}),i=[];s2(i,r.length);let n=rE.Buffer.alloc(1232);rE.Buffer.from(i).copy(n);let s=i.length;r.forEach(e=>{let t=nr.struct([nr.u8("programIdIndex"),nr.blob(e.keyIndicesCount.length,"keyIndicesCount"),nr.seq(nr.u8("keyIndex"),e.keyIndices.length,"keyIndices"),nr.blob(e.dataLength.length,"dataLength"),nr.seq(nr.u8("userdatum"),e.data.length,"data")]).encode(e,n,s);s+=t}),n=n.slice(0,s);let o=nr.struct([nr.blob(1,"numRequiredSignatures"),nr.blob(1,"numReadonlySignedAccounts"),nr.blob(1,"numReadonlyUnsignedAccounts"),nr.blob(t.length,"keyCount"),nr.seq(sQ("key"),e,"keys"),sQ("recentBlockhash")]),a={numRequiredSignatures:rE.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:rE.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:rE.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:rE.Buffer.from(t),keys:this.accountKeys.map(e=>sK(e.toBytes())),recentBlockhash:i7.default.decode(this.recentBlockhash)},u=rE.Buffer.alloc(2048),l=o.encode(a,u);return n.copy(u,l),u.slice(0,l+n.length)}static from(e){let t=[...e],r=s5(t);if(r!==(127&r))throw Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=s5(t),n=s5(t),s=s1(t),o=[];for(let e=0;e<s;e++){let e=s4(t,0,32);o.push(new sJ(rE.Buffer.from(e)))}let a=s4(t,0,32),u=s1(t),l=[];for(let e=0;e<u;e++){let e=s5(t),r=s1(t),i=s4(t,0,r),n=s1(t),s=s4(t,0,n),o=i7.default.encode(rE.Buffer.from(s));l.push({programIdIndex:e,accounts:i,data:o})}return new s9({header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:n},recentBlockhash:i7.default.encode(rE.Buffer.from(a)),accountKeys:o,instructions:l})}}let s7=rE.Buffer.alloc(64).fill(0);class oe{constructor(e){this.keys=void 0,this.programId=void 0,this.data=rE.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class ot{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!e)return;if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(0===e.length)throw Error("No instructions");return e.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new oe(e))}),this}compileMessage(){let e,t,r;if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw Error("Transaction fee payer required");for(let e=0;e<t.length;e++)if(void 0===t[e].programId)throw Error(`Transaction instruction index ${e} has undefined program id`);let i=[],n=[];t.forEach(e=>{e.keys.forEach(e=>{n.push({...e})});let t=e.programId.toString();i.includes(t)||i.push(t)}),i.forEach(e=>{n.push({pubkey:new sJ(e),isSigner:!1,isWritable:!1})});let s=[];n.forEach(e=>{let t=e.pubkey.toString(),r=s.findIndex(e=>e.pubkey.toString()===t);r>-1?(s[r].isWritable=s[r].isWritable||e.isWritable,s[r].isSigner=s[r].isSigner||e.isSigner):s.push(e)}),s.sort(function(e,t){return e.isSigner!==t.isSigner?e.isSigner?-1:1:e.isWritable!==t.isWritable?e.isWritable?-1:1:e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})});let o=s.findIndex(e=>e.pubkey.equals(r));if(o>-1){let[e]=s.splice(o,1);e.isSigner=!0,e.isWritable=!0,s.unshift(e)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(let e of this.signatures){let t=s.findIndex(t=>t.pubkey.equals(e.publicKey));if(t>-1)s[t].isSigner||(s[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw Error(`unknown signer: ${e.publicKey.toString()}`)}let a=0,u=0,l=0,c=[],h=[];s.forEach(({pubkey:e,isSigner:t,isWritable:r})=>{t?(c.push(e.toString()),a+=1,r||(u+=1)):(h.push(e.toString()),r||(l+=1))});let d=c.concat(h),f=t.map(e=>{let{data:t,programId:r}=e;return{programIdIndex:d.indexOf(r.toString()),accounts:e.keys.map(e=>d.indexOf(e.pubkey.toString())),data:i7.default.encode(t)}});return f.forEach(e=>{s8(e.programIdIndex>=0),e.accounts.forEach(e=>s8(e>=0))}),new s9({header:{numRequiredSignatures:a,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:d,recentBlockhash:e,instructions:f})}_compile(){let e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((e,r)=>t[r].equals(e.publicKey))?e:(this.signatures=t.map(e=>({signature:null,publicKey:e})),e)}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(0===e.length)throw Error("No signers");let t=new Set;this.signatures=e.filter(e=>{let r=e.toString();return!t.has(r)&&(t.add(r),!0)}).map(e=>({signature:null,publicKey:e}))}sign(...e){if(0===e.length)throw Error("No signers");let t=new Set,r=[];for(let i of e){let e=i.publicKey.toString();t.has(e)||(t.add(e),r.push(i))}this.signatures=r.map(e=>({signature:null,publicKey:e.publicKey}));let i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(0===e.length)throw Error("No signers");let t=new Set,r=[];for(let i of e){let e=i.publicKey.toString();t.has(e)||(t.add(e),r.push(i))}let i=this._compile();this._partialSign(i,...r)}_partialSign(e,...t){let r=e.serialize();t.forEach(e=>{let t=sW(r,e.secretKey);this._addSignature(e.publicKey,sK(t))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){s8(64===t.length);let r=this.signatures.findIndex(t=>e.equals(t.publicKey));if(r<0)throw Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=rE.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){let r={};for(let{signature:i,publicKey:n}of this.signatures)null===i?t&&(r.missing||=[]).push(n):sV(i,e,n.toBytes())||(r.invalid||=[]).push(n);return r.invalid||r.missing?r:void 0}serialize(e){let{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){let e=this._getMessageSignednessErrors(i,t);if(e){let t="Signature verification failed.";throw e.invalid&&(t+=`
Invalid signature for public key${1===e.invalid.length?"":"(s)"} [\`${e.invalid.map(e=>e.toBase58()).join("`, `")}\`].`),e.missing&&(t+=`
Missing signature for public key${1===e.missing.length?"":"(s)"} [\`${e.missing.map(e=>e.toBase58()).join("`, `")}\`].`),Error(t)}}return this._serialize(i)}_serialize(e){let{signatures:t}=this,r=[];s2(r,t.length);let i=r.length+64*t.length+e.length,n=rE.Buffer.alloc(i);return s8(t.length<256),rE.Buffer.from(r).copy(n,0),t.forEach(({signature:e},t)=>{null!==e&&(s8(64===e.length,"signature has invalid length"),rE.Buffer.from(e).copy(n,r.length+64*t))}),e.copy(n,r.length+64*t.length),s8(n.length<=1232,`Transaction too large: ${n.length} > 1232`),n}get keys(){return s8(1===this.instructions.length),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return s8(1===this.instructions.length),this.instructions[0].programId}get data(){return s8(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e],r=s1(t),i=[];for(let e=0;e<r;e++){let e=s4(t,0,64);i.push(i7.default.encode(rE.Buffer.from(e)))}return ot.populate(s9.from(t),i)}static populate(e,t=[]){let r=new ot;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((t,i)=>{let n={signature:t==i7.default.encode(s7)?null:i7.default.decode(t),publicKey:e.accountKeys[i]};r.signatures.push(n)}),e.instructions.forEach(t=>{let i=t.accounts.map(t=>{let i=e.accountKeys[t];return{pubkey:i,isSigner:r.signatures.some(e=>e.publicKey.toString()===i.toString())||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}});r.instructions.push(new oe({keys:i,programId:e.accountKeys[t.programIdIndex],data:i7.default.decode(t.data)}))}),r._message=e,r._json=r.toJSON(),r}}let or=new sJ("SysvarC1ock11111111111111111111111111111111");new sJ("SysvarEpochSchedu1e111111111111111111111111"),new sJ("Sysvar1nstructions1111111111111111111111111");let oi=new sJ("SysvarRecentB1ockHashes11111111111111111111"),on=new sJ("SysvarRent111111111111111111111111111111111");new sJ("SysvarRewards111111111111111111111111111111"),new sJ("SysvarS1otHashes111111111111111111111111111"),new sJ("SysvarS1otHistory11111111111111111111111111");let os=new sJ("SysvarStakeHistory1111111111111111111111111");class oo extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:i}){let n;const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";switch(e){case"send":n=`Transaction ${t} resulted in an error. 
${r}. `+s+o;break;case"simulate":n=`Simulation failed. 
Message: ${r}. 
`+s+o;break;default:n=`Unknown action '${e}'`}super(n),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let e=this.transactionLogs;if(null==e||"object"!=typeof e||!("then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(e=>{if(e&&e.meta&&e.meta.logMessages){let r=e.meta.logMessages;this.transactionLogs=r,t(r)}else r(Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}async function oa(e,t,r,i){let n,s=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot},o=await e.sendTransaction(t,r,s);if(null!=t.recentBlockhash&&null!=t.lastValidBlockHeight)n=(await e.confirmTransaction({abortSignal:i?.abortSignal,signature:o,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},i&&i.commitment)).value;else if(null!=t.minNonceContextSlot&&null!=t.nonceInfo){let{nonceInstruction:r}=t.nonceInfo,s=r.keys[0].pubkey;n=(await e.confirmTransaction({abortSignal:i?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:s,nonceValue:t.nonceInfo.nonce,signature:o},i&&i.commitment)).value}else i?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),n=(await e.confirmTransaction(o,i&&i.commitment)).value;if(n.err){if(null!=o)throw new oo({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(n)})`});throw Error(`Transaction ${o} failed (${JSON.stringify(n)})`)}return o}function ou(e,t){let r=e.layout.span>=0?e.layout.span:function e(t,r){let i=t=>{if(t.span>=0)return t.span;if("function"==typeof t.alloc)return t.alloc(r[t.property]);if("count"in t&&"elementLayout"in t){let e=r[t.property];if(Array.isArray(e))return e.length*i(t.elementLayout)}else if("fields"in t)return e({layout:t},r[t.property]);return 0},n=0;return t.layout.fields.forEach(e=>{n+=i(e)}),n}(e,t),i=rE.Buffer.alloc(r),n=Object.assign({instruction:e.index},t);return e.layout.encode(n,i),i}let ol=nr.nu64("lamportsPerSignature"),oc=nr.struct([nr.u32("version"),nr.u32("state"),sQ("authorizedPubkey"),sQ("nonce"),nr.struct([ol],"feeCalculator")]).span;function oh(e){let t=(0,nr.blob)(8,e),r=t.decode.bind(t),i=t.encode.bind(t),n=((e={})=>(function(e,t){if(ns(e)!==ns(t))throw new nn(8078004);if(ns(e)&&ns(t)&&e.fixedSize!==t.fixedSize)throw new nn(8078005,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!ns(e)&&!ns(t)&&e.maxSize!==t.maxSize)throw new nn(8078006,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}})(((e={})=>{var t,r;return Object.freeze({...r={fixedSize:(t={config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),size:8}).size,write(e,r,i){t.range&&function(e,t,r,i){if(i<t||i>r)throw new nn(8078011,{codecDescription:e,max:r,min:t,value:i})}(t.name,t.range[0],t.range[1],e);let n=new ArrayBuffer(t.size);return t.set(new DataView(n),e,na(t.config)),r.set(new Uint8Array(n),i),i+t.size}},encode:e=>{let t=new Uint8Array("fixedSize"in r?r.fixedSize:r.getSizeFromValue(e));return r.write(e,t,0),t}})})(e),((e={})=>{var t,r;return Object.freeze({...r={fixedSize:(t={config:e,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}).size,read(e,r=0){var i,n,s;let o,a;!function(e,t,r=0){if(t.length-r<=0)throw new nn(8078e3,{codecDescription:e})}(t.name,e,r),function(e,t,r,i=0){let n=r.length-i;if(n<t)throw new nn(8078001,{bytesLength:n,codecDescription:e,expected:t})}(t.name,t.size,e,r);let u=new DataView((i=e,n=r,s=t.size,o=i.byteOffset+(n??0),a=s??i.byteLength,i.buffer.slice(o,o+a)));return[t.get(u,na(t.config)),r+t.size]}},decode:(e,t=0)=>r.read(e,t)[0]})})(e)))();return t.decode=(e,t)=>{let i=r(e,t);return n.decode(i)},t.encode=(e,t,r)=>i(n.encode(e),t,r),t}let od=Object.freeze({Create:{index:0,layout:nr.struct([nr.u32("instruction"),nr.ns64("lamports"),nr.ns64("space"),sQ("programId")])},Assign:{index:1,layout:nr.struct([nr.u32("instruction"),sQ("programId")])},Transfer:{index:2,layout:nr.struct([nr.u32("instruction"),oh("lamports")])},CreateWithSeed:{index:3,layout:nr.struct([nr.u32("instruction"),sQ("base"),s0("seed"),nr.ns64("lamports"),nr.ns64("space"),sQ("programId")])},AdvanceNonceAccount:{index:4,layout:nr.struct([nr.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:nr.struct([nr.u32("instruction"),nr.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:nr.struct([nr.u32("instruction"),sQ("authorized")])},AuthorizeNonceAccount:{index:7,layout:nr.struct([nr.u32("instruction"),sQ("authorized")])},Allocate:{index:8,layout:nr.struct([nr.u32("instruction"),nr.ns64("space")])},AllocateWithSeed:{index:9,layout:nr.struct([nr.u32("instruction"),sQ("base"),s0("seed"),nr.ns64("space"),sQ("programId")])},AssignWithSeed:{index:10,layout:nr.struct([nr.u32("instruction"),sQ("base"),s0("seed"),sQ("programId")])},TransferWithSeed:{index:11,layout:nr.struct([nr.u32("instruction"),oh("lamports"),s0("seed"),sQ("programId")])},UpgradeNonceAccount:{index:12,layout:nr.struct([nr.u32("instruction")])}});class of{static createAccount(e){let t=ou(od.Create,{lamports:e.lamports,space:e.space,programId:sK(e.programId.toBuffer())});return new oe({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,r;return"basePubkey"in e?(t=ou(od.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:sK(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]):(t=ou(od.Transfer,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]),new oe({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;return"basePubkey"in e?(t=ou(od.AssignWithSeed,{base:sK(e.basePubkey.toBuffer()),seed:e.seed,programId:sK(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=ou(od.Assign,{programId:sK(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]),new oe({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){let t=ou(od.CreateWithSeed,{base:sK(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:sK(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new oe({keys:r,programId:this.programId,data:t})}static createNonceAccount(e){let t=new ot;"basePubkey"in e&&"seed"in e?t.add(of.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:oc,programId:this.programId})):t.add(of.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:oc,programId:this.programId}));let r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){let t=ou(od.InitializeNonceAccount,{authorized:sK(e.authorizedPubkey.toBuffer())});return new oe({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:oi,isSigner:!1,isWritable:!1},{pubkey:on,isSigner:!1,isWritable:!1}],programId:this.programId,data:t})}static nonceAdvance(e){let t=ou(od.AdvanceNonceAccount);return new oe({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:oi,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceWithdraw(e){let t=ou(od.WithdrawNonceAccount,{lamports:e.lamports});return new oe({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:oi,isSigner:!1,isWritable:!1},{pubkey:on,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){let t=ou(od.AuthorizeNonceAccount,{authorized:sK(e.newAuthorizedPubkey.toBuffer())});return new oe({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,r;return"basePubkey"in e?(t=ou(od.AllocateWithSeed,{base:sK(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:sK(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=ou(od.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]),new oe({keys:r,programId:this.programId,data:t})}}of.programId=new sJ("11111111111111111111111111111111");class op{static getMinNumSignatures(e){return 2*(Math.ceil(e/op.chunkSize)+1+1)}static async load(e,t,r,i,n){{let s=await e.getMinimumBalanceForRentExemption(n.length),o=await e.getAccountInfo(r.publicKey,"confirmed"),a=null;if(null!==o){if(o.executable)return console.error("Program load failed, account is already executable"),!1;o.data.length!==n.length&&(a=a||new ot).add(of.allocate({accountPubkey:r.publicKey,space:n.length})),o.owner.equals(i)||(a=a||new ot).add(of.assign({accountPubkey:r.publicKey,programId:i})),o.lamports<s&&(a=a||new ot).add(of.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:s-o.lamports}))}else a=new ot().add(of.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:s>0?s:1,space:n.length,programId:i}));null!==a&&await oa(e,a,[t,r],{commitment:"confirmed"})}let s=nr.struct([nr.u32("instruction"),nr.u32("offset"),nr.u32("bytesLength"),nr.u32("bytesLengthPadding"),nr.seq(nr.u8("byte"),nr.offset(nr.u32(),-8),"bytes")]),o=op.chunkSize,a=0,u=n,l=[];for(;u.length>0;){let n=u.slice(0,o),c=rE.Buffer.alloc(o+16);s.encode({instruction:0,offset:a,bytes:n,bytesLength:0,bytesLengthPadding:0},c);let h=new ot().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:c});l.push(oa(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await new Promise(e=>setTimeout(e,250)),a+=o,u=u.slice(o)}await Promise.all(l);{let n=nr.struct([nr.u32("instruction")]),s=rE.Buffer.alloc(n.span);n.encode({instruction:1},s);let o=new ot().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:on,isSigner:!1,isWritable:!1}],programId:i,data:s}),a="processed",u=await e.sendTransaction(o,[t,r],{preflightCommitment:a}),{context:l,value:c}=await e.confirmTransaction({signature:u,lastValidBlockHeight:o.lastValidBlockHeight,blockhash:o.recentBlockhash},a);if(c.err)throw Error(`Transaction ${u} failed (${JSON.stringify(c)})`);for(;;){try{if(await e.getSlot({commitment:a})>l.slot)break}catch{}await new Promise(e=>setTimeout(e,Math.round(200)))}}return!0}}op.chunkSize=932,new sJ("BPFLoader2111111111111111111111111111111111");var om={exports:{}};function og(){return w?v:(w=1,v={CURRENT_ID:Symbol("agentkeepalive#currentId"),CREATE_ID:Symbol("agentkeepalive#createId"),INIT_SOCKET:Symbol("agentkeepalive#initSocket"),CREATE_HTTPS_CONNECTION:Symbol("agentkeepalive#createHttpsConnection"),SOCKET_CREATED_TIME:Symbol("agentkeepalive#socketCreatedTime"),SOCKET_NAME:Symbol("agentkeepalive#socketName"),SOCKET_REQUEST_COUNT:Symbol("agentkeepalive#socketRequestCount"),SOCKET_REQUEST_FINISHED_COUNT:Symbol("agentkeepalive#socketRequestFinishedCount")})}function oy(){if(x)return _;x=1;let e=nl.default.Agent,t=function(){if(b)return y;b=1;var e=nu.default,t=function(){if(g)return m;g=1;function e(e,t,r,i){return Math.round(e/r)+" "+i+(t>=1.5*r?"s":"")}return m=function(t,r){r=r||{};var i,n,s,o,a=typeof t;if("string"===a&&t.length>0){var u=t;if(!((u=String(u)).length>100)){var l=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(l){var c=parseFloat(l[1]);switch((l[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*c;case"weeks":case"week":case"w":return 6048e5*c;case"days":case"day":case"d":return 864e5*c;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*c;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*c;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*c;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:break}}}return}if("number"===a&&isFinite(t)){return r.long?(n=Math.abs(i=t))>=864e5?e(i,n,864e5,"day"):n>=36e5?e(i,n,36e5,"hour"):n>=6e4?e(i,n,6e4,"minute"):n>=1e3?e(i,n,1e3,"second"):i+" ms":(o=Math.abs(s=t))>=864e5?Math.round(s/864e5)+"d":o>=36e5?Math.round(s/36e5)+"h":o>=6e4?Math.round(s/6e4)+"m":o>=1e3?Math.round(s/1e3)+"s":s+"ms"}throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}}();return y=function(r){if("number"==typeof r)return r;var i=t(r);return void 0===i&&console.warn(Error(e.format("humanize-ms(%j) result undefined",r)).stack),i}}(),r=nu.default.debuglog("agentkeepalive"),{INIT_SOCKET:i,CURRENT_ID:n,CREATE_ID:s,SOCKET_CREATED_TIME:o,SOCKET_NAME:a,SOCKET_REQUEST_COUNT:u,SOCKET_REQUEST_FINISHED_COUNT:l}=og(),c=1,h=parseInt(process.version.split(".",1)[0].substring(1));function d(e){console.log("[agentkeepalive:deprecated] %s",e)}function f(e){return e.timeout||e._idleTimeout}function p(e){let t={};for(let r in e)t[r]=e[r].length;return t}return h>=11&&h<=12?c=2:h>=13&&(c=3),_=class extends e{constructor(e){(e=e||{}).keepAlive=!1!==e.keepAlive,void 0===e.freeSocketTimeout&&(e.freeSocketTimeout=4e3),e.keepAliveTimeout&&(d("options.keepAliveTimeout is deprecated, please use options.freeSocketTimeout instead"),e.freeSocketTimeout=e.keepAliveTimeout,delete e.keepAliveTimeout),e.freeSocketKeepAliveTimeout&&(d("options.freeSocketKeepAliveTimeout is deprecated, please use options.freeSocketTimeout instead"),e.freeSocketTimeout=e.freeSocketKeepAliveTimeout,delete e.freeSocketKeepAliveTimeout),void 0===e.timeout&&(e.timeout=Math.max(2*e.freeSocketTimeout,8e3)),e.timeout=t(e.timeout),e.freeSocketTimeout=t(e.freeSocketTimeout),e.socketActiveTTL=e.socketActiveTTL?t(e.socketActiveTTL):0,super(e),this[n]=0,this.createSocketCount=0,this.createSocketCountLastCheck=0,this.createSocketErrorCount=0,this.createSocketErrorCountLastCheck=0,this.closeSocketCount=0,this.closeSocketCountLastCheck=0,this.errorSocketCount=0,this.errorSocketCountLastCheck=0,this.requestCount=0,this.requestCountLastCheck=0,this.timeoutSocketCount=0,this.timeoutSocketCountLastCheck=0,this.on("free",e=>{let t=this.calcSocketTimeout(e);t>0&&e.timeout!==t&&e.setTimeout(t)})}get freeSocketKeepAliveTimeout(){return d("agent.freeSocketKeepAliveTimeout is deprecated, please use agent.options.freeSocketTimeout instead"),this.options.freeSocketTimeout}get timeout(){return d("agent.timeout is deprecated, please use agent.options.timeout instead"),this.options.timeout}get socketActiveTTL(){return d("agent.socketActiveTTL is deprecated, please use agent.options.socketActiveTTL instead"),this.options.socketActiveTTL}calcSocketTimeout(e){let t=this.options.freeSocketTimeout,r=this.options.socketActiveTTL;if(r){let i=r-(Date.now()-e[o]);if(i<=0)return i;t&&i<t&&(t=i)}if(t)return e.freeSocketTimeout||e.freeSocketKeepAliveTimeout||t}keepSocketAlive(e){let t=super.keepSocketAlive(e);if(!t)return t;let i=this.calcSocketTimeout(e);return void 0===i||(i<=0?(r("%s(requests: %s, finished: %s) free but need to destroy by TTL, request count %s, diff is %s",e[a],e[u],e[l],i),!1):(e.timeout!==i&&e.setTimeout(i),!0))}reuseSocket(...e){super.reuseSocket(...e);let t=e[0];e[1].reusedSocket=!0;let i=this.options.timeout;f(t)!==i&&(t.setTimeout(i),r("%s reset timeout to %sms",t[a],i)),t[u]++,r("%s(requests: %s, finished: %s) reuse on addRequest, timeout %sms",t[a],t[u],t[l],f(t))}[s](){let e=this[n]++;return this[n]===Number.MAX_SAFE_INTEGER&&(this[n]=0),e}[i](e,t){t.timeout&&(f(e)||e.setTimeout(t.timeout)),this.options.keepAlive&&e.setNoDelay(!0),this.createSocketCount++,this.options.socketActiveTTL&&(e[o]=Date.now()),e[a]=`sock[${this[s]()}#${t._agentKey}]`.split("-----BEGIN",1)[0],e[u]=1,e[l]=0,function(e,t,i){function n(){if(!t._httpMessage&&1===t[u])return;t[l]++,e.requestCount++,r("%s(requests: %s, finished: %s) free",t[a],t[u],t[l]);let n=e.getName(i);t.writable&&e.requests[n]&&e.requests[n].length&&(t[u]++,r("%s(requests: %s, finished: %s) will be reuse on agent free event",t[a],t[u],t[l]))}function s(i){r("%s(requests: %s, finished: %s) close, isError: %s",t[a],t[u],t[l],i),e.closeSocketCount++}function o(){let n=t.listeners("timeout").length,s=f(t),o=t._httpMessage,h=o&&o.listeners("timeout").length||0;r("%s(requests: %s, finished: %s) timeout after %sms, listeners %s, defaultTimeoutListenerCount %s, hasHttpRequest %s, HttpRequest timeoutListenerCount %s",t[a],t[u],t[l],s,n,c,!!o,h),r.enabled&&r("timeout listeners: %s",t.listeners("timeout").map(e=>e.name).join(", ")),e.timeoutSocketCount++;let d=e.getName(i);if(e.freeSockets[d]&&-1!==e.freeSockets[d].indexOf(t))t.destroy(),e.removeSocket(t,i),r("%s is free, destroy quietly",t[a]);else if(0===h){let n=Error("Socket timeout");n.code="ERR_SOCKET_TIMEOUT",n.timeout=s,t.destroy(n),e.removeSocket(t,i),r("%s destroy with timeout error",t[a])}}function h(i){let n=t.listeners("error").length;r("%s(requests: %s, finished: %s) error: %s, listenerCount: %s",t[a],t[u],t[l],i,n),e.errorSocketCount++,1===n&&(r("%s emit uncaught error event",t[a]),t.removeListener("error",h),t.emit("error",i))}r("%s create, timeout %sms",t[a],f(t)),t.on("free",n),t.on("close",s),t.on("timeout",o),t.on("error",h),t.on("agentRemove",function e(){r("%s(requests: %s, finished: %s) agentRemove",t[a],t[u],t[l]),t.removeListener("close",s),t.removeListener("error",h),t.removeListener("free",n),t.removeListener("timeout",o),t.removeListener("agentRemove",e)})}(this,e,t)}createConnection(e,t){let r=!1,n=(n,s)=>{if(!r){if(r=!0,n)return this.createSocketErrorCount++,t(n);this[i](s,e),t(n,s)}},s=super.createConnection(e,n);return s&&n(null,s),s}get statusChanged(){let e=this.createSocketCount!==this.createSocketCountLastCheck||this.createSocketErrorCount!==this.createSocketErrorCountLastCheck||this.closeSocketCount!==this.closeSocketCountLastCheck||this.errorSocketCount!==this.errorSocketCountLastCheck||this.timeoutSocketCount!==this.timeoutSocketCountLastCheck||this.requestCount!==this.requestCountLastCheck;return e&&(this.createSocketCountLastCheck=this.createSocketCount,this.createSocketErrorCountLastCheck=this.createSocketErrorCount,this.closeSocketCountLastCheck=this.closeSocketCount,this.errorSocketCountLastCheck=this.errorSocketCount,this.timeoutSocketCountLastCheck=this.timeoutSocketCount,this.requestCountLastCheck=this.requestCount),e}getCurrentStatus(){return{createSocketCount:this.createSocketCount,createSocketErrorCount:this.createSocketErrorCount,closeSocketCount:this.closeSocketCount,errorSocketCount:this.errorSocketCount,timeoutSocketCount:this.timeoutSocketCount,requestCount:this.requestCount,freeSockets:p(this.freeSockets),sockets:p(this.sockets),requests:p(this.requests)}}}}E||(E=1,om.exports=oy(),om.exports.HttpsAgent=function(){if(k)return S;k=1;let e=nc.default.Agent,t=oy(),{INIT_SOCKET:r,CREATE_HTTPS_CONNECTION:i}=og();class n extends t{constructor(e){super(e),this.defaultPort=443,this.protocol="https:",this.maxCachedSessions=this.options.maxCachedSessions,void 0===this.maxCachedSessions&&(this.maxCachedSessions=100),this._sessionCache={map:{},list:[]}}createConnection(e,t){let n=this[i](e,t);return this[r](n,e),n}}return n.prototype[i]=e.prototype.createConnection,["getName","_getSession","_cacheSession","_evictSession"].forEach(function(t){"function"==typeof e.prototype[t]&&(n.prototype[t]=e.prototype[t])}),S=n}(),om.exports.constants=og()),om.exports,nr.struct([nr.u32("typeIndex"),oh("deactivationSlot"),nr.nu64("lastExtendedSlot"),nr.u8("lastExtendedStartIndex"),nr.u8(),nr.seq(sQ(),nr.offset(nr.u8(),-1),"authority")]);let ob=nR(nS(sJ),nC(),e=>new sJ(e)),ov=nI([nC(),nk("base64")]),ow=nR(nS(rE.Buffer),ov,e=>rE.Buffer.from(e[0],"base64"));function o_(e){return nM([nO({jsonrpc:nk("2.0"),id:nC(),result:e}),nO({jsonrpc:nk("2.0"),id:nC(),error:nO({code:nP(),message:nC(),data:nA(nw("any",()=>!0))})})])}let ox=o_(nP());function oS(e){return nR(o_(e),ox,t=>"error"in t?t:{...t,result:nb(t.result,e)})}function ok(e){return oS(nO({context:nO({slot:nB()}),value:e}))}function oE(e){return nO({context:nO({slot:nB()}),value:e})}let oB=nO({foundation:nB(),foundationTerm:nB(),initial:nB(),taper:nB(),terminal:nB()});oS(n_(nE(nO({epoch:nB(),effectiveSlot:nB(),amount:nB(),postBalance:nB(),commission:nA(nE(nB()))}))));let oA=n_(nO({slot:nB(),prioritizationFee:nB()})),oT=nO({total:nB(),validator:nB(),foundation:nB(),epoch:nB()}),oC=nO({epoch:nB(),slotIndex:nB(),slotsInEpoch:nB(),absoluteSlot:nB(),blockHeight:nA(nB()),transactionCount:nA(nB())}),oI=nO({slotsPerEpoch:nB(),leaderScheduleSlotOffset:nB(),warmup:nx(),firstNormalEpoch:nB(),firstNormalSlot:nB()}),oO=nT(nC(),n_(nB())),oM=nE(nM([nO({}),nC()])),oP=nO({err:oM}),oR=nk("receivedSignature");nO({"solana-core":nC(),"feature-set":nA(nB())});let oN=nO({program:nC(),programId:ob,parsed:nP()}),oL=nO({programId:ob,accounts:n_(ob),data:nC()});ok(nO({err:nE(nM([nO({}),nC()])),logs:nE(n_(nC())),accounts:nA(nE(n_(nE(nO({executable:nx(),owner:nC(),lamports:nB(),data:n_(nC()),rentEpoch:nA(nB())}))))),unitsConsumed:nA(nB()),returnData:nA(nE(nO({programId:nC(),data:nI([nC(),nk("base64")])}))),innerInstructions:nA(nE(n_(nO({index:nB(),instructions:n_(nM([oN,oL]))}))))})),ok(nO({byIdentity:nT(nC(),n_(nB())),range:nO({firstSlot:nB(),lastSlot:nB()})})),oS(oB),oS(oT),oS(oA),oS(oC),oS(oI),oS(oO),oS(nB()),ok(nO({total:nB(),circulating:nB(),nonCirculating:nB(),nonCirculatingAccounts:n_(ob)}));let oU=nO({amount:nC(),uiAmount:nE(nB()),decimals:nB(),uiAmountString:nA(nC())});ok(n_(nO({address:ob,amount:nC(),uiAmount:nE(nB()),decimals:nB(),uiAmountString:nA(nC())}))),ok(n_(nO({pubkey:ob,account:nO({executable:nx(),owner:ob,lamports:nB(),data:ow,rentEpoch:nB()})})));let oD=nO({program:nC(),parsed:nP(),space:nB()});ok(n_(nO({pubkey:ob,account:nO({executable:nx(),owner:ob,lamports:nB(),data:oD,rentEpoch:nB()})}))),ok(n_(nO({lamports:nB(),address:ob})));let oj=nO({executable:nx(),owner:ob,lamports:nB(),data:ow,rentEpoch:nB()});nO({pubkey:ob,account:oj});let oF=nR(nM([nS(rE.Buffer),oD]),nM([ov,oD]),e=>Array.isArray(e)?nb(e,ow):e),oz=nO({executable:nx(),owner:ob,lamports:nB(),data:oF,rentEpoch:nB()});nO({pubkey:ob,account:oz}),nO({state:nM([nk("active"),nk("inactive"),nk("activating"),nk("deactivating")]),active:nB(),inactive:nB()}),oS(n_(nO({signature:nC(),slot:nB(),err:oM,memo:nE(nC()),blockTime:nA(nE(nB()))}))),oS(n_(nO({signature:nC(),slot:nB(),err:oM,memo:nE(nC()),blockTime:nA(nE(nB()))}))),nO({subscription:nB(),result:oE(oj)});let o$=nO({pubkey:ob,account:oj});nO({subscription:nB(),result:oE(o$)});let oZ=nO({parent:nB(),slot:nB(),root:nB()});nO({subscription:nB(),result:oZ});let oq=nM([nO({type:nM([nk("firstShredReceived"),nk("completed"),nk("optimisticConfirmation"),nk("root")]),slot:nB(),timestamp:nB()}),nO({type:nk("createdBank"),parent:nB(),slot:nB(),timestamp:nB()}),nO({type:nk("frozen"),slot:nB(),timestamp:nB(),stats:nO({numTransactionEntries:nB(),numSuccessfulTransactions:nB(),numFailedTransactions:nB(),maxTransactionsPerEntry:nB()})}),nO({type:nk("dead"),slot:nB(),timestamp:nB(),err:nC()})]);nO({subscription:nB(),result:oq}),nO({subscription:nB(),result:oE(nM([oP,oR]))}),nO({subscription:nB(),result:nB()}),nO({pubkey:nC(),gossip:nE(nC()),tpu:nE(nC()),rpc:nE(nC()),version:nE(nC())});let oW=nO({votePubkey:nC(),nodePubkey:nC(),activatedStake:nB(),epochVoteAccount:nx(),epochCredits:n_(nI([nB(),nB(),nB()])),commission:nB(),lastVote:nB(),rootSlot:nE(nB())});oS(nO({current:n_(oW),delinquent:n_(oW)}));let oV=nM([nk("processed"),nk("confirmed"),nk("finalized")]),oK=nO({slot:nB(),confirmations:nE(nB()),err:oM,confirmationStatus:nA(oV)});ok(n_(nE(oK))),oS(nB());let oH=nO({accountKey:ob,writableIndexes:n_(nB()),readonlyIndexes:n_(nB())}),oG=nO({signatures:n_(nC()),message:nO({accountKeys:n_(nC()),header:nO({numRequiredSignatures:nB(),numReadonlySignedAccounts:nB(),numReadonlyUnsignedAccounts:nB()}),instructions:n_(nO({accounts:n_(nB()),data:nC(),programIdIndex:nB()})),recentBlockhash:nC(),addressTableLookups:nA(n_(oH))})}),oY=nO({pubkey:ob,signer:nx(),writable:nx(),source:nA(nM([nk("transaction"),nk("lookupTable")]))}),oJ=nO({accountKeys:n_(oY),signatures:n_(nC())}),oX=nO({parsed:nP(),program:nC(),programId:ob}),oQ=nO({accounts:n_(ob),data:nC(),programId:ob}),o0=nR(nM([oQ,oX]),nM([nO({parsed:nP(),program:nC(),programId:nC()}),nO({accounts:n_(nC()),data:nC(),programId:nC()})]),e=>"accounts"in e?nb(e,oQ):nb(e,oX)),o1=nO({signatures:n_(nC()),message:nO({accountKeys:n_(oY),instructions:n_(o0),recentBlockhash:nC(),addressTableLookups:nA(nE(n_(oH)))})}),o2=nO({accountIndex:nB(),mint:nC(),owner:nA(nC()),programId:nA(nC()),uiTokenAmount:oU}),o8=nO({writable:n_(ob),readonly:n_(ob)}),o6=nO({err:oM,fee:nB(),innerInstructions:nA(nE(n_(nO({index:nB(),instructions:n_(nO({accounts:n_(nB()),data:nC(),programIdIndex:nB()}))})))),preBalances:n_(nB()),postBalances:n_(nB()),logMessages:nA(nE(n_(nC()))),preTokenBalances:nA(nE(n_(o2))),postTokenBalances:nA(nE(n_(o2))),loadedAddresses:nA(o8),computeUnitsConsumed:nA(nB()),costUnits:nA(nB())}),o3=nO({err:oM,fee:nB(),innerInstructions:nA(nE(n_(nO({index:nB(),instructions:n_(o0)})))),preBalances:n_(nB()),postBalances:n_(nB()),logMessages:nA(nE(n_(nC()))),preTokenBalances:nA(nE(n_(o2))),postTokenBalances:nA(nE(n_(o2))),loadedAddresses:nA(o8),computeUnitsConsumed:nA(nB()),costUnits:nA(nB())}),o5=nM([nk(0),nk("legacy")]),o4=nO({pubkey:nC(),lamports:nB(),postBalance:nE(nB()),rewardType:nE(nC()),commission:nA(nE(nB()))});oS(nE(nO({blockhash:nC(),previousBlockhash:nC(),parentSlot:nB(),transactions:n_(nO({transaction:oG,meta:nE(o6),version:nA(o5)})),rewards:nA(n_(o4)),blockTime:nE(nB()),blockHeight:nE(nB())}))),oS(nE(nO({blockhash:nC(),previousBlockhash:nC(),parentSlot:nB(),rewards:nA(n_(o4)),blockTime:nE(nB()),blockHeight:nE(nB())}))),oS(nE(nO({blockhash:nC(),previousBlockhash:nC(),parentSlot:nB(),transactions:n_(nO({transaction:oJ,meta:nE(o6),version:nA(o5)})),rewards:nA(n_(o4)),blockTime:nE(nB()),blockHeight:nE(nB())}))),oS(nE(nO({blockhash:nC(),previousBlockhash:nC(),parentSlot:nB(),transactions:n_(nO({transaction:o1,meta:nE(o3),version:nA(o5)})),rewards:nA(n_(o4)),blockTime:nE(nB()),blockHeight:nE(nB())}))),oS(nE(nO({blockhash:nC(),previousBlockhash:nC(),parentSlot:nB(),transactions:n_(nO({transaction:oJ,meta:nE(o3),version:nA(o5)})),rewards:nA(n_(o4)),blockTime:nE(nB()),blockHeight:nE(nB())}))),oS(nE(nO({blockhash:nC(),previousBlockhash:nC(),parentSlot:nB(),rewards:nA(n_(o4)),blockTime:nE(nB()),blockHeight:nE(nB())}))),oS(nE(nO({blockhash:nC(),previousBlockhash:nC(),parentSlot:nB(),transactions:n_(nO({transaction:oG,meta:nE(o6)})),rewards:nA(n_(o4)),blockTime:nE(nB())}))),oS(nE(nO({blockhash:nC(),previousBlockhash:nC(),parentSlot:nB(),signatures:n_(nC()),blockTime:nE(nB())}))),oS(nE(nO({slot:nB(),meta:nE(o6),blockTime:nA(nE(nB())),transaction:oG,version:nA(o5)}))),oS(nE(nO({slot:nB(),transaction:o1,meta:nE(o3),blockTime:nA(nE(nB())),version:nA(o5)}))),ok(nO({blockhash:nC(),lastValidBlockHeight:nB()})),ok(nx()),oS(n_(nO({slot:nB(),numTransactions:nB(),numSlots:nB(),samplePeriodSecs:nB()}))),ok(nE(nO({feeCalculator:nO({lamportsPerSignature:nB()})}))),oS(nC()),oS(nC());let o9=nO({err:oM,logs:n_(nC()),signature:nC()});nO({result:oE(o9),subscription:nB()});class o7{constructor(e){this._keypair=void 0,this._keypair=e??s$()}static generate(){return new o7(s$())}static fromSecretKey(e,t){if(64!==e.byteLength)throw Error("bad secret key size");let r=e.slice(32,64);if(!t||!t.skipValidation){let t=sZ(e.slice(0,32));for(let e=0;e<32;e++)if(r[e]!==t[e])throw Error("provided secretKey is invalid")}return new o7({publicKey:r,secretKey:e})}static fromSeed(e){let t=sZ(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new o7({publicKey:t,secretKey:r})}get publicKey(){return new sJ(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:nr.struct([nr.u32("instruction"),oh("recentSlot"),nr.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:nr.struct([nr.u32("instruction")])},ExtendLookupTable:{index:2,layout:nr.struct([nr.u32("instruction"),oh(),nr.seq(sQ(),nr.offset(nr.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:nr.struct([nr.u32("instruction")])},CloseLookupTable:{index:4,layout:nr.struct([nr.u32("instruction")])}}),new sJ("AddressLookupTab1e1111111111111111111111111"),Object.freeze({RequestUnits:{index:0,layout:nr.struct([nr.u8("instruction"),nr.u32("units"),nr.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:nr.struct([nr.u8("instruction"),nr.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:nr.struct([nr.u8("instruction"),nr.u32("units")])},SetComputeUnitPrice:{index:3,layout:nr.struct([nr.u8("instruction"),oh("microLamports")])}}),new sJ("ComputeBudget111111111111111111111111111111");let ae=nr.struct([nr.u8("numSignatures"),nr.u8("padding"),nr.u16("signatureOffset"),nr.u16("signatureInstructionIndex"),nr.u16("publicKeyOffset"),nr.u16("publicKeyInstructionIndex"),nr.u16("messageDataOffset"),nr.u16("messageDataSize"),nr.u16("messageInstructionIndex")]);class at{static createInstructionWithPublicKey(e){let{publicKey:t,message:r,signature:i,instructionIndex:n}=e;s8(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),s8(64===i.length,`Signature must be 64 bytes but received ${i.length} bytes`);let s=ae.span,o=s+t.length,a=o+i.length,u=rE.Buffer.alloc(a+r.length),l=null==n?65535:n;return ae.encode({numSignatures:1,padding:0,signatureOffset:o,signatureInstructionIndex:l,publicKeyOffset:s,publicKeyInstructionIndex:l,messageDataOffset:a,messageDataSize:r.length,messageInstructionIndex:l},u),u.fill(t,s),u.fill(i,o),u.fill(r,a),new oe({keys:[],programId:at.programId,data:u})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:r,instructionIndex:i}=e;s8(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{let e=o7.fromSecretKey(t),n=e.publicKey.toBytes(),s=sW(r,e.secretKey);return this.createInstructionWithPublicKey({publicKey:n,message:r,signature:s,instructionIndex:i})}catch(e){throw Error(`Error creating instruction; ${e}`)}}}at.programId=new sJ("Ed25519SigVerify111111111111111111111111111"),sj.utils.isValidPrivateKey;let ar=sj.getPublicKey,ai=nr.struct([nr.u8("numSignatures"),nr.u16("signatureOffset"),nr.u8("signatureInstructionIndex"),nr.u16("ethAddressOffset"),nr.u8("ethAddressInstructionIndex"),nr.u16("messageDataOffset"),nr.u16("messageDataSize"),nr.u8("messageInstructionIndex"),nr.blob(20,"ethAddress"),nr.blob(64,"signature"),nr.u8("recoveryId")]);class an{static publicKeyToEthAddress(e){s8(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return rE.Buffer.from((0,sw.keccak_256)(sK(e))).slice(-20)}catch(e){throw Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(e){let{publicKey:t,message:r,signature:i,recoveryId:n,instructionIndex:s}=e;return an.createInstructionWithEthAddress({ethAddress:an.publicKeyToEthAddress(t),message:r,signature:i,recoveryId:n,instructionIndex:s})}static createInstructionWithEthAddress(e){let t,{ethAddress:r,message:i,signature:n,recoveryId:s,instructionIndex:o=0}=e;s8(20===(t="string"==typeof r?r.startsWith("0x")?rE.Buffer.from(r.substr(2),"hex"):rE.Buffer.from(r,"hex"):r).length,`Address must be 20 bytes but received ${t.length} bytes`);let a=12+t.length,u=a+n.length+1,l=rE.Buffer.alloc(ai.span+i.length);return ai.encode({numSignatures:1,signatureOffset:a,signatureInstructionIndex:o,ethAddressOffset:12,ethAddressInstructionIndex:o,messageDataOffset:u,messageDataSize:i.length,messageInstructionIndex:o,signature:sK(n),ethAddress:sK(t),recoveryId:s},l),l.fill(sK(i),ai.span),new oe({keys:[],programId:an.programId,data:l})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:r,instructionIndex:i}=e;s8(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{var n;let e,s=sK(t),o=ar(s,!1).slice(1),[a,u]=(n=rE.Buffer.from((0,sw.keccak_256)(sK(r))),[(e=sj.sign(n,s)).toCompactRawBytes(),e.recovery]);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,recoveryId:u,instructionIndex:i})}catch(e){throw Error(`Error creating instruction; ${e}`)}}}an.programId=new sJ("KeccakSecp256k11111111111111111111111111111");let as=new sJ("StakeConfig11111111111111111111111111111111");class ao{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}ao.default=new ao(0,0,sJ.default);let aa=Object.freeze({Initialize:{index:0,layout:nr.struct([nr.u32("instruction"),((e="authorized")=>nr.struct([sQ("staker"),sQ("withdrawer")],e))(),((e="lockup")=>nr.struct([nr.ns64("unixTimestamp"),nr.ns64("epoch"),sQ("custodian")],e))()])},Authorize:{index:1,layout:nr.struct([nr.u32("instruction"),sQ("newAuthorized"),nr.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:nr.struct([nr.u32("instruction")])},Split:{index:3,layout:nr.struct([nr.u32("instruction"),nr.ns64("lamports")])},Withdraw:{index:4,layout:nr.struct([nr.u32("instruction"),nr.ns64("lamports")])},Deactivate:{index:5,layout:nr.struct([nr.u32("instruction")])},Merge:{index:7,layout:nr.struct([nr.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:nr.struct([nr.u32("instruction"),sQ("newAuthorized"),nr.u32("stakeAuthorizationType"),s0("authoritySeed"),sQ("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class au{static initialize(e){let{stakePubkey:t,authorized:r,lockup:i}=e,n=i||ao.default,s=ou(aa.Initialize,{authorized:{staker:sK(r.staker.toBuffer()),withdrawer:sK(r.withdrawer.toBuffer())},lockup:{unixTimestamp:n.unixTimestamp,epoch:n.epoch,custodian:sK(n.custodian.toBuffer())}});return new oe({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:on,isSigner:!1,isWritable:!1}],programId:this.programId,data:s})}static createAccountWithSeed(e){let t=new ot;t.add(of.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:r,authorized:i,lockup:n}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:n}))}static createAccount(e){let t=new ot;t.add(of.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:r,authorized:i,lockup:n}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:n}))}static delegate(e){let{stakePubkey:t,authorizedPubkey:r,votePubkey:i}=e,n=ou(aa.Delegate);return new ot().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:or,isSigner:!1,isWritable:!1},{pubkey:os,isSigner:!1,isWritable:!1},{pubkey:as,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static authorize(e){let{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:n,custodianPubkey:s}=e,o=ou(aa.Authorize,{newAuthorized:sK(i.toBuffer()),stakeAuthorizationType:n.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:or,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!0,isWritable:!1}),new ot().add({keys:a,programId:this.programId,data:o})}static authorizeWithSeed(e){let{stakePubkey:t,authorityBase:r,authoritySeed:i,authorityOwner:n,newAuthorizedPubkey:s,stakeAuthorizationType:o,custodianPubkey:a}=e,u=ou(aa.AuthorizeWithSeed,{newAuthorized:sK(s.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:i,authorityOwner:sK(n.toBuffer())}),l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:or,isSigner:!1,isWritable:!1}];return a&&l.push({pubkey:a,isSigner:!0,isWritable:!1}),new ot().add({keys:l,programId:this.programId,data:u})}static splitInstruction(e){let{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:i,lamports:n}=e,s=ou(aa.Split,{lamports:n});return new oe({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static split(e,t){let r=new ot;return r.add(of.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){let{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:n,basePubkey:s,seed:o,lamports:a}=e,u=new ot;return u.add(of.allocate({accountPubkey:n,basePubkey:s,seed:o,space:this.space,programId:this.programId})),t&&t>0&&u.add(of.transfer({fromPubkey:e.authorizedPubkey,toPubkey:n,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:n,lamports:a}))}static merge(e){let{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:i}=e,n=ou(aa.Merge);return new ot().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:or,isSigner:!1,isWritable:!1},{pubkey:os,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static withdraw(e){let{stakePubkey:t,authorizedPubkey:r,toPubkey:i,lamports:n,custodianPubkey:s}=e,o=ou(aa.Withdraw,{lamports:n}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:or,isSigner:!1,isWritable:!1},{pubkey:os,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!0,isWritable:!1}),new ot().add({keys:a,programId:this.programId,data:o})}static deactivate(e){let{stakePubkey:t,authorizedPubkey:r}=e,i=ou(aa.Deactivate);return new ot().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:or,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}au.programId=new sJ("Stake11111111111111111111111111111111111111"),au.space=200;let al=Object.freeze({InitializeAccount:{index:0,layout:nr.struct([nr.u32("instruction"),((e="voteInit")=>nr.struct([sQ("nodePubkey"),sQ("authorizedVoter"),sQ("authorizedWithdrawer"),nr.u8("commission")],e))()])},Authorize:{index:1,layout:nr.struct([nr.u32("instruction"),sQ("newAuthorized"),nr.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:nr.struct([nr.u32("instruction"),nr.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:nr.struct([nr.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:nr.struct([nr.u32("instruction"),((e="voteAuthorizeWithSeedArgs")=>nr.struct([nr.u32("voteAuthorizationType"),sQ("currentAuthorityDerivedKeyOwnerPubkey"),s0("currentAuthorityDerivedKeySeed"),sQ("newAuthorized")],e))()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class ac{static initializeAccount(e){let{votePubkey:t,nodePubkey:r,voteInit:i}=e,n=ou(al.InitializeAccount,{voteInit:{nodePubkey:sK(i.nodePubkey.toBuffer()),authorizedVoter:sK(i.authorizedVoter.toBuffer()),authorizedWithdrawer:sK(i.authorizedWithdrawer.toBuffer()),commission:i.commission}});return new oe({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:on,isSigner:!1,isWritable:!1},{pubkey:or,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static createAccount(e){let t=new ot;return t.add(of.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:n}=e,s=ou(al.Authorize,{newAuthorized:sK(i.toBuffer()),voteAuthorizationType:n.index});return new ot().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:or,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:n,voteAuthorizationType:s,votePubkey:o}=e,a=ou(al.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:sK(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:sK(n.toBuffer()),voteAuthorizationType:s.index}});return new ot().add({keys:[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:or,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static withdraw(e){let{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:n}=e,s=ou(al.Withdraw,{lamports:i});return new ot().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw Error("Withdraw will leave vote account with insufficient funds.");return ac.withdraw(e)}static updateValidatorIdentity(e){let{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,n=ou(al.UpdateValidatorIdentity);return new ot().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}ac.programId=new sJ("Vote111111111111111111111111111111111111111"),ac.space=3762,new sJ("Va1idator1nfo111111111111111111111111111111"),nO({name:nC(),website:nA(nC()),details:nA(nC()),iconUrl:nA(nC()),keybaseUsername:nA(nC())}),new sJ("Vote111111111111111111111111111111111111111"),nr.struct([sQ("nodePubkey"),sQ("authorizedWithdrawer"),nr.u8("commission"),nr.nu64(),nr.seq(nr.struct([nr.nu64("slot"),nr.u32("confirmationCount")]),nr.offset(nr.u32(),-8),"votes"),nr.u8("rootSlotValid"),nr.nu64("rootSlot"),nr.nu64(),nr.seq(nr.struct([nr.nu64("epoch"),sQ("authorizedVoter")]),nr.offset(nr.u32(),-8),"authorizedVoters"),nr.struct([nr.seq(nr.struct([sQ("authorizedPubkey"),nr.nu64("epochOfLastAuthorizedSwitch"),nr.nu64("targetEpoch")]),32,"buf"),nr.nu64("idx"),nr.u8("isEmpty")],"priorVoters"),nr.nu64(),nr.seq(nr.struct([nr.nu64("epoch"),nr.nu64("credits"),nr.nu64("prevCredits")]),nr.offset(nr.u32(),-8),"epochCredits"),nr.struct([nr.nu64("slot"),nr.nu64("timestamp")],"lastTimestamp")]);var ah=e.i(185798);e.i(11553);class ad extends Error{constructor(e,t={}){const r=(()=>{if(t.cause instanceof ad){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause?.message?t.cause.message:t.details})(),i=t.cause instanceof ad&&t.cause.docsPath||t.docsPath,n=`https://oxlib.sh${i??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${n}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=r,this.docs=n,this.docsPath=i,this.shortMessage=e}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&t.cause?e(t.cause,r):r?null:t}(this,e)}}function af(e,t){if(a_(e)>t)throw new ak({givenSize:a_(e),maxSize:t})}function ap(e,t={}){let{dir:r,size:i=32}=t;if(0===i)return e;let n=e.replace("0x","");if(n.length>2*i)throw new aE({size:Math.ceil(n.length/2),targetSize:i,type:"Hex"});return`0x${n["right"===r?"padEnd":"padStart"](2*i,"0")}`}let am=new TextEncoder,ag=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ay(...e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}function ab(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=ag[e[t]];let i=`0x${r}`;return"number"==typeof t.size?(af(i,t.size),aw(i,t.size)):i}function av(e,t){return ap(e,{dir:"left",size:t})}function aw(e,t){return ap(e,{dir:"right",size:t})}function a_(e){return Math.ceil((e.length-2)/2)}function ax(e,t={}){let{signed:r}=t;t.size&&af(e,t.size);let i=BigInt(e);if(!r)return i;let n=(1n<<8n*BigInt((e.length-2)/2))-1n;return i<=n>>1n?i:i-n-1n}class aS extends ad{constructor({max:e,min:t,signed:r,size:i,value:n}){super(`Number \`${n}\` is not in safe${i?` ${8*i}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class ak extends ad{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class aE extends ad{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function aB(e,t){if(aM(e)>t)throw new aL({givenSize:aM(e),maxSize:t})}function aA(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function aT(e,t={}){let{dir:r="left"}=t,i=e,n=0;for(let e=0;e<i.length-1;e++)if("0"===i["left"===r?e:i.length-e-1].toString())n++;else break;return"left"===r?i.slice(n):i.slice(0,i.length-n)}let aC=new TextDecoder,aI=new TextEncoder;function aO(e,t={}){let{size:r}=t,i=e;r&&(af(e,r),i=aw(e,r));let n=i.slice(2);n.length%2&&(n=`0${n}`);let s=n.length/2,o=new Uint8Array(s);for(let e=0,t=0;e<s;e++){let r=aA(n.charCodeAt(t++)),i=aA(n.charCodeAt(t++));if(void 0===r||void 0===i)throw new ad(`Invalid byte sequence ("${n[t-2]}${n[t-1]}" in "${n}").`);o[e]=16*r+i}return o}function aM(e){return e.length}function aP(e,t={}){let{size:r}=t;return void 0!==r&&aB(e,r),function(e,t={}){let{signed:r,size:i}=t;return r||i?Number(ax(e,t)):Number(e)}(ab(e,t),t)}function aR(e){return aT(e,{dir:"left"})}class aN extends ad{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}class aL extends ad{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class aU extends ad{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}}class aD extends ad{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}class aj extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}let aF={checksum:new aj(8192)}.checksum,az=/^0x[a-fA-F0-9]{40}$/;function a$(e,t={}){let{strict:r=!0}=t;if(!az.test(e))throw new aq({address:e,cause:new aW});if(r){if(e.toLowerCase()===e)return;if(aZ(e)!==e)throw new aq({address:e,cause:new aV})}}function aZ(e){if(aF.has(e))return aF.get(e);a$(e,{strict:!1});let t=e.substring(2).toLowerCase(),r=function(e,t={}){var r;let{as:i="string"==typeof e?"Hex":"Bytes"}=t,n=(0,sw.keccak_256)(e instanceof Uint8Array?e:"string"==typeof e?aO(e):(r=e)instanceof Uint8Array?r:new Uint8Array(r));return"Bytes"===i?n:ab(n)}(function(e,t={}){let{size:r}=t,i=aI.encode(e);return"number"==typeof r?(aB(i,r),function(e,t={}){let{dir:r,size:i=32}=t;if(0===i)return e;if(e.length>i)throw new aD({size:e.length,targetSize:i,type:"Bytes"});let n=new Uint8Array(i);for(let t=0;t<i;t++){let s="right"===r;n[s?t:i-t-1]=e[s?t:e.length-t-1]}return n}(i,{dir:"right",size:r})):i}(t),{as:"Bytes"}),i=t.split("");for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&i[e]&&(i[e]=i[e].toUpperCase()),(15&r[e>>1])>=8&&i[e+1]&&(i[e+1]=i[e+1].toUpperCase());let n=`0x${i.join("")}`;return aF.set(e,n),n}class aq extends ad{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class aW extends ad{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class aV extends ad{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}let aK=/^(.*)\[([0-9]*)\]$/,aH=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,aG=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function aY(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function aJ(e){let{type:t}=e;if("string"===t||"bytes"===t||t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(aJ);let r=aY(e.type);return!!(r&&aJ({...e,type:r[1]}))}let aX={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:1/0,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new a1({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new a0({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new aQ({offset:e});let t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new aQ({offset:e});let t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){let r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){let t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){let t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){let t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();let r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();let e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();let e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();let e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();let e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){let t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===1/0)return;let e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};class aQ extends ad{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class a0 extends ad{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class a1 extends ad{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function a2(e,t){if(e.length!==t.length)throw new a5({expectedLength:e.length,givenLength:t.length});let r=[];for(let i=0;i<e.length;i++){let n=e[i],s=t[i];r.push(a2.encode(n,s))}return ay(...r)}(a2||(a2={})).encode=function e(t,r,i=!1){if("address"===t)return a$(r),av(r.toLowerCase(),32*!!i);if("string"===t)return function(e,t={}){return ab(am.encode(e),t)}(r);if("bytes"===t)return r;if("bool"===t)return av(function(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?(af(r,t.size),av(r,t.size)):r}(r),i?32:1);let n=t.match(aG);if(n){let[e,t,s="256"]=n,o=Number.parseInt(s)/8;return function(e,t={}){let r,{signed:i,size:n}=t,s=BigInt(e);n?r=i?(1n<<8n*BigInt(n)-1n)-1n:2n**(8n*BigInt(n))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let o="bigint"==typeof r&&i?-r-1n:0;if(r&&s>r||s<o){let t="bigint"==typeof e?"n":"";throw new aS({max:r?`${r}${t}`:void 0,min:`${o}${t}`,signed:i,size:n,value:`${e}${t}`})}let a=(i&&s<0?(1n<<BigInt(8*n))+BigInt(s):s).toString(16),u=`0x${a}`;return n?av(u,n):u}(r,{size:i?32:o,signed:"int"===t})}let s=t.match(aH);if(s){let[e,t]=s;if(Number.parseInt(t)!==(r.length-2)/2)throw new a3({expectedSize:Number.parseInt(t),value:r});return aw(r,32*!!i)}let o=t.match(aK);if(o&&Array.isArray(r)){let[t,i]=o,n=[];for(let t=0;t<r.length;t++)n.push(e(i,r[t],!0));return 0===n.length?"0x":ay(...n)}throw new a4(t)};class a8 extends ad{constructor({data:e,parameters:t,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${ah.formatAbiParameters(t)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class a6 extends ad{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class a3 extends ad{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${a_(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class a5 extends ad{constructor({expectedLength:e,givenLength:t}){super(`ABI encoding parameters/values length mismatch.
Expected length (parameters): ${e}
Given length (values): ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class a4 extends ad{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}var tY=tY;class a9 extends Error{name="BaseError";cause;constructor(e,t){super(e),this.cause=t}}let a7=[{components:[{name:"requestFid",type:"uint256"},{name:"requestSigner",type:"address"},{name:"signature",type:"bytes"},{name:"deadline",type:"uint256"}],name:"SignedKeyRequest",type:"tuple"}],ue=tY.object({events:tY.array(tY.object({signerEventBody:tY.object({key:tY.string(),metadata:tY.string()})}))});class ut extends a9{name="VerifyJsonFarcasterSignature.InvalidDataError"}class ur extends a9{name="VerifyJsonFarcasterSignature.InvalidAppKeyError"}class ui extends a9{name="VerifyJsonFarcasterSignature.VerifyAppKeyError"}async function un(e,t){let r,i,n,s=t9.safeParse(e);if(!1===s.success)throw new ut("Error parsing data",s.error);try{r=JSON.parse(Buffer.from(s.data.header,"base64url").toString("utf-8"))}catch(e){throw new ut("Error decoding and parsing header")}let o=t7.safeParse(r);if(!1===o.success)throw new ut("Error parsing header",o.error);let a=Buffer.from(s.data.payload,"base64url"),u=Buffer.from(s.data.signature,"base64url");if(64!==u.byteLength)throw new ut("Invalid signature length");let l=o.data.fid,c=o.data.key,h=Uint8Array.from(Buffer.from(c.startsWith("0x")?c.slice(2):c,"hex")),d=new Uint8Array(Buffer.from(s.data.header+"."+s.data.payload));try{i=iG.verify(u,d,h)}catch(e){throw new ut("Error checking signature",e instanceof Error?e:void 0)}if(!i)throw new ut("Invalid signature");try{n=await t(l,c)}catch(e){throw new ui("Error verifying app key",e instanceof Error?e:void 0)}if(!n.valid)throw new ur("App key not valid for FID");return{fid:l,appFid:n.appFid,payload:a}}let us=process.env.NEYNAR_API_KEY||"",uo=async(e,t)=>{let r;if(!us)throw Error("Environment variable NEYNAR_API_KEY needs to be set to use Neynar for app key verification");return(r={headers:{"x-api-key":us}},async(e,t)=>{let i=new URL("/v1/onChainSignersByFid","https://hub-api.neynar.com");i.searchParams.append("fid",e.toString());let n=await fetch(i,r);if(200!==n.status)throw new a9(`Non-200 response received: ${await n.text()}`);let s=await n.json(),o=ue.safeParse(s);if(o.error)throw new a9("Error parsing Hub response",o.error);let a=t.toLowerCase(),u=o.data.events.find(e=>e.signerEventBody.key.toLowerCase()===a);if(!u)return{valid:!1};let l=function(e,t,r={}){let{as:i="Array",checksumAddress:n=!1}=r,s="string"==typeof t?aO(t):t,o=function(e,{recursiveReadLimit:t=8192}={}){let r=Object.create(aX);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}(s);if(0===aM(s)&&e.length>0)throw new a6;if(aM(s)&&32>aM(s))throw new a8({data:"string"==typeof t?t:ab(t),parameters:e,size:aM(s)});let a=0,u="Array"===i?[]:{};for(let t=0;t<e.length;++t){let r=e[t];o.setPosition(a);let[s,l]=function e(t,r,i){let{checksumAddress:n,staticPosition:s}=i,o=aY(r.type);if(o){let[i,a]=o;return function(t,r,i){let{checksumAddress:n,length:s,staticPosition:o}=i;if(!s){let i=o+aP(t.readBytes(32)),s=i+32;t.setPosition(i);let a=aP(t.readBytes(32)),u=aJ(r),l=0,c=[];for(let i=0;i<a;++i){t.setPosition(s+(u?32*i:l));let[o,a]=e(t,r,{checksumAddress:n,staticPosition:s});l+=a,c.push(o)}return t.setPosition(o+32),[c,32]}if(aJ(r)){let i=o+aP(t.readBytes(32)),a=[];for(let o=0;o<s;++o){t.setPosition(i+32*o);let[s]=e(t,r,{checksumAddress:n,staticPosition:i});a.push(s)}return t.setPosition(o+32),[a,32]}let a=0,u=[];for(let i=0;i<s;++i){let[i,s]=e(t,r,{checksumAddress:n,staticPosition:o+a});a+=s,u.push(i)}return[u,a]}(t,{...r,type:a},{checksumAddress:n,length:i,staticPosition:s})}if("tuple"===r.type)return function(t,r,i){let{checksumAddress:n,staticPosition:s}=i,o=0===r.components.length||r.components.some(({name:e})=>!e),a=o?[]:{},u=0;if(aJ(r)){let i=s+aP(t.readBytes(32));for(let s=0;s<r.components.length;++s){let l=r.components[s];t.setPosition(i+u);let[c,h]=e(t,l,{checksumAddress:n,staticPosition:i});u+=h,a[o?s:l?.name]=c}return t.setPosition(s+32),[a,32]}for(let i=0;i<r.components.length;++i){let l=r.components[i],[c,h]=e(t,l,{checksumAddress:n,staticPosition:s});a[o?i:l?.name]=c,u+=h}return[a,u]}(t,r,{checksumAddress:n,staticPosition:s});if("address"===r.type)return function(e,t={}){let r,{checksum:i=!1}=t;return[(r=ab(function(e,t,r,i={}){let{strict:n}=i;!1;let s=e.slice(-20,void 0);return n&&function(e,t,r){if("number"==typeof r&&aM(e)!==r- -20)throw new aU({offset:r,position:"end",size:aM(e)})}(s,0,void 0),s}(e.readBytes(32),0)),i?aZ(r):r),32]}(t,{checksum:n});if("bool"===r.type)return[function(e,t={}){let{size:r}=t,i=e;if(void 0!==r&&(aB(i,r),i=aR(i)),i.length>1||i[0]>1)throw new aN(i);return!!i[0]}(t.readBytes(32),{size:32}),32];if(r.type.startsWith("bytes"))return function(e,t,{staticPosition:r}){let[i,n]=t.type.split("bytes");if(!n){let t=aP(e.readBytes(32));e.setPosition(r+t);let i=aP(e.readBytes(32));if(0===i)return e.setPosition(r+32),["0x",32];let n=e.readBytes(i);return e.setPosition(r+32),[ab(n),32]}return[ab(e.readBytes(Number.parseInt(n),32)),32]}(t,r,{staticPosition:s});if(r.type.startsWith("uint")||r.type.startsWith("int")){var a,u;let e,i,n;return a=t,e=(u=r).type.startsWith("int"),i=Number.parseInt(u.type.split("int")[1]||"256"),n=a.readBytes(32),[i>48?function(e,t={}){let{size:r}=t;return void 0!==r&&aB(e,r),ax(ab(e,t),t)}(n,{signed:e}):aP(n,{signed:e}),32]}if("string"===r.type)return function(e,{staticPosition:t}){let r=aP(e.readBytes(32));e.setPosition(t+r);let i=aP(e.readBytes(32));if(0===i)return e.setPosition(t+32),["",32];let n=function(e,t={}){let{size:r}=t,i=e;return void 0!==r&&(aB(i,r),i=aT(i,{dir:"right"})),aC.decode(i)}(aR(e.readBytes(i,32)));return e.setPosition(t+32),[n,32]}(t,{staticPosition:s});throw new a4(r.type)}(o,r,{checksumAddress:n,staticPosition:0});a+=l,"Array"===i?u.push(s):u[r.name??t]=s}return u}(a7,Buffer.from(u.signerEventBody.metadata,"base64"));if(1!==l.length)throw new a9("Error decoding metadata");return{valid:!0,appFid:Number(l[0].requestFid)}})(e,t)};class ua extends a9{name="VerifyJsonFarcasterSignature.InvalidEventDataError"}let uu={frame_added:"miniapp_added",frame_removed:"miniapp_removed",frame_add_rejected:"miniapp_add_rejected"};async function ul(e,t){let r,{fid:i,appFid:n,payload:s}=await un(e,t);try{r=JSON.parse(Buffer.from(s).toString("utf-8"))}catch(e){throw new ua("Error decoding and parsing payload",e instanceof Error?e:void 0)}let o=r&&"string"==typeof r.event?{...r,event:uu[r.event]??r.event}:r,a=rc.safeParse(o);if(!1===a.success)throw new ua("Invalid event payload",a.error);return{fid:i,appFid:n,event:a.data}}let uc=process.env.SUPABASE_URL||process.env.SUPABASE_URI,uh=process.env.SUPABASE_SERVICE_ROLE_KEY,ud=process.env.SUPABASE_KV_TABLE||"holymarket_kv";function uf(){return new Date().toISOString()}function up(){return uc&&uh?(0,q.createClient)(uc,uh,{auth:{persistSession:!1,autoRefreshToken:!1}}):null}function um(e){return`notif_v1:${e}`}async function ug(e,t){let r=up();if(!r)throw Error("Supabase not configured");let i={fid:e,token:String(t.token),url:String(t.url),updatedAt:uf()},{error:n}=await r.from(ud).upsert({key:um(e),value:i});if(n)throw n}async function uy(e){let t=up();if(!t)throw Error("Supabase not configured");let{error:r}=await t.from(ud).delete().eq("key",um(e));if(r)throw r}async function ub(){try{console.log("miniapp_webhook:ping",{at:uf()})}catch{}return Z.NextResponse.json({ok:!0})}async function uv(e){try{let t,r=await e.text().catch(()=>"");if(!r||r.length<2)return Z.NextResponse.json({success:!0,message:"Probe OK"});let i=null;try{i=JSON.parse(r)}catch{return Z.NextResponse.json({success:!0,message:"Invalid JSON but OK for probe"})}if(!process.env.NEYNAR_API_KEY)return console.error("miniapp_webhook:missing_neynar_key"),Z.NextResponse.json({success:!0,warning:"Missing NEYNAR_API_KEY"});try{t=await ul(i,uo)}catch(e){return console.log("miniapp_webhook:verify_failed_but_ok_for_probe",e?.message),Z.NextResponse.json({success:!0,warning:"Verification failed but accepted for tunnel"})}let n=Number(t?.fid),s=t?.event;try{console.log("miniapp_webhook:verified",{at:uf(),fid:n,type:String(s?.event||""),hasNotificationDetails:!!(s?.notificationDetails?.token&&s?.notificationDetails?.url)})}catch{}if(!Number.isFinite(n)||n<=0)return Z.NextResponse.json({success:!1,error:"Invalid fid"},{status:400});try{switch(s?.event){case"miniapp_added":case"notifications_enabled":s.notificationDetails?.token&&s.notificationDetails?.url&&await ug(n,s.notificationDetails);break;case"miniapp_removed":case"notifications_disabled":await uy(n)}}catch(e){return Z.NextResponse.json({success:!1,error:"Failed to persist notification details",detail:String(e?.message||e)},{status:500})}return Z.NextResponse.json({success:!0})}catch(e){return console.error("miniapp_webhook:global_error",e?.message),Z.NextResponse.json({success:!0,error:"Global catch"})}}e.s(["GET",()=>ub,"POST",()=>uv,"runtime",0,"nodejs"],444877);var uw=e.i(444877);let u_=new B.AppRouteRouteModule({definition:{kind:A.RouteKind.APP_ROUTE,page:"/api/farcaster/webhook/route",pathname:"/api/farcaster/webhook",filename:"route",bundlePath:""},distDir:"build_next",relativeProjectDir:"",resolvedPagePath:"[project]/.gemini/antigravity/scratch/folymarket/app/api/farcaster/webhook/route.ts",nextConfigOutput:"",userland:uw}),{workAsyncStorage:ux,workUnitAsyncStorage:uS,serverHooks:uk}=u_;function uE(){return(0,T.patchFetch)({workAsyncStorage:ux,workUnitAsyncStorage:uS})}async function uB(e,t,r){u_.isDev&&(0,C.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let i="/api/farcaster/webhook/route";i=i.replace(/\/index$/,"")||"/";let n=await u_.prepare(e,t,{srcPage:i,multiZoneDraftMode:!1});if(!n)return t.statusCode=400,t.end("Bad Request"),null==r.waitUntil||r.waitUntil.call(r,Promise.resolve()),null;let{buildId:s,params:o,nextConfig:a,parsedUrl:u,isDraftMode:l,prerenderManifest:c,routerServerContext:h,isOnDemandRevalidate:d,revalidateOnlyGenerated:f,resolvedPathname:p,clientReferenceManifest:m,serverActionsManifest:g}=n,y=(0,M.normalizeAppPath)(i),b=!!(c.dynamicRoutes[y]||c.routes[p]),v=async()=>((null==h?void 0:h.render404)?await h.render404(e,t,u,!1):t.end("This page could not be found"),null);if(b&&!l){let e=!!c.routes[p],t=c.dynamicRoutes[y];if(t&&!1===t.fallback&&!e){if(a.experimental.adapterPath)return await v();throw new z.NoFallbackError}}let w=null;!b||u_.isDev||l||(w="/index"===(w=p)?"/":w);let _=!0===u_.isDev||!b,x=b&&!_;g&&m&&(0,O.setManifestsSingleton)({page:i,clientReferenceManifest:m,serverActionsManifest:g});let S=e.method||"GET",k=(0,I.getTracer)(),E=k.getActiveScopeSpan(),B={params:o,prerenderManifest:c,renderOpts:{experimental:{authInterrupts:!!a.experimental.authInterrupts},cacheComponents:!!a.cacheComponents,supportsDynamicResponse:_,incrementalCache:(0,C.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:a.cacheLife,waitUntil:r.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,i,n)=>u_.onRequestError(e,t,i,n,h)},sharedContext:{buildId:s}},T=new P.NodeNextRequest(e),Z=new P.NodeNextResponse(t),q=R.NextRequestAdapter.fromNodeNextRequest(T,(0,R.signalFromNodeResponse)(t));try{let n=async e=>u_.handle(q,B).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let r=k.getRootSpanAttributes();if(!r)return;if(r.get("next.span_type")!==N.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${r.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let n=r.get("next.route");if(n){let t=`${S} ${n}`;e.setAttributes({"next.route":n,"http.route":n,"next.span_name":t}),e.updateName(t)}else e.updateName(`${S} ${i}`)}),s=!!(0,C.getRequestMeta)(e,"minimalMode"),o=async o=>{var u,p;let m=async({previousCacheEntry:a})=>{try{if(!s&&d&&f&&!a)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let i=await n(o);e.fetchMetrics=B.renderOpts.fetchMetrics;let u=B.renderOpts.pendingWaitUntil;u&&r.waitUntil&&(r.waitUntil(u),u=void 0);let l=B.renderOpts.collectedTags;if(!b)return await (0,U.sendResponse)(T,Z,i,B.renderOpts.pendingWaitUntil),null;{let e=await i.blob(),t=(0,D.toNodeOutgoingHttpHeaders)(i.headers);l&&(t[F.NEXT_CACHE_TAGS_HEADER]=l),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==B.renderOpts.collectedRevalidate&&!(B.renderOpts.collectedRevalidate>=F.INFINITE_CACHE)&&B.renderOpts.collectedRevalidate,n=void 0===B.renderOpts.collectedExpire||B.renderOpts.collectedExpire>=F.INFINITE_CACHE?void 0:B.renderOpts.collectedExpire;return{value:{kind:$.CachedRouteKind.APP_ROUTE,status:i.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:n}}}}catch(t){throw(null==a?void 0:a.isStale)&&await u_.onRequestError(e,t,{routerKind:"App Router",routePath:i,routeType:"route",revalidateReason:(0,L.getRevalidateReason)({isStaticGeneration:x,isOnDemandRevalidate:d})},!1,h),t}},g=await u_.handleResponse({req:e,nextConfig:a,cacheKey:w,routeKind:A.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:c,isRoutePPREnabled:!1,isOnDemandRevalidate:d,revalidateOnlyGenerated:f,responseGenerator:m,waitUntil:r.waitUntil,isMinimalMode:s});if(!b)return null;if((null==g||null==(u=g.value)?void 0:u.kind)!==$.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==g||null==(p=g.value)?void 0:p.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});s||t.setHeader("x-nextjs-cache",d?"REVALIDATED":g.isMiss?"MISS":g.isStale?"STALE":"HIT"),l&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let y=(0,D.fromNodeOutgoingHttpHeaders)(g.value.headers);return s&&b||y.delete(F.NEXT_CACHE_TAGS_HEADER),!g.cacheControl||t.getHeader("Cache-Control")||y.get("Cache-Control")||y.set("Cache-Control",(0,j.getCacheControlHeader)(g.cacheControl)),await (0,U.sendResponse)(T,Z,new Response(g.value.body,{headers:y,status:g.value.status||200})),null};E?await o(E):await k.withPropagatedContext(e.headers,()=>k.trace(N.BaseServerSpan.handleRequest,{spanName:`${S} ${i}`,kind:I.SpanKind.SERVER,attributes:{"http.method":S,"http.target":e.url}},o))}catch(t){if(t instanceof z.NoFallbackError||await u_.onRequestError(e,t,{routerKind:"App Router",routePath:y,routeType:"route",revalidateReason:(0,L.getRevalidateReason)({isStaticGeneration:x,isOnDemandRevalidate:d})},!1,h),b)throw t;return await (0,U.sendResponse)(T,Z,new Response(null,{status:500})),null}}e.s(["handler",()=>uB,"patchFetch",()=>uE,"routeModule",()=>u_,"serverHooks",()=>uk,"workAsyncStorage",()=>ux,"workUnitAsyncStorage",()=>uS],99829)}];

//# sourceMappingURL=28ea8_397c5051._.js.map